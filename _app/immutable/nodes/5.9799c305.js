import{S as re,i as le,s as te,M as oe,k as A,a as B,l as C,m as P,c as H,h as b,X as ve,n as T,b as E,G as I,a2 as Ue,I as U,g as F,v as $,d as O,f as ee,Y as Ye,K as ue,Z as Ve,a3 as Pn,j as ui,N as _e,Q as pt,R as gt,T as bt,U as vt,a1 as he,P as Z,a4 as ci,a5 as Ne,a6 as Pe,D as fi,o as Xe,a7 as di,y as K,z as J,A as Y,B as X,q as z,r as j,u as Q,a8 as At,J as R,e as W,a9 as hi,C as mi,F as pi,aa as Ct,w as Ge,$ as qe,ab as Ze,a0 as xe,H as Nn,E as Fn}from"../chunks/index.897971b5.js";import{P as Mn,I as Ln}from"../chunks/InjectMD.323158ff.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.84e8538a.js";import{b as On}from"../chunks/paths.04ba18d3.js";const gi=i=>({}),Pt=i=>({});function Nt(i,e,t){const n=i.slice();return n[23]=e[t],n}function Ft(i){let e,t;const n=i[15].default,s=pt(n,i,i[14],null);return{c(){e=A("label"),s&&s.c(),this.h()},l(r){e=C(r,"LABEL",{class:!0,for:!0});var l=P(e);s&&s.l(l),l.forEach(b),this.h()},h(){T(e,"class","range-slider-label "+_i),T(e,"for",i[2])},m(r,l){E(r,e,l),s&&s.m(e,null),t=!0},p(r,l){s&&s.p&&(!t||l&16384)&&gt(s,n,r,r[14],t?vt(n,r[14],l,null):bt(r[14]),null),(!t||l&4)&&T(e,"for",r[2])},i(r){t||(F(s,r),t=!0)},o(r){O(s,r),t=!1},d(r){r&&b(e),s&&s.d(r)}}}function Mt(i){let e,t,n=i[8],s=[];for(let r=0;r<n.length;r+=1)s[r]=Lt(Nt(i,n,r));return{c(){e=A("datalist");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=C(r,"DATALIST",{id:!0,class:!0});var l=P(e);for(let a=0;a<s.length;a+=1)s[a].l(l);l.forEach(b),this.h()},h(){T(e,"id",t="tickmarks-"+i[2]),T(e,"class","range-slider-ticks")},m(r,l){E(r,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(r,l){if(l&256){n=r[8];let a;for(a=0;a<n.length;a+=1){const o=Nt(r,n,a);s[a]?s[a].p(o,l):(s[a]=Lt(o),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}l&4&&t!==(t="tickmarks-"+r[2])&&T(e,"id",t)},d(r){r&&b(e),he(s,r)}}}function Lt(i){let e,t,n;return{c(){e=A("option"),this.h()},l(s){e=C(s,"OPTION",{label:!0}),P(e).forEach(b),this.h()},h(){e.__value=t=i[23],e.value=e.__value,T(e,"label",n=i[23])},m(s,r){E(s,e,r)},p(s,r){r&256&&t!==(t=s[23])&&(e.__value=t,e.value=e.__value),r&256&&n!==(n=s[23])&&T(e,"label",n)},d(s){s&&b(e)}}}function Ot(i){let e,t;const n=i[15].trail,s=pt(n,i,i[14],Pt);return{c(){e=A("div"),s&&s.c(),this.h()},l(r){e=C(r,"DIV",{class:!0});var l=P(e);s&&s.l(l),l.forEach(b),this.h()},h(){T(e,"class","range-slider-trail")},m(r,l){E(r,e,l),s&&s.m(e,null),t=!0},p(r,l){s&&s.p&&(!t||l&16384)&&gt(s,n,r,r[14],t?vt(n,r[14],l,gi):bt(r[14]),Pt)},i(r){t||(F(s,r),t=!0)},o(r){O(s,r),t=!1},d(r){r&&b(e),s&&s.d(r)}}}function bi(i){let e,t,n,s,r,l,a,o,u,d,f,c,p=i[12].default&&Ft(i),m=[{type:"range"},{id:i[2]},{name:i[1]},{class:r="range-slider-input "+i[9]},{list:l="tickmarks-"+i[2]},{"aria-label":i[7]},{min:i[3]},{max:i[4]},{step:i[5]},i[11]()],y={};for(let g=0;g<m.length;g+=1)y=oe(y,m[g]);let _=i[6]&&i[8]&&i[8].length&&Mt(i),v=i[12].trail&&Ot(i);return{c(){e=A("div"),p&&p.c(),t=B(),n=A("div"),s=A("input"),a=B(),_&&_.c(),o=B(),v&&v.c(),this.h()},l(g){e=C(g,"DIV",{class:!0,"data-testid":!0});var h=P(e);p&&p.l(h),t=H(h),n=C(h,"DIV",{class:!0});var k=P(n);s=C(k,"INPUT",{type:!0,id:!0,name:!0,class:!0,list:!0,"aria-label":!0,min:!0,max:!0,step:!0}),a=H(k),_&&_.l(k),k.forEach(b),o=H(h),v&&v.l(h),h.forEach(b),this.h()},h(){ve(s,y),T(n,"class","range-content "+yi),T(e,"class",u="range-slider "+i[10]),T(e,"data-testid","range-slider")},m(g,h){E(g,e,h),p&&p.m(e,null),I(e,t),I(e,n),I(n,s),s.autofocus&&s.focus(),Ue(s,i[0]),I(n,a),_&&_.m(n,null),I(e,o),v&&v.m(e,null),d=!0,f||(c=[U(s,"change",i[19]),U(s,"input",i[19]),U(s,"click",i[16]),U(s,"change",i[17]),U(s,"blur",i[18])],f=!0)},p(g,[h]){g[12].default?p?(p.p(g,h),h&4096&&F(p,1)):(p=Ft(g),p.c(),F(p,1),p.m(e,t)):p&&($(),O(p,1,1,()=>{p=null}),ee()),ve(s,y=Ye(m,[{type:"range"},(!d||h&4)&&{id:g[2]},(!d||h&2)&&{name:g[1]},(!d||h&512&&r!==(r="range-slider-input "+g[9]))&&{class:r},(!d||h&4&&l!==(l="tickmarks-"+g[2]))&&{list:l},(!d||h&128)&&{"aria-label":g[7]},(!d||h&8)&&{min:g[3]},(!d||h&16)&&{max:g[4]},(!d||h&32)&&{step:g[5]},g[11]()])),h&1&&Ue(s,g[0]),g[6]&&g[8]&&g[8].length?_?_.p(g,h):(_=Mt(g),_.c(),_.m(n,null)):_&&(_.d(1),_=null),g[12].trail?v?(v.p(g,h),h&4096&&F(v,1)):(v=Ot(g),v.c(),F(v,1),v.m(e,null)):v&&($(),O(v,1,1,()=>{v=null}),ee()),(!d||h&1024&&u!==(u="range-slider "+g[10]))&&T(e,"class",u)},i(g){d||(F(p),F(v),d=!0)},o(g){O(p),O(v),d=!1},d(g){g&&b(e),p&&p.d(),_&&_.d(),v&&v.d(),f=!1,ue(c)}}}const vi="space-y-2",_i="",yi="flex justify-center py-2",ki="w-full h-2";function Ti(i,e,t){let n,s;const r=["name","id","value","min","max","step","ticked","accent","label"];let l=Ve(e,r),{$$slots:a={},$$scope:o}=e;const u=Pn(a);let{name:d}=e,{id:f=String(Math.random())}=e,{value:c=0}=e,{min:p=0}=e,{max:m=100}=e,{step:y=1}=e,{ticked:_=!1}=e,{accent:v="accent-surface-900 dark:accent-surface-50"}=e,{label:g=""}=e,h;function k(){_!=!1&&t(8,h=Array.from({length:m-p+1},(M,q)=>q+p))}_&&k(),ui(()=>{k()});function S(){return delete l.class,l}function w(M){Z.call(this,i,M)}function L(M){Z.call(this,i,M)}function N(M){Z.call(this,i,M)}function V(){c=ci(this.value),t(0,c)}return i.$$set=M=>{t(22,e=oe(oe({},e),_e(M))),t(21,l=Ve(e,r)),"name"in M&&t(1,d=M.name),"id"in M&&t(2,f=M.id),"value"in M&&t(0,c=M.value),"min"in M&&t(3,p=M.min),"max"in M&&t(4,m=M.max),"step"in M&&t(5,y=M.step),"ticked"in M&&t(6,_=M.ticked),"accent"in M&&t(13,v=M.accent),"label"in M&&t(7,g=M.label),"$$scope"in M&&t(14,o=M.$$scope)},i.$$.update=()=>{t(10,n=`${vi} ${e.class??""}`),i.$$.dirty&8192&&t(9,s=`${ki} ${v}`)},e=_e(e),[c,d,f,p,m,y,_,g,h,s,n,S,u,v,o,a,w,L,N,V]}class wi extends re{constructor(e){super(),le(this,e,Ti,bi,te,{name:1,id:2,value:0,min:3,max:4,step:5,ticked:6,accent:13,label:7})}}function Dt(i){let e,t;const n=i[22].default,s=pt(n,i,i[21],null);return{c(){e=A("div"),s&&s.c(),this.h()},l(r){e=C(r,"DIV",{class:!0});var l=P(e);s&&s.l(l),l.forEach(b),this.h()},h(){T(e,"class","slide-toggle-text ml-3")},m(r,l){E(r,e,l),s&&s.m(e,null),t=!0},p(r,l){s&&s.p&&(!t||l[0]&2097152)&&gt(s,n,r,r[21],t?vt(n,r[21],l,null):bt(r[21]),null)},i(r){t||(F(s,r),t=!0)},o(r){O(s,r),t=!1},d(r){r&&b(e),s&&s.d(r)}}}function Ei(i){let e,t,n,s,r,l,a,o,u,d,f,c,p,m,y,_=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:i[1]},i[8](),{disabled:s=i[9].disabled}],v={};for(let h=0;h<_.length;h+=1)v=oe(v,_[h]);let g=i[10].default&&Dt(i);return{c(){e=A("div"),t=A("label"),n=A("input"),r=B(),l=A("div"),a=A("div"),d=B(),g&&g.c(),this.h()},l(h){e=C(h,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var k=P(e);t=C(k,"LABEL",{class:!0});var S=P(t);n=C(S,"INPUT",{type:!0,class:!0,name:!0}),r=H(S),l=C(S,"DIV",{class:!0});var w=P(l);a=C(w,"DIV",{class:!0}),P(a).forEach(b),w.forEach(b),d=H(S),g&&g.l(S),S.forEach(b),k.forEach(b),this.h()},h(){ve(n,v),T(a,"class",o="slide-toggle-thumb "+i[3]),Ne(a,"cursor-not-allowed",i[9].disabled),T(l,"class",u="slide-toggle-track "+i[4]),Ne(l,"cursor-not-allowed",i[9].disabled),T(t,"class",f="slide-toggle-label "+i[5]),T(e,"id",i[2]),T(e,"class",c="slide-toggle "+i[6]),T(e,"data-testid","slide-toggle"),T(e,"role","switch"),T(e,"aria-label",i[2]),T(e,"aria-checked",i[0]),T(e,"tabindex","0")},m(h,k){E(h,e,k),I(e,t),I(t,n),n.autofocus&&n.focus(),n.checked=i[0],I(t,r),I(t,l),I(l,a),I(t,d),g&&g.m(t,null),p=!0,m||(y=[U(n,"change",i[31]),U(n,"click",i[23]),U(n,"keydown",i[24]),U(n,"keyup",i[25]),U(n,"keypress",i[26]),U(n,"mouseover",i[27]),U(n,"change",i[28]),U(n,"focus",i[29]),U(n,"blur",i[30]),U(e,"keydown",i[7])],m=!0)},p(h,k){ve(n,v=Ye(_,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!p||k[0]&2)&&{name:h[1]},h[8](),(!p||k[0]&512&&s!==(s=h[9].disabled))&&{disabled:s}])),k[0]&1&&(n.checked=h[0]),(!p||k[0]&8&&o!==(o="slide-toggle-thumb "+h[3]))&&T(a,"class",o),(!p||k[0]&520)&&Ne(a,"cursor-not-allowed",h[9].disabled),(!p||k[0]&16&&u!==(u="slide-toggle-track "+h[4]))&&T(l,"class",u),(!p||k[0]&528)&&Ne(l,"cursor-not-allowed",h[9].disabled),h[10].default?g?(g.p(h,k),k[0]&1024&&F(g,1)):(g=Dt(h),g.c(),F(g,1),g.m(t,null)):g&&($(),O(g,1,1,()=>{g=null}),ee()),(!p||k[0]&32&&f!==(f="slide-toggle-label "+h[5]))&&T(t,"class",f),(!p||k[0]&4)&&T(e,"id",h[2]),(!p||k[0]&64&&c!==(c="slide-toggle "+h[6]))&&T(e,"class",c),(!p||k[0]&4)&&T(e,"aria-label",h[2]),(!p||k[0]&1)&&T(e,"aria-checked",h[0])},i(h){p||(F(g),p=!0)},o(h){O(g),p=!1},d(h){h&&b(e),g&&g.d(),m=!1,ue(y)}}}const Ii="inline-block",Si="unstyled flex items-center",Ai="flex transition-all duration-[200ms] cursor-pointer",Ci="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function Pi(i,e,t){let n,s,r,l,a,o,u,d;const f=["name","checked","size","background","active","border","rounded","label"];let c=Ve(e,f),{$$slots:p={},$$scope:m}=e;const y=Pn(p),_=Pe();let{name:v}=e,{checked:g=!1}=e,{size:h="md"}=e,{background:k="bg-surface-400 dark:bg-surface-700"}=e,{active:S="bg-surface-900 dark:bg-surface-300"}=e,{border:w=""}=e,{rounded:L="rounded-full"}=e,{label:N=""}=e,V;switch(h){case"sm":V="w-12 h-6";break;case"lg":V="w-20 h-10";break;default:V="w-16 h-8"}function M(D){["Enter","Space"].includes(D.code)&&(D.preventDefault(),_("keyup",D),D.currentTarget.firstChild.click())}function q(){return delete c.class,c}function me(D){Z.call(this,i,D)}function ti(D){Z.call(this,i,D)}function ni(D){Z.call(this,i,D)}function ii(D){Z.call(this,i,D)}function si(D){Z.call(this,i,D)}function ri(D){Z.call(this,i,D)}function li(D){Z.call(this,i,D)}function ai(D){Z.call(this,i,D)}function oi(){g=this.checked,t(0,g)}return i.$$set=D=>{t(9,e=oe(oe({},e),_e(D))),t(33,c=Ve(e,f)),"name"in D&&t(1,v=D.name),"checked"in D&&t(0,g=D.checked),"size"in D&&t(11,h=D.size),"background"in D&&t(12,k=D.background),"active"in D&&t(13,S=D.active),"border"in D&&t(14,w=D.border),"rounded"in D&&t(15,L=D.rounded),"label"in D&&t(2,N=D.label),"$$scope"in D&&t(21,m=D.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&12289&&t(19,n=g?S:`${k} cursor-pointer`),i.$$.dirty[0]&1&&t(18,s=g?"bg-white/75":"bg-white"),i.$$.dirty[0]&1&&t(17,r=g?"translate-x-full":""),t(20,l=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,a=`${Ii} ${L} ${l} ${e.class??""}`),i.$$.dirty[0]&638976&&t(4,u=`${Ai} ${w} ${L} ${V} ${n}`),i.$$.dirty[0]&425984&&t(3,d=`${Ci} ${L} ${s} ${r}`)},t(5,o=`${Si}`),e=_e(e),[g,v,N,d,u,o,a,M,q,e,y,h,k,S,w,L,V,r,s,n,l,m,p,me,ti,ni,ii,si,ri,li,ai,oi]}class Ni extends re{constructor(e){super(),le(this,e,Pi,Ei,te,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}const Fi={namespaces:{tei:"http://www.tei-c.org/ns/1.0",teieg:"http://www.tei-c.org/ns/Examples",rng:"http://relaxng.org/ns/structure/1.0"},tei:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],ref:[["[target]",['<a href="$rw@target">',"</a>"]]],graphic:function(i){let e=new Image;return e.src=this.rw(i.getAttribute("url")),i.hasAttribute("width")&&e.setAttribute("width",i.getAttribute("width")),i.hasAttribute("height")&&e.setAttribute("height",i.getAttribute("height")),e},list:[["[type=gloss]",function(i){const e=i.ownerDocument;let t=e.createElement("dl");for(let n of Array.from(i.children))if(n.nodeType==1){if(n.localName=="tei-label"){let s=e.createElement("dt");s.innerHTML=n.innerHTML,t.appendChild(s)}if(n.localName=="tei-item"){let s=e.createElement("dd");s.innerHTML=n.innerHTML,t.appendChild(s)}}return t}]],note:[["[place=end]",function(i){const e=i.ownerDocument;this.noteIndex?this.noteIndex++:this.noteIndex=1;let t="_note_"+this.noteIndex,n=e.createElement("a");n.setAttribute("id","src"+t),n.setAttribute("href","#"+t),n.innerHTML=this.noteIndex;let s=e.createElement("sup");s.appendChild(n);let r=e.querySelector("ol.notes");r||(r=e.createElement("ol"),r.setAttribute("class","notes"),this.dom.appendChild(r));let l=e.createElement("li");return l.id=t,l.innerHTML=i.innerHTML,r.appendChild(l),s}],["_",["(",")"]]],teiHeader:function(i){this.hideContent(i,!1)},title:[["tei-titlestmt>tei-title",function(i){const e=i.ownerDocument;let t=e.createElement("title");t.innerHTML=i.innerText,e.querySelector("head").appendChild(t)}]]},teieg:{egXML:function(i){let t=i.ownerDocument.createElement("pre"),n=this.serialize(i,!0).replace(/</g,"&lt;"),s=n.match(/^[\t ]+/);return s&&(n=n.replace(new RegExp("^"+s[0],"mg"),"")),t.innerHTML=n,t}}};function Mi(i,e){let t=1,n=i;for(;n&&n.previousElementSibling!==null&&(!e||n.previousElementSibling.localName==e)&&(t++,n=n.previousElementSibling,!!n.previousElementSibling););return t}function Li(i){const e=i.ownerDocument;let t=n=>{let s=n.nodeType===1?e.createElement(n.nodeName):n.cloneNode(!0);if(n.attributes)for(let r of Array.from(n.attributes))r.name!=="data-processed"&&s.setAttribute(r.name,r.value);for(let r of Array.from(n.childNodes))if(r.nodeType==1){if(!n.hasAttribute("data-empty"))if(r.hasAttribute("data-original")){for(let l of Array.from(r.childNodes)){let a=s.appendChild(t(l));a.nodeType===1&&a.hasAttribute("data-origid")&&(a.setAttribute("id",a.getAttribute("data-origid")),a.removeAttribute("data-origid"))}return s}else s.appendChild(t(r))}else s.appendChild(r.cloneNode());return s};return t(i)}function Oi(i){return i.replace(/ .*$/,"")}function Dn(i,e=!0){const t=i.ownerDocument;if(i.childNodes.length>0){let n=t.createElement("span");i.appendChild(n),n.setAttribute("hidden",""),n.setAttribute("data-original","");for(let s of Array.from(i.childNodes))if(s!==n){if(s.nodeType===1){s.setAttribute("data-processed","");for(let r of s.querySelectorAll("*"))r.setAttribute("data-processed","")}n.appendChild(i.removeChild(s))}if(e)for(let s of Array.from(n.querySelectorAll("*")))s.hasAttribute("id")&&(s.setAttribute("data-origid",s.getAttribute("id")),s.removeAttribute("id"))}}function Di(i){return this.rw(this.first(i))}function Bi(i,e){let t="";for(let n=0;n<e;n++)t+=i;return t}function Hi(i){let e=this.prefixDefs[i.substring(0,i.indexOf(":"))];return i.replace(new RegExp(e.matchPattern),e.replacementPattern)}function zi(i){return this.prefixDefs[i]}function ji(i){return i.match(/^(?:http|mailto|file|\/|#).*$/)?i:this.base+this.utilities.first(i)}function rt(i,e,t){let n="",s=r=>!/[^\t\n\r ]/.test(r);if(!e&&i.nodeType==1){typeof t=="string"&&t!==""?n+=`
`+t+"<":n+="<",n+=i.getAttribute("data-origname");let r=i.hasAttribute("data-origatts")?i.getAttribute("data-origatts").split(" "):[];for(let l of Array.from(i.attributes))!l.name.startsWith("data-")&&!["id","lang","class"].includes(l.name)&&(n+=" "+r.find(function(a){return a.toLowerCase()==l.name})+'="'+l.value+'"'),l.name=="data-xmlns"&&(n+=' xmlns="'+l.value+'"');i.childNodes.length>0?n+=">":n+="/>"}for(let r of Array.from(i.childNodes))switch(r.nodeType){case 1:typeof t=="string"?n+=rt(r,!1,t+"  "):n+=rt(r,!1,t);break;case 7:n+="<?"+r.nodeValue+"?>";break;case 8:n+="<!--"+r.nodeValue+"-->";break;default:if(e&&s(r.nodeValue)&&(n+=r.nodeValue.replace(/^\s*\n/,"")),typeof t=="string"&&s(r.nodeValue))break;n+=r.nodeValue}return!e&&i.childNodes.length>0&&(typeof t=="string"?n+=`
`+t+"</":n+="</",n+=i.getAttribute("data-origname")+">"),n}function Ri(i){return i.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}function We(i){return i.includes(":"),i.replace(/:/,"-").toLowerCase()}function Bn(i,e=null,t=!1){try{window.customElements.define(We(i),class extends HTMLElement{constructor(){super(),this.matches(":defined")||(e&&e.call(this),this.setAttribute("data-processed",""))}connectedCallback(){this.hasAttribute("data-processed")||(e&&e.call(this),this.setAttribute("data-processed",""))}})}catch(n){t&&(console.log(We(i)+" couldn't be registered or is already registered."),console.log(n))}}const tt=Object.freeze(Object.defineProperty({__proto__:null,copyAndReset:Li,defineCustomElement:Bn,first:Oi,getOrdinality:Mi,getPrefixDef:zi,hideContent:Dn,normalizeURI:Di,repeat:Bi,resolveURI:Hi,rw:ji,serialize:rt,tagName:We,unEscapeEntities:Ri},Symbol.toStringTag,{value:"Module"}));function Ui(i){if(i.namespaces)for(let e of Object.keys(i.namespaces))!this.namespaces.has(i.namespaces[e])&&!Array.from(this.namespaces.values()).includes(e)&&this.namespaces.set(i.namespaces[e],e);for(let e of this.namespaces.values())if(i[e])for(let t of Object.keys(i[e]))this.behaviors[`${e}:${t}`]=i[e][t];if(i.functions)for(let e of Object.keys(i.functions))this.utilities[e]=i.functions[e];i.handlers&&console.log("Behavior handlers are no longer used."),i.fallbacks&&console.log("Fallback behaviors are no longer used.")}function Vi(i,e,t){let n;if(i===Object(i))for(let s of Object.keys(i))this.namespaces.has(i[s])||(this.namespaces.set(i[s],s),n=s);else n=i;this.behaviors[`${n}:${e}`]=t}function Gi(i,e){let t;if(i===Object(i))for(let n of Object.keys(i))this.namespaces.has(i[n])||(this.namespaces.set(i[n],n),t=n);else t=i;delete this.behaviors[`${t}:${e}`]}function qi(i,e){const t=i.documentElement;let n=1,s=function(l){return e.has(l.namespaceURI?l.namespaceURI:"")||e.set(l.namespaceURI,"ns"+n++),e.get(l.namespaceURI?l.namespaceURI:"")+":"+l.localName};const r=new Set(Array.from(t.querySelectorAll("*"),s));return r.add(s(t)),r}function xi(i){return Array.from(i.querySelectorAll("*[data-origname]"),e=>e.localName.replace(/(\w+)-.+/,"$1:")+e.getAttribute("data-origname"))}class be{constructor(e){this.options=e||{},this.document=this.options.documentObject?this.options.documentObject:void 0,this.document===void 0&&(typeof window<"u"&&window.document?this.document=window.document:typeof global<"u"&&global.document&&(this.document=global.document)),this.addBehaviors=Ui.bind(this),this.addBehavior=Vi.bind(this),this.removeBehavior=Gi.bind(this),this.utilities={};for(const t of Object.keys(tt))["getPrefixDef","rw","resolveURI"].includes(t)?this.utilities[t]=tt[t].bind(this):this.utilities[t]=tt[t];if(this.els=[],this.namespaces=new Map,this.behaviors={},this.hasStyle=!1,this.prefixDefs=[],this.debug=this.options.debug===!0,this.discardContent=this.options.discardContent===!0,this.options.base)this.base=this.options.base;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch{this.base=""}this.options.omitDefaultBehaviors||this.addBehaviors(Fi),this.options.ignoreFragmentId&&window&&window.removeEventListener("ceteiceanload",be.restorePosition)}getHTML5(e,t,n){return window&&window.location.href.startsWith(this.base)&&e.indexOf("/")>=0&&(this.base=e.replace(/\/[^\/]*$/,"/")),new Promise(function(r,l){let a=new XMLHttpRequest;a.open("GET",e),a.send(),a.onload=function(){this.status>=200&&this.status<300?r(this.response):l(this.statusText)},a.onerror=function(){l(this.statusText)}}).catch(function(r){console.log("Could not get XML file."),this.debug&&console.log(r)}).then(r=>this.makeHTML5(r,t,n))}makeHTML5(e,t,n){return this.XML_dom=new DOMParser().parseFromString(e,"text/xml"),this.domToHTML5(this.XML_dom,t,n)}preprocess(e,t,n){this.els=qi(e,this.namespaces);let s=r=>{let l;if(this.namespaces.has(r.namespaceURI?r.namespaceURI:"")){let a=this.namespaces.get(r.namespaceURI?r.namespaceURI:"");l=this.document.createElement(`${a}-${r.localName}`)}else l=this.document.importNode(r,!1);for(let a of Array.from(r.attributes))a.name=="xmlns"?l.setAttribute("data-xmlns",a.value):l.setAttribute(a.name,a.value),a.name=="xml:id"&&l.setAttribute("id",a.value),a.name=="xml:lang"&&l.setAttribute("lang",a.value),a.name=="rendition"&&l.setAttribute("class",a.value.replace(/#/g,""));if(l.setAttribute("data-origname",r.localName),r.hasAttributes()&&l.setAttribute("data-origatts",r.getAttributeNames().join(" ")),r.childNodes.length==0&&l.setAttribute("data-empty",""),r.localName=="head"){let a=e.evaluate("count(ancestor::*[tei:head])",r,function(o){if(o=="tei")return"http://www.tei-c.org/ns/1.0"},1,null);l.setAttribute("data-level",a.numberValue)}if(r.localName=="tagsDecl"){let a=this.document.createElement("style");for(let o of Array.from(r.childNodes))if(o.nodeType==1&&o.localName=="rendition"&&o.getAttribute("scheme")=="css"){let u="";o.hasAttribute("selector")?(u+=o.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+`{
`,u+=o.textContent):(u+="."+o.getAttribute("xml:id")+`{
`,u+=o.textContent),u+=`
}
`,a.appendChild(this.document.createTextNode(u))}a.childNodes.length>0&&(l.appendChild(a),this.hasStyle=!0)}r.localName=="prefixDef"&&(this.prefixDefs.push(r.getAttribute("ident")),this.prefixDefs[r.getAttribute("ident")]={matchPattern:r.getAttribute("matchPattern"),replacementPattern:r.getAttribute("replacementPattern")});for(let a of Array.from(r.childNodes))a.nodeType==1?l.appendChild(s(a)):l.appendChild(a.cloneNode());return n&&n(l,r),l};if(this.dom=s(e.documentElement),this.utilities.dom=this.dom,t)t(this.dom,this),window&&window.dispatchEvent(Fe);else return typeof window<"u"&&window.dispatchEvent(Fe),this.dom}domToHTML5(e,t,n){if(this.preprocess(e,null,n),this.applyBehaviors(),this.done=!0,t)t(this.dom,this),window&&window.dispatchEvent(Fe);else return typeof window<"u"&&window.dispatchEvent(Fe),this.dom}processPage(){this.els=xi(this.document),this.applyBehaviors()}unsetNamespace(e){this.namespaces.delete(e)}setBaseUrl(e){this.base=e}append(e,t){let n=this;if(t){let s=e.call(n.utilities,t);s&&!n.childExists(t.firstElementChild,s.nodeName)&&n.appendBasic(t,s)}else return function(){if(!this.hasAttribute("data-processed")){let s=e.call(n.utilities,this);s&&!n.childExists(this.firstElementChild,s.nodeName)&&n.appendBasic(this,s)}}}appendBasic(e,t){this.discardContent?e.innerHTML="":Dn(e,!0),e.appendChild(t)}bName(e){return e.tagName.substring(0,e.tagName.indexOf("-")).toLowerCase()+":"+e.getAttribute("data-origname")}childExists(e,t){return e&&e.nodeName==t?!0:e&&e.nextElementSibling&&this.childExists(e.nextElementSibling,t)}decorator(e){if(Array.isArray(e)&&e.length==0)return function(n){};if(Array.isArray(e)&&!Array.isArray(e[0]))return this.applyDecorator(e);let t=this;return function(n){for(let s of e)if(n.matches(s[0])||s[0]==="_")return Array.isArray(s[1])?t.decorator(s[1]).call(this,n):s[1].call(this,n)}}applyDecorator(e){let t=this;return function(n){let s=[];for(let r=0;r<e.length;r++)s.push(t.template(e[r],n));return t.insert(n,s)}}getFallback(e,t){if(e[t])return e[t]instanceof Function?e[t]:this.decorator(e[t])}getHandler(e,t){if(e[t])return e[t]instanceof Function?this.append(e[t]):this.append(this.decorator(e[t]))}insert(e,t){let n=this.document.createElement("span");for(let s of Array.from(e.childNodes))s.nodeType===1&&!s.hasAttribute("data-processed")&&this.processElement(s);if(t[0].match("<[^>]+>")&&t[1]&&t[1].match("<[^>]+>"))n.innerHTML=t[0]+e.innerHTML+(t[1]?t[1]:"");else{n.innerHTML=t[0],n.setAttribute("data-before",t[0].replace(/<[^>]+>/g,"").length);for(let s of Array.from(e.childNodes))n.appendChild(s.cloneNode(!0));t.length>1&&(n.innerHTML+=t[1],n.setAttribute("data-after",t[1].replace(/<[^>]+>/g,"").length))}return n}processElement(e){if(e.hasAttribute("data-origname")&&!e.hasAttribute("data-processed")){let t=this.getFallback(this.bName(e));t&&(this.append(t,e),e.setAttribute("data-processed",""))}for(let t of Array.from(e.childNodes))t.nodeType===1&&this.processElement(t)}template(e,t){let n=e;if(e.search(/\$(\w*)(@([a-zA-Z:]+))/)){let s=/\$(\w*)@([a-zA-Z:]+)/g,r;for(;r=s.exec(e);)t.hasAttribute(r[2])?r[1]&&this.utilities[r[1]]?n=n.replace(r[0],this.utilities[r[1]](t.getAttribute(r[2]))):n=n.replace(r[0],t.getAttribute(r[2])):n=n.replace(r[0],"")}return n}applyBehaviors(){typeof window<"u"&&window.customElements?this.define.call(this,this.els):this.fallback.call(this,this.els)}define(e){for(let t of e){const n=this.getHandler(this.behaviors,t);Bn(t,n,this.debug)}}fallback(e){for(let t of e){let n=this.getFallback(this.behaviors,t);if(n)for(let s of Array.from((this.dom&&!this.done?this.dom:this.document).getElementsByTagName(We(t))))s.hasAttribute("data-processed")||this.append(n,s)}}static savePosition(){window.sessionStorage.setItem(window.location+"-scroll",window.scrollY)}static restorePosition(){if(window.location.hash)setTimeout(function(){let e=this.document.querySelector(window.decodeURI(window.location.hash));e&&e.scrollIntoView()},100);else{let e;(e=window.sessionStorage.getItem(window.location+"-scroll"))&&setTimeout(function(){window.scrollTo(0,e)},100)}}}try{if(typeof window<"u"){window.CETEI=be,window.addEventListener("beforeunload",be.savePosition);var Fe=new Event("ceteiceanload");window.addEventListener("ceteiceanload",be.restorePosition)}}catch(i){console.log(i)}let Wi={tei:{note:[["[type=gloss]",function(i){this.noteIndex?this.noteIndex++:this.noteIndex=1;let e="note"+this.noteIndex,t=document.createElement("a");t.setAttribute("id","src"+e),t.setAttribute("href","#"+e),t.innerHTML=this.noteIndex;let n=document.createElement("sup");n.appendChild(t);let s=this.dom.querySelector("ol.notes");s||(s=document.createElement("ol"),s.setAttribute("class","notes"),this.dom.appendChild(s));let r=document.createElement("li");return r.id=e,r.innerHTML='<a href="#src'+e+'">^</a> '+i.innerHTML,s.appendChild(r),n}]],ptr:function(i){if(i.getAttribute("target")==="#")console.log("Ignoring empty ptrs...");else{var e=document.createElement("a");return e.href=i.getAttribute("target"),e.innerHTML=">",e}},ref:function(i){if(i.getAttribute("target")==="#")console.log("Ignoring empty refs...");else{var e=document.createElement("a");return e.href=i.getAttribute("target"),e.innerHTML=i.innerHTML,e}},graphic:function(i){i.getAttribute("url")==="#"&&console.log("Ignoring non-existent graphics...")},pb:function(i){var e=document.createElement("p");return e.innerHTML=i.getAttribute("n"),e.classList.add("signature"),e},app:function(i){for(const e of i.children)e.classList.add(`var-${i.getAttribute("subtype")}`)},rdg:function(i){i.hasAttribute("data-empty")&&(i.innerHTML="[Does not exist in 1609]")},lem:function(i){i.hasAttribute("data-empty")&&(i.innerHTML="[+1609]")},fw:[["[type=horizontalRule]",function(i){return document.createElement("hr")}]]}};const{document:Bt}=di;function Ht(i){let e,t;return e=new Mn({}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){Y(e,n,s),t=!0},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function zt(i){let e,t;return{c(){e=A("p"),t=z(i[1]),this.h()},l(n){e=C(n,"P",{"data-testid":!0});var s=P(e);t=j(s,i[1]),s.forEach(b),this.h()},h(){T(e,"data-testid","error-message")},m(n,s){E(n,e,s),I(e,t)},p(n,s){s&2&&Q(t,n[1])},d(n){n&&b(e)}}}function Ki(i){let e,t,n,s,r,l=!i[0]&&Ht(),a=i[1]&&zt(i);return{c(){e=A("link"),t=B(),n=A("div"),l&&l.c(),s=B(),a&&a.c(),this.h()},l(o){const u=fi("svelte-1rxmp49",Bt.head);e=C(u,"LINK",{rel:!0,type:!0,href:!0}),u.forEach(b),t=H(o),n=C(o,"DIV",{id:!0,"data-testid":!0});var d=P(n);l&&l.l(d),s=H(d),a&&a.l(d),d.forEach(b),this.h()},h(){T(e,"rel","stylesheet"),T(e,"type","text/css"),T(e,"href",On+"/additional-style/TEIstyle.css"),T(n,"id","TEI-container"),T(n,"data-testid","TEI-container")},m(o,u){I(Bt.head,e),E(o,t,u),E(o,n,u),l&&l.m(n,null),I(n,s),a&&a.m(n,null),r=!0},p(o,[u]){o[0]?l&&($(),O(l,1,1,()=>{l=null}),ee()):l?u&1&&F(l,1):(l=Ht(),l.c(),F(l,1),l.m(n,s)),o[1]?a?a.p(o,u):(a=zt(o),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i(o){r||(F(l),r=!0)},o(o){O(l),r=!1},d(o){b(e),o&&b(t),o&&b(n),l&&l.d(),a&&a.d()}}}function Ji(i,e,t){let n=!1,s,{path:r=""}=e;return Xe(async()=>{try{if(r==="")throw"No path specified";var l=new be;l.addBehaviors(Wi),l.getHTML5(r,function(a){document.getElementById("TEI-container").appendChild(a)}),t(0,n=!0)}catch(a){t(1,s=a.toString()),t(0,n=!0);return}}),i.$$set=l=>{"path"in l&&t(2,r=l.path)},[n,s,r]}class Yi extends re{constructor(e){super(),le(this,e,Ji,Ki,te,{path:2})}}function Xi(i){let e,t,n;return{c(){e=A("audio"),t=A("source"),this.h()},l(s){e=C(s,"AUDIO",{});var r=P(e);t=C(r,"SOURCE",{src:!0,type:!0}),r.forEach(b),this.h()},h(){At(t.src,n=i[0])||T(t,"src",n),T(t,"type","audio/mpeg"),e.controls=!0},m(s,r){E(s,e,r),I(e,t)},p(s,[r]){r&1&&!At(t.src,n=s[0])&&T(t,"src",n)},i:R,o:R,d(s){s&&b(e)}}}function Zi(i,e,t){let{audioPath:n}=e;return i.$$set=s=>{"audioPath"in s&&t(0,n=s.audioPath)},[n]}class Qi extends re{constructor(e){super(),le(this,e,Zi,Xi,te,{audioPath:0})}}function De(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?De=function(e){return typeof e}:De=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(i)}function _t(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function yt(i,e,t){return e&&jt(i.prototype,e),t&&jt(i,t),i}var se={VERSION:"2.0.16",NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},$i=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],Rt=0,es=function(e){$i.forEach(function(t){t.forEach(function(n){return se.NOTES[Rt]=n+e}),Rt++})};for(var nt=-1;nt<=9;nt++)es(nt);var x=function(){function i(){_t(this,i)}return yt(i,null,[{key:"byteToHex",value:function(t){return("0"+t.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(t){var n=[];return t.forEach(function(s){return n.push(i.byteToHex(s))}),n.join("")}},{key:"hexToNumber",value:function(t){return parseInt(t,16)}},{key:"bytesToNumber",value:function(t){return i.hexToNumber(i.bytesToHex(t))}},{key:"bytesToLetters",value:function(t){var n=[];return t.forEach(function(s){return n.push(String.fromCharCode(s))}),n.join("")}},{key:"decToBinary",value:function(t){return(t>>>0).toString(2)}},{key:"getVarIntLength",value:function(t){for(var n=t[0],s=1;n>=128;)n=t[s],s++;return s}},{key:"readVarInt",value:function(t){var n=0;return t.forEach(function(s){var r=s;r&128?(n+=r&127,n<<=7):n+=r}),n}},{key:"atob",value:function(e){function t(n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return typeof atob=="function"?atob(e):Buffer.from(e,"base64").toString("binary")})}]),i}(),ts=function(){function i(e,t){_t(this,i),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=e,this.data=t,this.delta=0,this.runningDelta=0,this.events=[];var n=this.data.subarray(this.data.length-3,this.data.length);if(!(n[0]===255&&n[1]===47&&n[2]===0))throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return yt(i,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(t){t=t||0;for(var n in this.events)if(this.events[n].tick>=t)return this.eventIndex=n,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return x.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return x.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(t,n){if(n=n||!1,n){var s=t-this.lastTick,r=this.getDelta(),l=s>=r;if(this.pointer<this.data.length&&(n||l)){var a=this.parseEvent();if(this.enabled)return a}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=t&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(t){var n=x.getVarIntLength(this.data.subarray(t+2)),s=x.readVarInt(this.data.subarray(t+2,t+2+n)),r=x.bytesToLetters(this.data.subarray(t+2+n,t+2+n+s));return r}},{key:"parseEvent",value:function(){var t=this.pointer+this.getDeltaByteCount(),n={},s=this.getDeltaByteCount();if(n.track=this.index+1,n.delta=this.getDelta(),this.lastTick=this.lastTick+n.delta,this.runningDelta+=n.delta,n.tick=this.runningDelta,n.byteIndex=this.pointer,this.data[t]==255){switch(this.data[t+1]){case 0:n.name="Sequence Number";break;case 1:n.name="Text Event",n.string=this.getStringData(t);break;case 2:n.name="Copyright Notice";break;case 3:n.name="Sequence/Track Name",n.string=this.getStringData(t);break;case 4:n.name="Instrument Name",n.string=this.getStringData(t);break;case 5:n.name="Lyric",n.string=this.getStringData(t);break;case 6:n.name="Marker";break;case 7:n.name="Cue Point",n.string=this.getStringData(t);break;case 9:n.name="Device Name",n.string=this.getStringData(t);break;case 32:n.name="MIDI Channel Prefix";break;case 33:n.name="MIDI Port",n.data=x.bytesToNumber([this.data[t+3]]);break;case 47:n.name="End of Track";break;case 81:n.name="Set Tempo",n.data=Math.round(6e7/x.bytesToNumber(this.data.subarray(t+3,t+6))),this.tempo=n.data;break;case 84:n.name="SMTPE Offset";break;case 88:n.name="Time Signature",n.data=this.data.subarray(t+3,t+7),n.timeSignature=""+n.data[0]+"/"+Math.pow(2,n.data[1]);break;case 89:n.name="Key Signature",n.data=this.data.subarray(t+3,t+5),n.data[0]>=0?n.keySignature=se.CIRCLE_OF_FIFTHS[n.data[0]]:n.data[0]<0&&(n.keySignature=se.CIRCLE_OF_FOURTHS[Math.abs(n.data[0])]),n.data[1]==0?n.keySignature+=" Major":n.data[1]==1&&(n.keySignature+=" Minor");break;case 127:n.name="Sequencer-Specific Meta-event";break;default:n.name="Unknown: "+this.data[t+1].toString(16);break}var r=x.getVarIntLength(this.data.subarray(t+2)),l=x.readVarInt(this.data.subarray(t+2,t+2+r));this.pointer+=s+3+l}else if(this.data[t]===240){n.name="Sysex";var a=x.getVarIntLength(this.data.subarray(t+1)),o=x.readVarInt(this.data.subarray(t+1,t+1+a));n.data=this.data.subarray(t+1+a,t+1+a+o),this.pointer+=s+1+a+o}else if(this.data[t]===247){n.name="Sysex (escape)";var u=x.getVarIntLength(this.data.subarray(t+1)),d=x.readVarInt(this.data.subarray(t+1,t+1+u));n.data=this.data.subarray(t+1+u,t+1+u+d),this.pointer+=s+1+u+d}else if(this.data[t]<128)if(n.running=!0,n.noteNumber=this.data[t],n.noteName=se.NOTES[this.data[t]],n.velocity=this.data[t+1],this.lastStatus<=143)n.name="Note off",n.channel=this.lastStatus-128+1,this.pointer+=s+2;else if(this.lastStatus<=159)n.name="Note on",n.channel=this.lastStatus-144+1,this.pointer+=s+2;else if(this.lastStatus<=175)n.name="Polyphonic Key Pressure",n.channel=this.lastStatus-160+1,n.note=se.NOTES[this.data[t+1]],n.pressure=event[1],this.pointer+=s+2;else if(this.lastStatus<=191)n.name="Controller Change",n.channel=this.lastStatus-176+1,n.number=this.data[t+1],n.value=this.data[t+2],this.pointer+=s+2;else if(this.lastStatus<=207)n.name="Program Change",n.channel=this.lastStatus-192+1,n.value=this.data[t+1],this.pointer+=s+1;else if(this.lastStatus<=223)n.name="Channel Key Pressure",n.channel=this.lastStatus-208+1,this.pointer+=s+1;else if(this.lastStatus<=239)n.name="Pitch Bend",n.channel=this.lastStatus-224+1,n.value=this.data[t+2],this.pointer+=s+2;else throw"Unknown event (running): ".concat(this.lastStatus);else if(this.lastStatus=this.data[t],this.data[t]<=143)n.name="Note off",n.channel=this.lastStatus-128+1,n.noteNumber=this.data[t+1],n.noteName=se.NOTES[this.data[t+1]],n.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=s+3;else if(this.data[t]<=159)n.name="Note on",n.channel=this.lastStatus-144+1,n.noteNumber=this.data[t+1],n.noteName=se.NOTES[this.data[t+1]],n.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=s+3;else if(this.data[t]<=175)n.name="Polyphonic Key Pressure",n.channel=this.lastStatus-160+1,n.note=se.NOTES[this.data[t+1]],n.pressure=event[2],this.pointer+=s+3;else if(this.data[t]<=191)n.name="Controller Change",n.channel=this.lastStatus-176+1,n.number=this.data[t+1],n.value=this.data[t+2],this.pointer+=s+3;else if(this.data[t]<=207)n.name="Program Change",n.channel=this.lastStatus-192+1,n.value=this.data[t+1],this.pointer+=s+2;else if(this.data[t]<=223)n.name="Channel Key Pressure",n.channel=this.lastStatus-208+1,this.pointer+=s+2;else if(this.data[t]<=239)n.name="Pitch Bend",n.channel=this.lastStatus-224+1,this.pointer+=s+3;else throw"Unknown event: ".concat(this.data[t]);return this.delta+=n.delta,this.events.push(n),n}},{key:"endOfTrack",value:function(){return this.data[this.pointer+1]==255&&this.data[this.pointer+2]==47&&this.data[this.pointer+3]==0}}]),i}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var ns=function(){function i(e,t){_t(this,i),this.sampleRate=5,this.startTime=0,this.buffer=t||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},typeof e=="function"&&this.on("midiEvent",e)}return yt(i,[{key:"loadFile",value:function(t){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(t){return this.buffer=new Uint8Array(t),this.fileLoaded()}},{key:"loadDataUri",value:function(t){for(var n=x.atob(t.split(",")[1]),s=new Uint8Array(n.length),r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return this.buffer=s,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return x.bytesToLetters(this.buffer.subarray(0,4))==="MThd"}},{key:"getFormat",value:function(){return this.format=x.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var t=0;t<this.buffer.length;){if(x.bytesToLetters(this.buffer.subarray(t,t+4))=="MTrk"){var n=x.bytesToNumber(this.buffer.subarray(t+4,t+8));this.tracks.push(new ts(this.tracks.length,this.buffer.subarray(t+8,t+8+n)))}t+=x.bytesToNumber(this.buffer.subarray(t+4,t+8))+8}var s=0;return this.tracks.forEach(function(r){s+=8+r.data.length}),this.midiChunksByteLength=se.HEADER_CHUNK_LENGTH+s,this}},{key:"enableTrack",value:function(t){return this.tracks[t-1].enable(),this}},{key:"disableTrack",value:function(t){return this.tracks[t-1].disable(),this}},{key:"getDivision",value:function(){return this.division=x.bytesToNumber(this.buffer.subarray(12,se.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(t){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(n,s){if(!t&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var r=n.handleEvent(this.tick,t);t&&r?(r.hasOwnProperty("name")&&r.name==="Set Tempo"&&(this.defaultTempo=r.data,this.setTempo(r.data)),r.hasOwnProperty("name")&&r.name==="Program Change"&&(this.instruments.includes(r.value)||this.instruments.push(r.value))):r&&(r.hasOwnProperty("name")&&r.name==="Set Tempo"&&(this.setTempo(r.data),this.isPlaying()&&this.pause().play()),this.emitEvent(r))}},this),t||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(t){return this.tempo=t,this}},{key:"setStartTime",value:function(t){return this.startTime=t,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=new Date().getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout((function(){this.playLoop(),this.loop()}).bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(t){return this.stop(),this.startTick=t,this.tracks.forEach(function(n){n.setEventIndexByTick(t)}),this}},{key:"skipToPercent",value:function(t){if(t<0||t>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(t/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(t){var n=this.getSongTime();if(t<0||t>n)throw t+" seconds not within song time of "+n;return this.skipToPercent(t/n*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||De(this.setIntervalId)==="object"}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(t){return t.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(t){return t.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(t){return t.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(t,n){return{events:{length:t.events.length+n.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return se.HEADER_CHUNK_LENGTH+this.tracks.length*8+this.tracks.reduce(function(t,n){return{pointer:t.pointer+n.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(t,n){return{eventIndex:t.eventIndex+n.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round((new Date().getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(t){return this.triggerPlayerEvent("midiEvent",t),this}},{key:"on",value:function(t,n){return this.eventListeners.hasOwnProperty(t)||(this.eventListeners[t]=[]),this.eventListeners[t].push(n),this}},{key:"triggerPlayerEvent",value:function(t,n){return this.eventListeners.hasOwnProperty(t)&&this.eventListeners[t].forEach(function(s){return s(n||{})}),this}}]),i}(),is={Player:ns,Utils:x,Constants:se};const Se=/^[a-z0-9]+(-[a-z0-9]+)*$/,Qe=(i,e,t,n="")=>{const s=i.split(":");if(i.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;n=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const a=s.pop(),o=s.pop(),u={provider:s.length>0?s[0]:n,prefix:o,name:a};return e&&!Be(u)?null:u}const r=s[0],l=r.split("-");if(l.length>1){const a={provider:n,prefix:l.shift(),name:l.join("-")};return e&&!Be(a)?null:a}if(t&&n===""){const a={provider:n,prefix:"",name:r};return e&&!Be(a,t)?null:a}return null},Be=(i,e)=>i?!!((i.provider===""||i.provider.match(Se))&&(e&&i.prefix===""||i.prefix.match(Se))&&i.name.match(Se)):!1,Hn=Object.freeze({left:0,top:0,width:16,height:16}),Ke=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),$e=Object.freeze({...Hn,...Ke}),lt=Object.freeze({...$e,body:"",hidden:!1});function ss(i,e){const t={};!i.hFlip!=!e.hFlip&&(t.hFlip=!0),!i.vFlip!=!e.vFlip&&(t.vFlip=!0);const n=((i.rotate||0)+(e.rotate||0))%4;return n&&(t.rotate=n),t}function Ut(i,e){const t=ss(i,e);for(const n in lt)n in Ke?n in i&&!(n in t)&&(t[n]=Ke[n]):n in e?t[n]=e[n]:n in i&&(t[n]=i[n]);return t}function rs(i,e){const t=i.icons,n=i.aliases||Object.create(null),s=Object.create(null);function r(l){if(t[l])return s[l]=[];if(!(l in s)){s[l]=null;const a=n[l]&&n[l].parent,o=a&&r(a);o&&(s[l]=[a].concat(o))}return s[l]}return(e||Object.keys(t).concat(Object.keys(n))).forEach(r),s}function ls(i,e,t){const n=i.icons,s=i.aliases||Object.create(null);let r={};function l(a){r=Ut(n[a]||s[a],r)}return l(e),t.forEach(l),Ut(i,r)}function zn(i,e){const t=[];if(typeof i!="object"||typeof i.icons!="object")return t;i.not_found instanceof Array&&i.not_found.forEach(s=>{e(s,null),t.push(s)});const n=rs(i);for(const s in n){const r=n[s];r&&(e(s,ls(i,s,r)),t.push(s))}return t}const as={provider:"",aliases:{},not_found:{},...Hn};function it(i,e){for(const t in e)if(t in i&&typeof i[t]!=typeof e[t])return!1;return!0}function jn(i){if(typeof i!="object"||i===null)return null;const e=i;if(typeof e.prefix!="string"||!i.icons||typeof i.icons!="object"||!it(i,as))return null;const t=e.icons;for(const s in t){const r=t[s];if(!s.match(Se)||typeof r.body!="string"||!it(r,lt))return null}const n=e.aliases||Object.create(null);for(const s in n){const r=n[s],l=r.parent;if(!s.match(Se)||typeof l!="string"||!t[l]&&!n[l]||!it(r,lt))return null}return e}const Vt=Object.create(null);function os(i,e){return{provider:i,prefix:e,icons:Object.create(null),missing:new Set}}function de(i,e){const t=Vt[i]||(Vt[i]=Object.create(null));return t[e]||(t[e]=os(i,e))}function kt(i,e){return jn(e)?zn(e,(t,n)=>{n?i.icons[t]=n:i.missing.add(t)}):[]}function us(i,e,t){try{if(typeof t.body=="string")return i.icons[e]={...t},!0}catch{}return!1}let Ae=!1;function Rn(i){return typeof i=="boolean"&&(Ae=i),Ae}function cs(i){const e=typeof i=="string"?Qe(i,!0,Ae):i;if(e){const t=de(e.provider,e.prefix),n=e.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function fs(i,e){const t=Qe(i,!0,Ae);if(!t)return!1;const n=de(t.provider,t.prefix);return us(n,t.name,e)}function ds(i,e){if(typeof i!="object")return!1;if(typeof e!="string"&&(e=i.provider||""),Ae&&!e&&!i.prefix){let s=!1;return jn(i)&&(i.prefix="",zn(i,(r,l)=>{l&&fs(r,l)&&(s=!0)})),s}const t=i.prefix;if(!Be({provider:e,prefix:t,name:"a"}))return!1;const n=de(e,t);return!!kt(n,i)}const Un=Object.freeze({width:null,height:null}),Vn=Object.freeze({...Un,...Ke}),hs=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ms=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Gt(i,e,t){if(e===1)return i;if(t=t||100,typeof i=="number")return Math.ceil(i*e*t)/t;if(typeof i!="string")return i;const n=i.split(hs);if(n===null||!n.length)return i;const s=[];let r=n.shift(),l=ms.test(r);for(;;){if(l){const a=parseFloat(r);isNaN(a)?s.push(r):s.push(Math.ceil(a*e*t)/t)}else s.push(r);if(r=n.shift(),r===void 0)return s.join("");l=!l}}const ps=i=>i==="unset"||i==="undefined"||i==="none";function gs(i,e){const t={...$e,...i},n={...Vn,...e},s={left:t.left,top:t.top,width:t.width,height:t.height};let r=t.body;[t,n].forEach(m=>{const y=[],_=m.hFlip,v=m.vFlip;let g=m.rotate;_?v?g+=2:(y.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),y.push("scale(-1 1)"),s.top=s.left=0):v&&(y.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),y.push("scale(1 -1)"),s.top=s.left=0);let h;switch(g<0&&(g-=Math.floor(g/4)*4),g=g%4,g){case 1:h=s.height/2+s.top,y.unshift("rotate(90 "+h.toString()+" "+h.toString()+")");break;case 2:y.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:h=s.width/2+s.left,y.unshift("rotate(-90 "+h.toString()+" "+h.toString()+")");break}g%2===1&&(s.left!==s.top&&(h=s.left,s.left=s.top,s.top=h),s.width!==s.height&&(h=s.width,s.width=s.height,s.height=h)),y.length&&(r='<g transform="'+y.join(" ")+'">'+r+"</g>")});const l=n.width,a=n.height,o=s.width,u=s.height;let d,f;l===null?(f=a===null?"1em":a==="auto"?u:a,d=Gt(f,o/u)):(d=l==="auto"?o:l,f=a===null?Gt(d,u/o):a==="auto"?u:a);const c={},p=(m,y)=>{ps(y)||(c[m]=y.toString())};return p("width",d),p("height",f),c.viewBox=s.left.toString()+" "+s.top.toString()+" "+o.toString()+" "+u.toString(),{attributes:c,body:r}}const bs=/\sid="(\S+)"/g,vs="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let _s=0;function ys(i,e=vs){const t=[];let n;for(;n=bs.exec(i);)t.push(n[1]);if(!t.length)return i;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(r=>{const l=typeof e=="function"?e(r):e+(_s++).toString(),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i=i.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+l+s+"$3")}),i=i.replace(new RegExp(s,"g"),""),i}const at=Object.create(null);function ks(i,e){at[i]=e}function ot(i){return at[i]||at[""]}function Tt(i){let e;if(typeof i.resources=="string")e=[i.resources];else if(e=i.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:i.path||"/",maxURL:i.maxURL||500,rotate:i.rotate||750,timeout:i.timeout||5e3,random:i.random===!0,index:i.index||0,dataAfterTimeout:i.dataAfterTimeout!==!1}}const wt=Object.create(null),Te=["https://api.simplesvg.com","https://api.unisvg.com"],He=[];for(;Te.length>0;)Te.length===1||Math.random()>.5?He.push(Te.shift()):He.push(Te.pop());wt[""]=Tt({resources:["https://api.iconify.design"].concat(He)});function Ts(i,e){const t=Tt(e);return t===null?!1:(wt[i]=t,!0)}function Et(i){return wt[i]}const ws=()=>{let i;try{if(i=fetch,typeof i=="function")return i}catch{}};let qt=ws();function Es(i,e){const t=Et(i);if(!t)return 0;let n;if(!t.maxURL)n=0;else{let s=0;t.resources.forEach(l=>{s=Math.max(s,l.length)});const r=e+".json?icons=";n=t.maxURL-s-t.path.length-r.length}return n}function Is(i){return i===404}const Ss=(i,e,t)=>{const n=[],s=Es(i,e),r="icons";let l={type:r,provider:i,prefix:e,icons:[]},a=0;return t.forEach((o,u)=>{a+=o.length+1,a>=s&&u>0&&(n.push(l),l={type:r,provider:i,prefix:e,icons:[]},a=o.length),l.icons.push(o)}),n.push(l),n};function As(i){if(typeof i=="string"){const e=Et(i);if(e)return e.path}return"/"}const Cs=(i,e,t)=>{if(!qt){t("abort",424);return}let n=As(e.provider);switch(e.type){case"icons":{const r=e.prefix,a=e.icons.join(","),o=new URLSearchParams({icons:a});n+=r+".json?"+o.toString();break}case"custom":{const r=e.uri;n+=r.slice(0,1)==="/"?r.slice(1):r;break}default:t("abort",400);return}let s=503;qt(i+n).then(r=>{const l=r.status;if(l!==200){setTimeout(()=>{t(Is(l)?"abort":"next",l)});return}return s=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?t("abort",r):t("next",s)});return}setTimeout(()=>{t("success",r)})}).catch(()=>{t("next",s)})},Ps={prepare:Ss,send:Cs};function Ns(i){const e={loaded:[],missing:[],pending:[]},t=Object.create(null);i.sort((s,r)=>s.provider!==r.provider?s.provider.localeCompare(r.provider):s.prefix!==r.prefix?s.prefix.localeCompare(r.prefix):s.name.localeCompare(r.name));let n={provider:"",prefix:"",name:""};return i.forEach(s=>{if(n.name===s.name&&n.prefix===s.prefix&&n.provider===s.provider)return;n=s;const r=s.provider,l=s.prefix,a=s.name,o=t[r]||(t[r]=Object.create(null)),u=o[l]||(o[l]=de(r,l));let d;a in u.icons?d=e.loaded:l===""||u.missing.has(a)?d=e.missing:d=e.pending;const f={provider:r,prefix:l,name:a};d.push(f)}),e}function Gn(i,e){i.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(s=>s.id!==e))})}function Fs(i){i.pendingCallbacksFlag||(i.pendingCallbacksFlag=!0,setTimeout(()=>{i.pendingCallbacksFlag=!1;const e=i.loaderCallbacks?i.loaderCallbacks.slice(0):[];if(!e.length)return;let t=!1;const n=i.provider,s=i.prefix;e.forEach(r=>{const l=r.icons,a=l.pending.length;l.pending=l.pending.filter(o=>{if(o.prefix!==s)return!0;const u=o.name;if(i.icons[u])l.loaded.push({provider:n,prefix:s,name:u});else if(i.missing.has(u))l.missing.push({provider:n,prefix:s,name:u});else return t=!0,!0;return!1}),l.pending.length!==a&&(t||Gn([i],r.id),r.callback(l.loaded.slice(0),l.missing.slice(0),l.pending.slice(0),r.abort))})}))}let Ms=0;function Ls(i,e,t){const n=Ms++,s=Gn.bind(null,t,n);if(!e.pending.length)return s;const r={id:n,icons:e,callback:i,abort:s};return t.forEach(l=>{(l.loaderCallbacks||(l.loaderCallbacks=[])).push(r)}),s}function Os(i,e=!0,t=!1){const n=[];return i.forEach(s=>{const r=typeof s=="string"?Qe(s,e,t):s;r&&n.push(r)}),n}var Ds={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Bs(i,e,t,n){const s=i.resources.length,r=i.random?Math.floor(Math.random()*s):i.index;let l;if(i.random){let w=i.resources.slice(0);for(l=[];w.length>1;){const L=Math.floor(Math.random()*w.length);l.push(w[L]),w=w.slice(0,L).concat(w.slice(L+1))}l=l.concat(w)}else l=i.resources.slice(r).concat(i.resources.slice(0,r));const a=Date.now();let o="pending",u=0,d,f=null,c=[],p=[];typeof n=="function"&&p.push(n);function m(){f&&(clearTimeout(f),f=null)}function y(){o==="pending"&&(o="aborted"),m(),c.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),c=[]}function _(w,L){L&&(p=[]),typeof w=="function"&&p.push(w)}function v(){return{startTime:a,payload:e,status:o,queriesSent:u,queriesPending:c.length,subscribe:_,abort:y}}function g(){o="failed",p.forEach(w=>{w(void 0,d)})}function h(){c.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),c=[]}function k(w,L,N){const V=L!=="success";switch(c=c.filter(M=>M!==w),o){case"pending":break;case"failed":if(V||!i.dataAfterTimeout)return;break;default:return}if(L==="abort"){d=N,g();return}if(V){d=N,c.length||(l.length?S():g());return}if(m(),h(),!i.random){const M=i.resources.indexOf(w.resource);M!==-1&&M!==i.index&&(i.index=M)}o="completed",p.forEach(M=>{M(N)})}function S(){if(o!=="pending")return;m();const w=l.shift();if(w===void 0){if(c.length){f=setTimeout(()=>{m(),o==="pending"&&(h(),g())},i.timeout);return}g();return}const L={status:"pending",resource:w,callback:(N,V)=>{k(L,N,V)}};c.push(L),u++,f=setTimeout(S,i.rotate),t(w,e,L.callback)}return setTimeout(S),v}function qn(i){const e={...Ds,...i};let t=[];function n(){t=t.filter(a=>a().status==="pending")}function s(a,o,u){const d=Bs(e,a,o,(f,c)=>{n(),u&&u(f,c)});return t.push(d),d}function r(a){return t.find(o=>a(o))||null}return{query:s,find:r,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:n}}function xt(){}const st=Object.create(null);function Hs(i){if(!st[i]){const e=Et(i);if(!e)return;const t=qn(e),n={config:e,redundancy:t};st[i]=n}return st[i]}function zs(i,e,t){let n,s;if(typeof i=="string"){const r=ot(i);if(!r)return t(void 0,424),xt;s=r.send;const l=Hs(i);l&&(n=l.redundancy)}else{const r=Tt(i);if(r){n=qn(r);const l=i.resources?i.resources[0]:"",a=ot(l);a&&(s=a.send)}}return!n||!s?(t(void 0,424),xt):n.query(e,s,t)().abort}const Wt="iconify2",Ce="iconify",xn=Ce+"-count",Kt=Ce+"-version",Wn=36e5,js=168;function ut(i,e){try{return i.getItem(e)}catch{}}function It(i,e,t){try{return i.setItem(e,t),!0}catch{}}function Jt(i,e){try{i.removeItem(e)}catch{}}function ct(i,e){return It(i,xn,e.toString())}function ft(i){return parseInt(ut(i,xn))||0}const et={local:!0,session:!0},Kn={local:new Set,session:new Set};let St=!1;function Rs(i){St=i}let Me=typeof window>"u"?{}:window;function Jn(i){const e=i+"Storage";try{if(Me&&Me[e]&&typeof Me[e].length=="number")return Me[e]}catch{}et[i]=!1}function Yn(i,e){const t=Jn(i);if(!t)return;const n=ut(t,Kt);if(n!==Wt){if(n){const a=ft(t);for(let o=0;o<a;o++)Jt(t,Ce+o.toString())}It(t,Kt,Wt),ct(t,0);return}const s=Math.floor(Date.now()/Wn)-js,r=a=>{const o=Ce+a.toString(),u=ut(t,o);if(typeof u=="string"){try{const d=JSON.parse(u);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>s&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&e(d,a))return!0}catch{}Jt(t,o)}};let l=ft(t);for(let a=l-1;a>=0;a--)r(a)||(a===l-1?(l--,ct(t,l)):Kn[i].add(a))}function Xn(){if(!St){Rs(!0);for(const i in et)Yn(i,e=>{const t=e.data,n=e.provider,s=t.prefix,r=de(n,s);if(!kt(r,t).length)return!1;const l=t.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,l):l,!0})}}function Us(i,e){const t=i.lastModifiedCached;if(t&&t>=e)return t===e;if(i.lastModifiedCached=e,t)for(const n in et)Yn(n,s=>{const r=s.data;return s.provider!==i.provider||r.prefix!==i.prefix||r.lastModified===e});return!0}function Vs(i,e){St||Xn();function t(n){let s;if(!et[n]||!(s=Jn(n)))return;const r=Kn[n];let l;if(r.size)r.delete(l=Array.from(r).shift());else if(l=ft(s),!ct(s,l+1))return;const a={cached:Math.floor(Date.now()/Wn),provider:i.provider,data:e};return It(s,Ce+l.toString(),JSON.stringify(a))}e.lastModified&&!Us(i,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),t("local")||t("session"))}function Yt(){}function Gs(i){i.iconsLoaderFlag||(i.iconsLoaderFlag=!0,setTimeout(()=>{i.iconsLoaderFlag=!1,Fs(i)}))}function qs(i,e){i.iconsToLoad?i.iconsToLoad=i.iconsToLoad.concat(e).sort():i.iconsToLoad=e,i.iconsQueueFlag||(i.iconsQueueFlag=!0,setTimeout(()=>{i.iconsQueueFlag=!1;const{provider:t,prefix:n}=i,s=i.iconsToLoad;delete i.iconsToLoad;let r;if(!s||!(r=ot(t)))return;r.prepare(t,n,s).forEach(a=>{zs(t,a,o=>{if(typeof o!="object")a.icons.forEach(u=>{i.missing.add(u)});else try{const u=kt(i,o);if(!u.length)return;const d=i.pendingIcons;d&&u.forEach(f=>{d.delete(f)}),Vs(i,o)}catch(u){console.error(u)}Gs(i)})})}))}const xs=(i,e)=>{const t=Os(i,!0,Rn()),n=Ns(t);if(!n.pending.length){let o=!0;return e&&setTimeout(()=>{o&&e(n.loaded,n.missing,n.pending,Yt)}),()=>{o=!1}}const s=Object.create(null),r=[];let l,a;return n.pending.forEach(o=>{const{provider:u,prefix:d}=o;if(d===a&&u===l)return;l=u,a=d,r.push(de(u,d));const f=s[u]||(s[u]=Object.create(null));f[d]||(f[d]=[])}),n.pending.forEach(o=>{const{provider:u,prefix:d,name:f}=o,c=de(u,d),p=c.pendingIcons||(c.pendingIcons=new Set);p.has(f)||(p.add(f),s[u][d].push(f))}),r.forEach(o=>{const{provider:u,prefix:d}=o;s[u][d].length&&qs(o,s[u][d])}),e?Ls(e,n,r):Yt};function Ws(i,e){const t={...i};for(const n in e){const s=e[n],r=typeof s;n in Un?(s===null||s&&(r==="string"||r==="number"))&&(t[n]=s):r===typeof t[n]&&(t[n]=n==="rotate"?s%4:s)}return t}const Ks=/[\s,]+/;function Js(i,e){e.split(Ks).forEach(t=>{switch(t.trim()){case"horizontal":i.hFlip=!0;break;case"vertical":i.vFlip=!0;break}})}function Ys(i,e=0){const t=i.replace(/^-?[0-9.]*/,"");function n(s){for(;s<0;)s+=4;return s%4}if(t===""){const s=parseInt(i);return isNaN(s)?0:n(s)}else if(t!==i){let s=0;switch(t){case"%":s=25;break;case"deg":s=90}if(s){let r=parseFloat(i.slice(0,i.length-t.length));return isNaN(r)?0:(r=r/s,r%1===0?n(r):0)}}return e}function Xs(i,e){let t=i.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)t+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+i+"</svg>"}function Zs(i){return i.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Qs(i){return"data:image/svg+xml,"+Zs(i)}function $s(i){return'url("'+Qs(i)+'")'}const Xt={...Vn,inline:!1},er={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},tr={display:"inline-block"},dt={"background-color":"currentColor"},Zn={"background-color":"transparent"},Zt={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Qt={"-webkit-mask":dt,mask:dt,background:Zn};for(const i in Qt){const e=Qt[i];for(const t in Zt)e[i+"-"+t]=Zt[t]}function nr(i){return i+(i.match(/^[-0-9.]+$/)?"px":"")}function ir(i,e){const t=Ws(Xt,e),n=e.mode||"svg",s=n==="svg"?{...er}:{};i.body.indexOf("xlink:")===-1&&delete s["xmlns:xlink"];let r=typeof e.style=="string"?e.style:"";for(let v in e){const g=e[v];if(g!==void 0)switch(v){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":t[v]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&Js(t,g);break;case"color":r=r+(r.length>0&&r.trim().slice(-1)!==";"?";":"")+"color: "+g+"; ";break;case"rotate":typeof g=="string"?t[v]=Ys(g):typeof g=="number"&&(t[v]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete s["aria-hidden"];break;default:if(v.slice(0,3)==="on:")break;Xt[v]===void 0&&(s[v]=g)}}const l=gs(i,t),a=l.attributes;if(t.inline&&(r="vertical-align: -0.125em; "+r),n==="svg"){Object.assign(s,a),r!==""&&(s.style=r);let v=0,g=e.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),{svg:!0,attributes:s,body:ys(l.body,g?()=>g+"ID"+v++:"iconifySvelte")}}const{body:o,width:u,height:d}=i,f=n==="mask"||(n==="bg"?!1:o.indexOf("currentColor")!==-1),c=Xs(o,{...a,width:u+"",height:d+""}),m={"--svg":$s(c)},y=v=>{const g=a[v];g&&(m[v]=nr(g))};y("width"),y("height"),Object.assign(m,tr,f?dt:Zn);let _="";for(const v in m)_+=v+": "+m[v]+";";return s.style=_+r,{svg:!1,attributes:s}}Rn(!0);ks("",Ps);if(typeof document<"u"&&typeof window<"u"){Xn();const i=window;if(i.IconifyPreload!==void 0){const e=i.IconifyPreload,t="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!ds(n))&&console.error(t)}catch{console.error(t)}})}if(i.IconifyProviders!==void 0){const e=i.IconifyProviders;if(typeof e=="object"&&e!==null)for(let t in e){const n="IconifyProviders["+t+"] is invalid.";try{const s=e[t];if(typeof s!="object"||!s||s.resources===void 0)continue;Ts(t,s)||console.error(n)}catch{console.error(n)}}}}function sr(i,e,t,n,s){function r(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof i=="object"&&i!==null&&typeof i.body=="string")return e.name="",r(),{data:{...$e,...i}};let l;if(typeof i!="string"||(l=Qe(i,!1,!0))===null)return r(),null;const a=cs(l);if(!a)return t&&(!e.loading||e.loading.name!==i)&&(r(),e.name="",e.loading={name:i,abort:xs([l],n)}),null;r(),e.name!==i&&(e.name=i,s&&!e.destroyed&&s(i));const o=["iconify"];return l.prefix!==""&&o.push("iconify--"+l.prefix),l.provider!==""&&o.push("iconify--"+l.provider),{data:a,classes:o}}function rr(i,e){return i?ir({...$e,...i},e):null}function $t(i){let e;function t(r,l){return r[0].svg?ar:lr}let n=t(i),s=n(i);return{c(){s.c(),e=W()},l(r){s.l(r),e=W()},m(r,l){s.m(r,l),E(r,e,l)},p(r,l){n===(n=t(r))&&s?s.p(r,l):(s.d(1),s=n(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){s.d(r),r&&b(e)}}}function lr(i){let e,t=[i[0].attributes],n={};for(let s=0;s<t.length;s+=1)n=oe(n,t[s]);return{c(){e=A("span"),this.h()},l(s){e=C(s,"SPAN",{}),P(e).forEach(b),this.h()},h(){ve(e,n)},m(s,r){E(s,e,r)},p(s,r){ve(e,n=Ye(t,[r&1&&s[0].attributes]))},d(s){s&&b(e)}}}function ar(i){let e,t=i[0].body+"",n=[i[0].attributes],s={};for(let r=0;r<n.length;r+=1)s=oe(s,n[r]);return{c(){e=mi("svg"),this.h()},l(r){e=pi(r,"svg",{});var l=P(e);l.forEach(b),this.h()},h(){Ct(e,s)},m(r,l){E(r,e,l),e.innerHTML=t},p(r,l){l&1&&t!==(t=r[0].body+"")&&(e.innerHTML=t),Ct(e,s=Ye(n,[l&1&&r[0].attributes]))},d(r){r&&b(e)}}}function or(i){let e,t=i[0]&&$t(i);return{c(){t&&t.c(),e=W()},l(n){t&&t.l(n),e=W()},m(n,s){t&&t.m(n,s),E(n,e,s)},p(n,[s]){n[0]?t?t.p(n,s):(t=$t(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:R,o:R,d(n){t&&t.d(n),n&&b(e)}}}function ur(i,e,t){const n={name:"",loading:null,destroyed:!1};let s=!1,r=0,l;const a=u=>{typeof e.onLoad=="function"&&e.onLoad(u),Pe()("load",{icon:u})};function o(){t(3,r++,r)}return Xe(()=>{t(2,s=!0)}),hi(()=>{t(1,n.destroyed=!0,n),n.loading&&(n.loading.abort(),t(1,n.loading=null,n))}),i.$$set=u=>{t(6,e=oe(oe({},e),_e(u)))},i.$$.update=()=>{{const u=sr(e.icon,n,s,o,a);t(0,l=u?rr(u.data,e):null),l&&u.classes&&t(0,l.attributes.class=(typeof e.class=="string"?e.class+" ":"")+u.classes.join(" "),l)}},e=_e(e),[l,n,s,r]}class en extends re{constructor(e){super(),le(this,e,ur,or,te,{})}}var cr=Object.defineProperty,tn=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,nn=(i,e,t)=>e in i?cr(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,hr=(i,e)=>{for(var t in e||(e={}))fr.call(e,t)&&nn(i,t,e[t]);if(tn)for(var t of tn(e))dr.call(e,t)&&nn(i,t,e[t]);return i},Qn=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},G=(i,e,t)=>(Qn(i,e,"read from private field"),t?t.call(i):e.get(i)),ae=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},ie=(i,e,t,n)=>(Qn(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),ye=(i,e,t)=>new Promise((n,s)=>{var r=o=>{try{a(t.next(o))}catch(u){s(u)}},l=o=>{try{a(t.throw(o))}catch(u){s(u)}},a=o=>o.done?n(o.value):Promise.resolve(o.value).then(r,l);a((t=t.apply(i,e)).next())});function mr(i,e,t){return ye(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const n=yield t.fetch(e);if(n.status!==200){console.warn("Error loading buffer. Invalid status: ",n.status,e);return}try{const s=yield n.arrayBuffer();return yield i.decodeAudioData(s)}catch(s){console.warn("Error loading buffer",s,e)}})}function pr(i){if(typeof document>"u")return null;const e=document.createElement("audio");for(let t=0;t<i.length;t++){const n=i[t],s=e.canPlayType(`audio/${n}`);if(s==="probably"||s==="maybe")return n;if(n==="m4a"){const r=e.canPlayType("audio/aac");if(r==="probably"||r==="maybe")return n}}return null}var $n={fetch(i){return fetch(i)}};function ze(i){const e=i.filter(t=>!!t);return e.reduce((t,n)=>{const s="output"in t?t.output:t,r="input"in n?n.input:n;return s.connect(r),n}),()=>{e.reduce((t,n)=>{const s="output"in t?t.output:t,r="input"in n?n.input:n;return s.disconnect(r),n})}}function gr(i){const t=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(i);if(!t)return;const n=t[1].toUpperCase();if(!n)return;const s=t[2],r=s[0]==="b"?-s.length:s.length,l=t[3]?+t[3]:4,a=(n.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][a]+r+12*(l+1)}function ei(i){return i===void 0?void 0:typeof i=="number"?i:gr(i)}function ht(i){return i*i/16129}function br(i,e){let t=0;for(;e[i+t]===void 0&&t<128;)t>0?t=-t:t=-t+1;return t===127?[i,0]:[i+t,-t*100]}function vr(i){let e=i;const t=new Set;function n(l){return t.add(l),l(e),()=>{t.delete(l)}}function s(l){e=l,t.forEach(a=>a(e))}function r(){return e}return{subscribe:n,set:s,get:r}}function _r(){const i=new Set;function e(n){return i.add(n),()=>{i.delete(n)}}function t(n){i.forEach(s=>s(n))}return{subscribe:e,trigger:t}}function yr(i){let e=!1;return()=>{e||(e=!0,i.forEach(t=>t==null?void 0:t()))}}var fe,ce,pe,ge,je,we,kr=class{constructor(i,e){this.context=i,ae(this,fe,void 0),ae(this,ce,void 0),ae(this,pe,void 0),ae(this,ge,void 0),ae(this,je,void 0),ae(this,we,void 0);var t,n;ie(this,we,Object.freeze(hr({destination:i.destination,volume:100,volumeToGain:ht},e))),this.input=new GainNode(this.context),ie(this,fe,new GainNode(this.context)),ie(this,ge,ze([this.input,G(this,fe),G(this,we).destination]));const s=vr((t=e.volume)!=null?t:100);this.setVolume=s.set;const r=(n=e.volumeToGain)!=null?n:ht;ie(this,je,s.subscribe(l=>{G(this,fe).gain.value=r(l)}))}addInsert(i){var e;(e=G(this,pe))!=null||ie(this,pe,[]),G(this,pe).push(i),G(this,ge).call(this),ie(this,ge,ze([this.input,...G(this,pe),G(this,fe),G(this,we).destination]))}addEffect(i,e,t){var n;const s=new GainNode(this.context);s.gain.value=t;const r="input"in e?e.input:e,l=ze([G(this,fe),s,r]);(n=G(this,ce))!=null||ie(this,ce,[]),G(this,ce).push({name:i,mix:s,disconnect:l})}sendEffect(i,e){var t;const n=(t=G(this,ce))==null?void 0:t.find(s=>s.name===i);n?n.mix.gain.value=e:console.warn("Send bus not found: "+i)}disconnect(){var i;G(this,ge).call(this),G(this,je).call(this),(i=G(this,ce))==null||i.forEach(e=>e.disconnect()),ie(this,ce,void 0)}};fe=new WeakMap;ce=new WeakMap;pe=new WeakMap;ge=new WeakMap;je=new WeakMap;we=new WeakMap;function Tr(i){var e,t,n;const s=i.destination.context,r=s.createBufferSource();r.buffer=i.buffer,r.detune.value=(e=i==null?void 0:i.detune)!=null?e:0;const l=i.lpfCutoffHz?new BiquadFilterNode(s,{type:"lowpass",frequency:i.lpfCutoffHz}):void 0,a=s.createGain();a.gain.value=(t=i==null?void 0:i.gain)!=null?t:1;const[o,u]=wr(s,i.decayTime),d=yr([ze([r,l,a,o,i.destination]),(n=i.stop)==null?void 0:n.call(i,p=>{(p===void 0||p.stopId===void 0||p.stopId===i.stopId)&&c(p==null?void 0:p.time)})]);r.onended=()=>{var p;d(),(p=i.onEnded)==null||p.call(i)};const f=i.time||s.currentTime;r.start(f);function c(p){if(p??(p=s.currentTime),p<=f)r.stop(p);else{const m=u(p);r.stop(m)}}return i.duration!==void 0&&c(f+i.duration),c}function wr(i,e=.2){let t=0;const n=new GainNode(i,{gain:1});function s(r){if(t)return t;n.gain.cancelScheduledValues(r);const l=r||i.currentTime;return t=l+e,n.gain.setValueAtTime(1,l),n.gain.linearRampToValueAtTime(0,t),t}return[n,s]}var ne,Ee,Re,Ie,Er=class{constructor(i,e={}){this.context=i,ae(this,ne,void 0),ae(this,Ee,void 0),ae(this,Re,void 0),ae(this,Ie,void 0);var t,n,s,r,l,a,o;ie(this,ne,{destination:(t=e.destination)!=null?t:i.destination,detune:0,volume:(n=e.volume)!=null?n:100,velocity:(s=e.velocity)!=null?s:100,buffers:(r=e.buffers)!=null?r:{},volumeToGain:(l=e.volumeToGain)!=null?l:ht,noteToSample:(a=e.noteToSample)!=null?a:f=>[f.note.toString(),0]}),this.buffers={},ie(this,Ee,_r());const u=(o=e.storage)!=null?o:$n,d=typeof G(this,ne).buffers=="function"?G(this,ne).buffers:Ir(G(this,ne).buffers,u);ie(this,Re,d(i,this.buffers)),ie(this,Ie,new kr(i,G(this,ne))),this.output=G(this,Ie)}loaded(){return ye(this,null,function*(){return yield G(this,Re),this})}start(i){var e,t,n;const s=typeof i=="object"?i:{note:i},[r,l]=G(this,ne).noteToSample(s,this.buffers,G(this,ne)),a=this.buffers[r];if(!a)return console.warn(`Sample not found: '${r}'`),()=>{};const o=s.onEnded;return Tr({buffer:a,destination:G(this,Ie).input,time:s.time,duration:s.duration,decayTime:s.decayTime,lpfCutoffHz:s.lpfCutoffHz,detune:l+((e=s.detune)!=null?e:G(this,ne).detune),gain:G(this,ne).volumeToGain((t=s.velocity)!=null?t:G(this,ne).velocity),stop:G(this,Ee).subscribe,stopId:(n=s.stopId)!=null?n:s.note,onEnded:o?()=>o(i):void 0})}stop(i){const e=typeof i=="object"?i:{stopId:i};G(this,Ee).trigger(e)}};ne=new WeakMap;Ee=new WeakMap;Re=new WeakMap;Ie=new WeakMap;function Ir(i,e){return(t,n)=>ye(this,null,function*(){yield Promise.all([Object.keys(i).map(s=>ye(this,null,function*(){const r=i[s];if(r instanceof AudioBuffer)n[s]=r;else if(typeof r=="string"){const l=yield mr(t,r,e);l&&(n[s]=l)}}))])})}var Sr=class extends Er{constructor(i,e){var t,n,s,r;const l=e.instrument.startsWith("http")?e.instrument:Fr(e.instrument,(t=e.kit)!=null?t:"MusyngKite");super(i,{destination:e.destination,detune:e.detune,volume:e.volume,velocity:e.velocity,decayTime:(n=e.decayTime)!=null?n:.5,lpfCutoffHz:e.lpfCutoffHz,buffers:Ar(l,(s=e.storage)!=null?s:$n),noteToSample:(u,d,f)=>{let c=ei(u.note);return c===void 0?["",0]:br(c,d)}});const a=(r=e.extraGain)!=null?r:5,o=new GainNode(i,{gain:a});this.output.addInsert(o)}};function Ar(i,e){return(t,n)=>ye(this,null,function*(){const s=yield(yield e.fetch(i)).text(),r=Cr(s),l=Object.keys(r);yield Promise.all(l.map(a=>ye(this,null,function*(){const o=ei(a);if(!o)return;const u=Nr(Pr(r[a])),d=yield t.decodeAudioData(u);n[o]=d})))})}function Cr(i){const e=i.indexOf("MIDI.Soundfont.");if(e<0)throw Error("Invalid MIDI.js Soundfont format");const t=i.indexOf("=",e)+2,n=i.lastIndexOf(",");return JSON.parse(i.slice(t,n)+"}")}function Pr(i){return i.slice(i.indexOf(",")+1)}function Nr(i){const e=window.atob(i),t=e.length,n=new Uint8Array(t);for(let s=0;s<t;s++)n[s]=e.charCodeAt(s);return n.buffer}function Fr(i,e){var t;const n=(t=pr(["ogg","mp3"]))!=null?t:"mp3";return`https://gleitz.github.io/midi-js-soundfonts/${e}/${i}-${n}.js`}function Mr(i,e,t){let n={};for(let o=1;o<i.length;o++)for(let u of i[o])if(u.name==="Note on"){let d=Math.round(u.tick/t/120*60*1e3);n[d]||(n[d]={tick:u.tick,milliseconds:d,trackIndex:o})}let s=[],r=Object.keys(e);for(let o of r)n[parseInt(o)]||s.push(parseInt(o));let l={},a;r=Object.keys(n);for(let o of s){for(let u=0;u<r.length;u++)parseInt(r[u])<o&&(a=n[r[u]],a.missingEvent=o,a.timerDelta=o-a.milliseconds,a.onNotes=e[o].on,a.offNotes=e[o].off);l[a.milliseconds]=a}return l}function Le(i){let e=Math.floor(i/60),t=Math.floor(i-e*60);return e=e.toString().padStart(2,"0"),t=t.toString().padStart(2,"0"),`${e}:${t}`}function sn(i,e,t){const n=i.slice();return n[21]=e[t],n[22]=e,n[23]=t,n}function Lr(i){let e=Le(i[1])+"",t,n,s,r,l,a,o=Le(i[0])+"",u,d,f,c;function p(h){i[10](h)}function m(h){i[11](h)}let y={step:.5};i[1]!==void 0&&(y.value=i[1]),i[0]!==void 0&&(y.max=i[0]),s=new wi({props:y}),Ge.push(()=>qe(s,"value",p)),Ge.push(()=>qe(s,"max",m)),s.$on("click",function(){Ze(i[6](i[1]))&&i[6](i[1]).apply(this,arguments)});let _=i[3],v=[];for(let h=0;h<_.length;h+=1)v[h]=rn(sn(i,_,h));const g=h=>O(v[h],1,1,()=>{v[h]=null});return{c(){t=z(e),n=B(),K(s.$$.fragment),a=B(),u=z(o),d=B();for(let h=0;h<v.length;h+=1)v[h].c();f=W()},l(h){t=j(h,e),n=H(h),J(s.$$.fragment,h),a=H(h),u=j(h,o),d=H(h);for(let k=0;k<v.length;k+=1)v[k].l(h);f=W()},m(h,k){E(h,t,k),E(h,n,k),Y(s,h,k),E(h,a,k),E(h,u,k),E(h,d,k);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(h,k);E(h,f,k),c=!0},p(h,k){i=h,(!c||k&2)&&e!==(e=Le(i[1])+"")&&Q(t,e);const S={};if(!r&&k&2&&(r=!0,S.value=i[1],xe(()=>r=!1)),!l&&k&1&&(l=!0,S.max=i[0],xe(()=>l=!1)),s.$set(S),(!c||k&1)&&o!==(o=Le(i[0])+"")&&Q(u,o),k&136){_=i[3];let w;for(w=0;w<_.length;w+=1){const L=sn(i,_,w);v[w]?(v[w].p(L,k),F(v[w],1)):(v[w]=rn(L),v[w].c(),F(v[w],1),v[w].m(f.parentNode,f))}for($(),w=_.length;w<v.length;w+=1)g(w);ee()}},i(h){if(!c){F(s.$$.fragment,h);for(let k=0;k<_.length;k+=1)F(v[k]);c=!0}},o(h){O(s.$$.fragment,h),v=v.filter(Boolean);for(let k=0;k<v.length;k+=1)O(v[k]);c=!1},d(h){h&&b(t),h&&b(n),X(s,h),h&&b(a),h&&b(u),h&&b(d),he(v,h),h&&b(f)}}}function Or(i){let e,t;return e=new Mn({}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){Y(e,n,s),t=!0},p:R,i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function rn(i){let e,t,n,s=i[21].name+"",r,l,a,o;function u(f){i[12](f,i[21])}let d={name:i[21].instrumentTrack+"-"+i[21].name};return i[21].playing!==void 0&&(d.checked=i[21].playing),l=new Ni({props:d}),Ge.push(()=>qe(l,"checked",u)),l.$on("change",i[7]),{c(){e=A("br"),t=B(),n=A("span"),r=z(s),K(l.$$.fragment)},l(f){e=C(f,"BR",{}),t=H(f),n=C(f,"SPAN",{});var c=P(n);r=j(c,s),c.forEach(b),J(l.$$.fragment,f)},m(f,c){E(f,e,c),E(f,t,c),E(f,n,c),I(n,r),Y(l,f,c),o=!0},p(f,c){i=f,(!o||c&8)&&s!==(s=i[21].name+"")&&Q(r,s);const p={};c&8&&(p.name=i[21].instrumentTrack+"-"+i[21].name),!a&&c&8&&(a=!0,p.checked=i[21].playing,xe(()=>a=!1)),l.$set(p)},i(f){o||(F(l.$$.fragment,f),o=!0)},o(f){O(l.$$.fragment,f),o=!1},d(f){f&&b(e),f&&b(t),f&&b(n),X(l,f)}}}function Dr(i){let e,t,n,s,r,l,a,o,u,d,f,c;t=new en({props:{icon:"material-symbols:play-pause"}}),r=new en({props:{icon:"material-symbols:stop"}});const p=[Or,Lr],m=[];function y(_,v){return _[2]?1:0}return o=y(i),u=m[o]=p[o](i),{c(){e=A("button"),K(t.$$.fragment),n=B(),s=A("button"),K(r.$$.fragment),l=B(),a=A("span"),u.c(),this.h()},l(_){e=C(_,"BUTTON",{id:!0});var v=P(e);J(t.$$.fragment,v),v.forEach(b),n=H(_),s=C(_,"BUTTON",{id:!0});var g=P(s);J(r.$$.fragment,g),g.forEach(b),l=H(_),a=C(_,"SPAN",{});var h=P(a);u.l(h),h.forEach(b),this.h()},h(){T(e,"id","playMIDI"),T(s,"id","stopMIDI")},m(_,v){E(_,e,v),Y(t,e,null),E(_,n,v),E(_,s,v),Y(r,s,null),E(_,l,v),E(_,a,v),m[o].m(a,null),d=!0,f||(c=[U(e,"click",i[4]),U(s,"click",i[5])],f=!0)},p(_,[v]){let g=o;o=y(_),o===g?m[o].p(_,v):($(),O(m[g],1,1,()=>{m[g]=null}),ee(),u=m[o],u?u.p(_,v):(u=m[o]=p[o](_),u.c()),F(u,1),u.m(a,null))},i(_){d||(F(t.$$.fragment,_),F(r.$$.fragment,_),F(u),d=!0)},o(_){O(t.$$.fragment,_),O(r.$$.fragment,_),O(u),d=!1},d(_){_&&b(e),X(t),_&&b(n),_&&b(s),X(r),_&&b(l),_&&b(a),m[o].d(),f=!1,ue(c)}}}function Br(i,e,t){let{midiFile:n=void 0}=e,{timeMap:s=void 0}=e;const r=Pe();let l,a,o=[],u=0,d=0,f=!1,c=[],p,m=[];const y=function(){l.isPlaying()?(l.pause(),v()):l.play()},_=function(){v(),a.suspend(),l.stop(),t(1,d=0),r("playStopped");for(let N of m)clearTimeout(N)},v=function(){for(let N=0;N<o.length;N++)o[N].stop()},g=function(N){a.resume();for(const M in c)c[M].playing||l.tracks[parseInt(M)+1].disable();let V=Math.round(N.tick/l.division/120*60*1e3);if(p[V]){let M=setTimeout(function(){r("noteOn",p[V].onNotes),r("noteOff",p[V].offNotes)},p[V].timerDelta);m.push(M)}try{N.name==="Note on"&&(r("noteOn",s[V].on),r("noteOff",s[V].off))}catch(M){console.log(M),console.log(V),console.log(s)}N.name=="Note on"&&N.velocity>0?o[N.track-2].start({note:N.noteName,velocity:N.velocity}):N.name=="Note on"&&N.velocity==0&&o[N.track-2].stop()},h=async function(){if(l.isPlaying()){v(),r("skipPlay");for(let N of m)clearTimeout(N);await l.stop(),await l.skipToSeconds(d),y()}else l.skipToSeconds(d)},k=function(){const N=this.name.split("-");c[parseInt(N[0])].playing?l.tracks[parseInt(N[0])+1].enable():(o[parseInt(N[0])].stop(),l.tracks[parseInt(N[0])+1].disable())};Xe(async()=>{l=new is.Player(M=>g(M)),l.on("endOfFile",function(){r("playStopped")}),l.loadDataUri(n),t(0,u=l.getSongTime());try{a=new AudioContext}catch(M){console.log(M),a=""}let N=l.getEvents();const V={Superius:"violin",Contratenor:"viola",PrimusTenor:"cello",SecundusTenor:"flute",Bassus:"contrabass",default:"acoustic_grand_piano"};for(let M=1;M<N.length;M++){let q="default";N[M][0].name==="Sequence/Track Name"&&Object.keys(V).includes(N[M][0].string)&&(q=N[M][0].string);let me=await new Sr(a,{instrument:V[q]}).loaded();o.push(me),c.push({name:q,instrumentTrack:M-1,chosenInstrument:V[q],playing:!0})}setInterval(function(){l.isPlaying()&&t(1,d=u-l.getSongTimeRemaining())},1e3),p=Mr(N,s,l.division),t(2,f=!0)});function S(N){d=N,t(1,d)}function w(N){u=N,t(0,u)}function L(N,V){i.$$.not_equal(V.playing,N)&&(V.playing=N,t(3,c))}return i.$$set=N=>{"midiFile"in N&&t(8,n=N.midiFile),"timeMap"in N&&t(9,s=N.timeMap)},[u,d,f,c,y,_,h,k,n,s,S,w,L]}class Hr extends re{constructor(e){super(),le(this,e,Br,Dr,te,{midiFile:8,timeMap:9})}}function ln(i){let e,t,n,s;return{c(){e=A("button"),t=z("<"),this.h()},l(r){e=C(r,"BUTTON",{type:!0,class:!0,"data-testid":!0});var l=P(e);t=j(l,"<"),l.forEach(b),this.h()},h(){T(e,"type","button"),T(e,"class","btn variant-filled"),T(e,"data-testid","btn-prev")},m(r,l){E(r,e,l),I(e,t),n||(s=U(e,"click",i[3]),n=!0)},p:R,d(r){r&&b(e),n=!1,s()}}}function zr(i){let e=i[0][i[4]]+"",t,n;return{c(){t=z(e),n=z(";")},l(s){t=j(s,e),n=j(s,";")},m(s,r){E(s,t,r),E(s,n,r)},p(s,r){r&17&&e!==(e=s[0][s[4]]+"")&&Q(t,e)},d(s){s&&b(t),s&&b(n)}}}function jr(i){let e,t=i[0][i[4]]+"",n;return{c(){e=new Nn(!1),n=W(),this.h()},l(s){e=Fn(s,!1),n=W(),this.h()},h(){e.a=n},m(s,r){e.m(t,s,r),E(s,n,r)},p(s,r){r&17&&t!==(t=s[0][s[4]]+"")&&e.p(t)},d(s){s&&b(n),s&&e.d()}}}function an(i){let e,t,n,s;return{c(){e=A("button"),t=z(">"),this.h()},l(r){e=C(r,"BUTTON",{type:!0,class:!0,"data-testid":!0});var l=P(e);t=j(l,">"),l.forEach(b),this.h()},h(){T(e,"type","button"),T(e,"class","btn variant-filled"),T(e,"data-testid","btn-nxt")},m(r,l){E(r,e,l),I(e,t),n||(s=U(e,"click",i[2]),n=!0)},p:R,d(r){r&&b(e),n=!1,s()}}}function Rr(i){let e,t,n,s,r,l,a=i[4]>0&&ln(i);function o(c,p){return c[1]?jr:zr}let u=o(i),d=u(i),f=i[4]<i[0].length-1&&an(i);return{c(){e=A("div"),t=A("div"),a&&a.c(),n=B(),s=A("div"),d.c(),r=B(),l=A("div"),f&&f.c(),this.h()},l(c){e=C(c,"DIV",{id:!0,"data-testid":!0,class:!0});var p=P(e);t=C(p,"DIV",{class:!0});var m=P(t);a&&a.l(m),m.forEach(b),n=H(p),s=C(p,"DIV",{id:!0});var y=P(s);d.l(y),y.forEach(b),r=H(p),l=C(p,"DIV",{class:!0});var _=P(l);f&&f.l(_),_.forEach(b),p.forEach(b),this.h()},h(){T(t,"class","left svelte-1mkf375"),T(s,"id","content"),T(l,"class","right svelte-1mkf375"),T(e,"id","page"),T(e,"data-testid","paginator"),T(e,"class","svelte-1mkf375")},m(c,p){E(c,e,p),I(e,t),a&&a.m(t,null),I(e,n),I(e,s),d.m(s,null),I(e,r),I(e,l),f&&f.m(l,null)},p(c,[p]){c[4]>0?a?a.p(c,p):(a=ln(c),a.c(),a.m(t,null)):a&&(a.d(1),a=null),u===(u=o(c))&&d?d.p(c,p):(d.d(1),d=u(c),d&&(d.c(),d.m(s,null))),c[4]<c[0].length-1?f?f.p(c,p):(f=an(c),f.c(),f.m(l,null)):f&&(f.d(1),f=null)},i:R,o:R,d(c){c&&b(e),a&&a.d(),d.d(),f&&f.d()}}}function Ur(i,e,t){let{data:n=void 0}=e,{raw:s=void 0}=e,r=0;function l(){t(4,r++,r)}function a(){t(4,r--,r)}function o(u){t(4,r=u)}return i.$$set=u=>{"data"in u&&t(0,n=u.data),"raw"in u&&t(1,s=u.raw)},[n,s,l,a,r,o]}class Vr extends re{constructor(e){super(),le(this,e,Ur,Rr,te,{data:0,raw:1,nextPage:2,prevPage:3,goToPage:5})}get nextPage(){return this.$$.ctx[2]}get prevPage(){return this.$$.ctx[3]}get goToPage(){return this.$$.ctx[5]}}function Gr(i){let e,t;return e=new Hr({props:{midiFile:i[1],timeMap:i[2]}}),e.$on("noteOn",i[4]),e.$on("noteOff",i[5]),e.$on("playStopped",i[6]),e.$on("skipPlay",i[6]),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){Y(e,n,s),t=!0},p(n,s){const r={};s&2&&(r.midiFile=n[1]),s&4&&(r.timeMap=n[2]),e.$set(r)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function qr(i){let e,t;return{c(){e=A("p"),t=z("Playback is not available"),this.h()},l(n){e=C(n,"P",{class:!0});var s=P(e);t=j(s,"Playback is not available"),s.forEach(b),this.h()},h(){T(e,"class","error")},m(n,s){E(n,e,s),I(e,t)},p:R,i:R,o:R,d(n){n&&b(e)}}}function xr(i){let e,t;return{c(){e=A("p"),t=z("Could not engrave the MEI file."),this.h()},l(n){e=C(n,"P",{class:!0});var s=P(e);t=j(s,"Could not engrave the MEI file."),s.forEach(b),this.h()},h(){T(e,"class","error")},m(n,s){E(n,e,s),I(e,t)},p:R,i:R,o:R,d(n){n&&b(e)}}}function Wr(i){let e,t=i[0][0]+"",n;return{c(){e=new Nn(!1),n=W(),this.h()},l(s){e=Fn(s,!1),n=W(),this.h()},h(){e.a=n},m(s,r){e.m(t,s,r),E(s,n,r)},p(s,r){r&1&&t!==(t=s[0][0]+"")&&e.p(t)},i:R,o:R,d(s){s&&b(n),s&&e.d()}}}function Kr(i){let e,t,n;function s(l){i[7](l)}let r={data:i[0],raw:"true"};return i[3]!==void 0&&(r.goToPage=i[3]),e=new Vr({props:r}),Ge.push(()=>qe(e,"goToPage",s)),{c(){K(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,a){Y(e,l,a),n=!0},p(l,a){const o={};a&1&&(o.data=l[0]),!t&&a&8&&(t=!0,o.goToPage=l[3],xe(()=>t=!1)),e.$set(o)},i(l){n||(F(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){X(e,l)}}}function Jr(i){let e,t,n,s,r,l,a;const o=[qr,Gr],u=[];function d(m,y){return!m[1]||!m[2]?0:1}e=d(i),t=u[e]=o[e](i);const f=[Kr,Wr,xr],c=[];function p(m,y){return m[0].length>1?0:m[0].length===1?1:m[0].length===0||!m[0]?2:-1}return~(r=p(i))&&(l=c[r]=f[r](i)),{c(){t.c(),n=B(),s=A("div"),l&&l.c(),this.h()},l(m){t.l(m),n=H(m),s=C(m,"DIV",{id:!0,"data-testid":!0});var y=P(s);l&&l.l(y),y.forEach(b),this.h()},h(){T(s,"id","MEI-container"),T(s,"data-testid","MEI-container")},m(m,y){u[e].m(m,y),E(m,n,y),E(m,s,y),~r&&c[r].m(s,null),a=!0},p(m,[y]){let _=e;e=d(m),e===_?u[e].p(m,y):($(),O(u[_],1,1,()=>{u[_]=null}),ee(),t=u[e],t?t.p(m,y):(t=u[e]=o[e](m),t.c()),F(t,1),t.m(n.parentNode,n));let v=r;r=p(m),r===v?~r&&c[r].p(m,y):(l&&($(),O(c[v],1,1,()=>{c[v]=null}),ee()),~r?(l=c[r],l?l.p(m,y):(l=c[r]=f[r](m),l.c()),F(l,1),l.m(s,null)):l=null)},i(m){a||(F(t),F(l),a=!0)},o(m){O(t),O(l),a=!1},d(m){u[e].d(m),m&&b(n),m&&b(s),~r&&c[r].d()}}}function Yr(i,e,t){let{meiSvg:n=void 0}=e,{meiMidi:s=void 0}=e,{timeMap:r=void 0}=e,l;const a=function(f){for(let c in f.detail){let p=document.getElementById(f.detail[c]);if(!p)for(let m in n)n[m].includes(`id="${f.detail[c]}"`)&&l(m);p&&p.classList.add("note-playing")}},o=function(f){for(let c in f.detail){let p=document.getElementById(f.detail[c]);p&&p.classList.remove("note-playing")}},u=function(f){const c=document.getElementsByClassName("note-playing");let p=[];for(let m of c)p.push(m.id);for(let m of p)document.getElementById(m).classList.remove("note-playing")};function d(f){l=f,t(3,l)}return i.$$set=f=>{"meiSvg"in f&&t(0,n=f.meiSvg),"meiMidi"in f&&t(1,s=f.meiMidi),"timeMap"in f&&t(2,r=f.timeMap)},[n,s,r,l,a,o,u,d]}class Xr extends re{constructor(e){super(),le(this,e,Yr,Jr,te,{meiSvg:0,meiMidi:1,timeMap:2})}}const on=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],un=["January","February","March","April","May","June","July","August","September","October","November","December"];function ke(i){return i[0].toUpperCase()+i.slice(1)}function Oe(i){return i=i.filter(e=>e),[...new Set(i)]}function Je(i){return i.includes(" ")&&(i=i.replace(" ","-")),i}function mt(i){return i.split(" ")}function Zr(i){let e=i.length,t;for(;e!=0;)t=Math.floor(Math.random()*e),e--,[i[e],i[t]]=[i[t],i[e]];return i}function Qr(i,e,t){let n={},s=[],r=[];for(let l of i)e.includes(l)&&s.push(l),t.includes(l)&&r.push(l);return s.length>0&&(n.authors=s),r.length>0&&(n.tags=r),n}function $r(i,e,t){e=e.toLowerCase();let n=[],s=[];for(let r of i)r.content.toLowerCase().includes(e)&&n.push(r),mt(r.content.toLowerCase()).some(l=>t.includes(l))&&s.push(r);return n.length>0?n:s}class el extends Array{constructor(){super()}[Symbol.iterator](){let e=-1,t=this;return{next:()=>({value:t[++e],done:!(e in t)})}}addFilter(e,t){let n={name:e,type:t,available:!0,active:!1};this.push(n)}resetFilters(){for(let e=0;e<this.length;e++)this[e].active=!1,this[e].available=!0}resetFiltersActiveStatus(){for(let e=0;e<this.length;e++)this[e].active=!1}resetFiltersAvailableStatus(){for(let e=0;e<this.length;e++)this[e].available=!0}getFilterNameList(){let e=[];for(let t of this)e.push(t.name);return e}getFilterTypeList(){let e=[];for(let t of this)e.push(t.type);return[...new Set(e)]}getFiltersByType(e,t=!1){return t?this.filter(s=>s.type===e).sort((s,r)=>s.name>r.name?1:-1):this.filter(n=>n.type===e)}getFiltersByName(e){let t;for(let n of this)n.name===e&&(t=n);if(t===void 0)throw new Error("Filter does not exist");return t}getFilterIndexByName(e){let t;for(let n in this)this[n].name===e&&(t=Number(n));if(t===void 0)throw new Error("Filter does not exist");return t}changeFilterAvailability(e,t){return this[this.getFilterIndexByName(e)].available=t,this}toggleFilterActive(e){const t=this.getFilterIndexByName(e.name);return this[t].active=!this[t].active,this}resetFilterActiveByType(e){if(this.getFilterTypeList().includes(e)){for(let t=0;t<this.length;t++)this[t].type===e&&(this[t].active=!1);return this}else throw new Error("Filter type does not exist")}allInactive(){return!(this.filter(t=>t.active===!0).length>0)}anyActive(){return this.filter(t=>t.active===!0).length>0}getActiveFiltersByType(e){if(this.getFilterTypeList().includes(e)){let t=this.filter(n=>n.active===!0&&n.type===e);return Array.from(t.map(n=>n.name))}else throw new Error("Filter type does not exist")}getAvailableFiltersByType(e){if(this.getFilterTypeList().includes(e)){let t=this.filter(n=>n.available===!0&&n.type===e);return Array.from(t.map(n=>n.name))}else throw new Error("Filter type does not exist")}setActiveFiltersFromList(e,t=!0){for(let n=0;n<this.length;n++)e.includes(this[n].name)&&(this[n].active=t);return this}updateFilterAvailableStatus(e,t){let n,s=this.getActiveFiltersByType("authors"),r=this.getActiveFiltersByType("tags");this.resetFiltersAvailableStatus(),s.length>0&&r.length>0?n="both":s.length>0&&r.length===0?n="authors":s.length===0&&r.length>0&&(n="tags");for(let l=0;l<this.length;l++)this[l].type==="tags"&&(t.includes(this[l].name)?this[l].available=!0:this[l].available=!1),this[l].type==="authors"&&n==="tags"&&(e.includes(this[l].name)?this[l].available=!0:this[l].available=!1);return this}}function cn(i,e,t){const n=i.slice();return n[7]=e[t],n}function tl(i){let e,t;return{c(){e=A("p"),t=z("Something went wrong...")},l(n){e=C(n,"P",{});var s=P(e);t=j(s,"Something went wrong..."),s.forEach(b)},m(n,s){E(n,e,s),I(e,t)},p:R,d(n){n&&b(e)}}}function nl(i){let e,t,n,s,r,l,a,o,u,d=i[0],f=[];for(let c=0;c<d.length;c+=1)f[c]=fn(cn(i,d,c));return{c(){e=A("h4"),t=z(i[1]),n=B();for(let c=0;c<f.length;c+=1)f[c].c();s=B(),r=A("button"),l=z("Reset"),this.h()},l(c){e=C(c,"H4",{class:!0});var p=P(e);t=j(p,i[1]),p.forEach(b),n=H(c);for(let y=0;y<f.length;y+=1)f[y].l(c);s=H(c),r=C(c,"BUTTON",{"data-testid":!0,id:!0,class:!0});var m=P(r);l=j(m,"Reset"),m.forEach(b),this.h()},h(){T(e,"class","svelte-1i04fdk"),T(r,"data-testid","tag-reset-button"),T(r,"id",a=i[1]+"-reset"),T(r,"class","chip variant-filled-surface"),r.disabled=!0},m(c,p){E(c,e,p),I(e,t),E(c,n,p);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(c,p);E(c,s,p),E(c,r,p),I(r,l),o||(u=[U(r,"click",i[3]),U(r,"keypress",i[4])],o=!0)},p(c,p){if(p&2&&Q(t,c[1]),p&7){d=c[0];let m;for(m=0;m<d.length;m+=1){const y=cn(c,d,m);f[m]?f[m].p(y,p):(f[m]=fn(y),f[m].c(),f[m].m(s.parentNode,s))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}p&2&&a!==(a=c[1]+"-reset")&&T(r,"id",a)},d(c){c&&b(e),c&&b(n),he(f,c),c&&b(s),c&&b(r),o=!1,ue(u)}}}function fn(i){let e,t=(i[1]==="authors"?ke(i[7].name):i[7].name)+"",n,s,r,l,a,o;return{c(){e=A("button"),n=z(t),this.h()},l(u){e=C(u,"BUTTON",{"data-testid":!0,id:!0,class:!0});var d=P(e);n=j(d,t),d.forEach(b),this.h()},h(){T(e,"data-testid",s=i[1]+"-chip"),T(e,"id",r=Je(i[7].name)+"-filter"),T(e,"class",l="chip "+(i[7].active?"variant-filled":"variant-soft"))},m(u,d){E(u,e,d),I(e,n),a||(o=[U(e,"click",function(){Ze(i[2](i[7]))&&i[2](i[7]).apply(this,arguments)}),U(e,"keypress",i[5])],a=!0)},p(u,d){i=u,d&3&&t!==(t=(i[1]==="authors"?ke(i[7].name):i[7].name)+"")&&Q(n,t),d&2&&s!==(s=i[1]+"-chip")&&T(e,"data-testid",s),d&1&&r!==(r=Je(i[7].name)+"-filter")&&T(e,"id",r),d&1&&l!==(l="chip "+(i[7].active?"variant-filled":"variant-soft"))&&T(e,"class",l)},d(u){u&&b(e),a=!1,ue(o)}}}function il(i){let e;function t(r,l){return r[0]&&r[1]?nl:tl}let n=t(i),s=n(i);return{c(){e=A("div"),s.c(),this.h()},l(r){e=C(r,"DIV",{class:!0,"data-testid":!0});var l=P(e);s.l(l),l.forEach(b),this.h()},h(){T(e,"class","tag-selector-container svelte-1i04fdk"),T(e,"data-testid","tag-selector-container")},m(r,l){E(r,e,l),s.m(e,null)},p(r,[l]){n===(n=t(r))&&s?s.p(r,l):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},i:R,o:R,d(r){r&&b(e),s.d()}}}function sl(i,e,t){const n=Pe();let{listTags:s}=e,{filter:r}=e;function l(d){n("filter-changed",{filter:d})}function a(){n("reset-filters",{filter:r})}function o(d){Z.call(this,i,d)}function u(d){Z.call(this,i,d)}return i.$$set=d=>{"listTags"in d&&t(0,s=d.listTags),"filter"in d&&t(1,r=d.filter)},[s,r,l,a,o,u]}class dn extends re{constructor(e){super(),le(this,e,sl,il,te,{listTags:0,filter:1})}}function hn(i,e,t){const n=i.slice();return n[11]=e[t],n}function mn(i){let e,t=i[11]+"",n,s,r,l,a;return{c(){e=A("span"),n=z(t),s=z(" ✕"),this.h()},l(o){e=C(o,"SPAN",{class:!0,"data-testid":!0});var u=P(e);n=j(u,t),s=j(u," ✕"),u.forEach(b),this.h()},h(){T(e,"class","chip variant-ringed"),T(e,"data-testid",r="chip-"+i[11])},m(o,u){E(o,e,u),I(e,n),I(e,s),l||(a=[U(e,"click",function(){Ze(i[3](i[11]))&&i[3](i[11]).apply(this,arguments)}),U(e,"keypress",i[7])],l=!0)},p(o,u){i=o,u&2&&t!==(t=i[11]+"")&&Q(n,t),u&2&&r!==(r="chip-"+i[11])&&T(e,"data-testid",r)},d(o){o&&b(e),l=!1,ue(a)}}}function pn(i){let e,t,n,s;return{c(){e=A("button"),t=z("clear all"),this.h()},l(r){e=C(r,"BUTTON",{class:!0});var l=P(e);t=j(l,"clear all"),l.forEach(b),this.h()},h(){T(e,"class","btn btn-sm variant-filled-surface")},m(r,l){E(r,e,l),I(e,t),n||(s=[U(e,"click",i[4]),U(e,"keypress",i[6])],n=!0)},p:R,d(r){r&&b(e),n=!1,ue(s)}}}function rl(i){let e,t,n,s,r,l,a,o,u,d,f,c,p,m,y=Array.from(i[1]),_=[];for(let g=0;g<y.length;g+=1)_[g]=mn(hn(i,y,g));let v=i[1].size!=0&&pn(i);return{c(){e=A("div"),t=A("h4"),n=z("Search"),s=B(),r=A("form"),l=A("input"),a=B(),o=A("button"),u=z("Go"),d=B(),f=A("div");for(let g=0;g<_.length;g+=1)_[g].c();c=B(),v&&v.c(),this.h()},l(g){e=C(g,"DIV",{class:!0,"data-testid":!0});var h=P(e);t=C(h,"H4",{});var k=P(t);n=j(k,"Search"),k.forEach(b),s=H(h),r=C(h,"FORM",{id:!0});var S=P(r);l=C(S,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,id:!0,autocomplete:!0}),a=H(S),o=C(S,"BUTTON",{type:!0,class:!0});var w=P(o);u=j(w,"Go"),w.forEach(b),S.forEach(b),d=H(h),f=C(h,"DIV",{class:!0,id:!0});var L=P(f);for(let N=0;N<_.length;N+=1)_[N].l(L);c=H(L),v&&v.l(L),L.forEach(b),h.forEach(b),this.h()},h(){T(l,"class","input max-w-sm p-2"),T(l,"type","search"),T(l,"name","searchBar"),T(l,"placeholder","Search..."),T(l,"id","search-bar"),T(l,"autocomplete","off"),T(o,"type","submit"),T(o,"class","btn variant-filled"),T(r,"id","submit-form"),T(f,"class","chip-list svelte-18s9x5g"),T(f,"id","chip-list"),T(e,"class","search-group max-w-md"),T(e,"data-testid","search-bar-container")},m(g,h){E(g,e,h),I(e,t),I(t,n),I(e,s),I(e,r),I(r,l),Ue(l,i[0]),I(r,a),I(r,o),I(o,u),I(e,d),I(e,f);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(f,null);I(f,c),v&&v.m(f,null),p||(m=[U(l,"input",i[8]),U(l,"submit",i[2]),U(r,"submit",i[2])],p=!0)},p(g,[h]){if(h&1&&l.value!==g[0]&&Ue(l,g[0]),h&10){y=Array.from(g[1]);let k;for(k=0;k<y.length;k+=1){const S=hn(g,y,k);_[k]?_[k].p(S,h):(_[k]=mn(S),_[k].c(),_[k].m(f,c))}for(;k<_.length;k+=1)_[k].d(1);_.length=y.length}g[1].size!=0?v?v.p(g,h):(v=pn(g),v.c(),v.m(f,null)):v&&(v.d(1),v=null)},i:R,o:R,d(g){g&&b(e),he(_,g),v&&v.d(),p=!1,ue(m)}}}function ll(i,e,t){const n=Pe();let{listChips:s=void 0}=e,r="",l=new Set;function a(m){const y=m.target.firstElementChild.value;let _=mt(y);_=[..._,...Array.from(l)],_=_.filter(Boolean),y.length===0&&_.length===0?n("reset"):n("search",{searchString:y,searchTerms:_})}function o(m){if(m.substr(m.length-1)==" "){const _=mt(m);for(let v of _)s.includes(v.toLowerCase())&&(t(1,l=l.add(v.toLowerCase())),m=m.replace(`${v} `,""))}return m}function u(m){l.delete(m),t(1,l)}function d(){t(1,l=new Set);const m=document.getElementById("search-bar");m.value=""}function f(m){Z.call(this,i,m)}function c(m){Z.call(this,i,m)}function p(){r=this.value,t(0,r)}return i.$$set=m=>{"listChips"in m&&t(5,s=m.listChips)},i.$$.update=()=>{i.$$.dirty&1&&t(0,r=o(r))},[r,l,a,u,d,s,f,c,p]}class al extends re{constructor(e){super(),le(this,e,ll,rl,te,{listChips:5})}}function gn(i,e,t){const n=i.slice();return n[18]=e[t],n}function bn(i,e,t){const n=i.slice();return n[21]=e[t],n}function ol(i){let e,t,n;return{c(){e=A("div"),t=A("p"),n=z("Loading...")},l(s){e=C(s,"DIV",{});var r=P(e);t=C(r,"P",{});var l=P(t);n=j(l,"Loading..."),l.forEach(b),r.forEach(b)},m(s,r){E(s,e,r),I(e,t),I(t,n)},p:R,i:R,o:R,d(s){s&&b(e)}}}function ul(i){let e,t,n;return{c(){e=A("div"),t=A("p"),n=z("Error: Something went wrong.")},l(s){e=C(s,"DIV",{});var r=P(e);t=C(r,"P",{});var l=P(t);n=j(l,"Error: Something went wrong."),l.forEach(b),r.forEach(b)},m(s,r){E(s,e,r),I(e,t),I(t,n)},p:R,i:R,o:R,d(s){s&&b(e)}}}function cl(i){let e=i[6],t,n,s,r,l,a=vn(i);const o=[dl,fl],u=[];function d(f,c){return f[5].length===0?0:1}return s=d(i),r=u[s]=o[s](i),{c(){a.c(),t=B(),n=A("div"),r.c(),this.h()},l(f){a.l(f),t=H(f),n=C(f,"DIV",{class:!0,"data-testid":!0});var c=P(n);r.l(c),c.forEach(b),this.h()},h(){T(n,"class","card-collection svelte-17ic81b"),T(n,"data-testid","card-collection")},m(f,c){a.m(f,c),E(f,t,c),E(f,n,c),u[s].m(n,null),l=!0},p(f,c){c&64&&te(e,e=f[6])?($(),O(a,1,1,R),ee(),a=vn(f),a.c(),F(a,1),a.m(t.parentNode,t)):a.p(f,c);let p=s;s=d(f),s===p?u[s].p(f,c):($(),O(u[p],1,1,()=>{u[p]=null}),ee(),r=u[s],r?r.p(f,c):(r=u[s]=o[s](f),r.c()),F(r,1),r.m(n,null))},i(f){l||(F(a),F(r),l=!0)},o(f){O(a),O(r),l=!1},d(f){a.d(f),f&&b(t),f&&b(n),u[s].d()}}}function vn(i){let e,t,n,s,r,l,a,o,u,d,f,c,p,m;return n=new al({props:{listChips:[...i[1],...i[0]]}}),n.$on("search",i[11]),n.$on("reset",i[9]),l=new dn({props:{listTags:i[4].getFiltersByType("authors",!0),filter:"authors"}}),l.$on("filter-changed",i[7]),l.$on("reset-filters",i[8]),o=new dn({props:{listTags:i[4].getFiltersByType("tags",!0),filter:"tags"}}),o.$on("filter-changed",i[7]),o.$on("reset-filters",i[8]),{c(){e=A("div"),t=A("div"),K(n.$$.fragment),s=B(),r=A("div"),K(l.$$.fragment),a=B(),K(o.$$.fragment),u=B(),d=A("button"),f=z("Reset all"),this.h()},l(y){e=C(y,"DIV",{class:!0});var _=P(e);t=C(_,"DIV",{class:!0});var v=P(t);J(n.$$.fragment,v),v.forEach(b),s=H(_),r=C(_,"DIV",{class:!0});var g=P(r);J(l.$$.fragment,g),a=H(g),J(o.$$.fragment,g),g.forEach(b),u=H(_),d=C(_,"BUTTON",{id:!0,class:!0});var h=P(d);f=j(h,"Reset all"),h.forEach(b),_.forEach(b),this.h()},h(){T(t,"class","search"),T(r,"class","filters svelte-17ic81b"),T(d,"id","resetAll"),T(d,"class","btn variant-filled"),d.disabled=!0,T(e,"class","corpus-filtering")},m(y,_){E(y,e,_),I(e,t),Y(n,t,null),I(e,s),I(e,r),Y(l,r,null),I(r,a),Y(o,r,null),I(e,u),I(e,d),I(d,f),c=!0,p||(m=U(d,"click",i[12]),p=!0)},p(y,_){const v={};_&3&&(v.listChips=[...y[1],...y[0]]),n.$set(v);const g={};_&16&&(g.listTags=y[4].getFiltersByType("authors",!0)),l.$set(g);const h={};_&16&&(h.listTags=y[4].getFiltersByType("tags",!0)),o.$set(h)},i(y){c||(F(n.$$.fragment,y),F(l.$$.fragment,y),F(o.$$.fragment,y),c=!0)},o(y){O(n.$$.fragment,y),O(l.$$.fragment,y),O(o.$$.fragment,y),c=!1},d(y){y&&b(e),X(n),X(l),X(o),p=!1,m()}}}function fl(i){let e,t,n=i[5],s=[];for(let l=0;l<n.length;l+=1)s[l]=wn(gn(i,n,l));const r=l=>O(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=W()},l(l){for(let a=0;a<s.length;a+=1)s[a].l(l);e=W()},m(l,a){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(l,a);E(l,e,a),t=!0},p(l,a){if(a&1056){n=l[5];let o;for(o=0;o<n.length;o+=1){const u=gn(l,n,o);s[o]?(s[o].p(u,a),F(s[o],1)):(s[o]=wn(u),s[o].c(),F(s[o],1),s[o].m(e.parentNode,e))}for($(),o=n.length;o<s.length;o+=1)r(o);ee()}},i(l){if(!t){for(let a=0;a<n.length;a+=1)F(s[a]);t=!0}},o(l){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)O(s[a]);t=!1},d(l){he(s,l),l&&b(e)}}}function dl(i){let e,t,n;return{c(){e=A("div"),t=A("p"),n=z("No buzzwords match your criteria"),this.h()},l(s){e=C(s,"DIV",{class:!0});var r=P(e);t=C(r,"P",{});var l=P(t);n=j(l,"No buzzwords match your criteria"),l.forEach(b),r.forEach(b),this.h()},h(){T(e,"class","empty-collection")},m(s,r){E(s,e,r),I(e,t),I(t,n)},p:R,i:R,o:R,d(s){s&&b(e)}}}function _n(i){let e,t=on[i[18].date.getDay()]+"",n,s,r=i[18].date.getDate()+"",l,a,o=un[i[18].date.getMonth()]+"",u,d,f=i[18].date.getFullYear()+"",c;return{c(){e=A("p"),n=z(t),s=z(", "),l=z(r),a=z(" of "),u=z(o),d=B(),c=z(f),this.h()},l(p){e=C(p,"P",{class:!0,"data-testid":!0});var m=P(e);n=j(m,t),s=j(m,", "),l=j(m,r),a=j(m," of "),u=j(m,o),d=H(m),c=j(m,f),m.forEach(b),this.h()},h(){T(e,"class","date svelte-17ic81b"),T(e,"data-testid","buzzword-date")},m(p,m){E(p,e,m),I(e,n),I(e,s),I(e,l),I(e,a),I(e,u),I(e,d),I(e,c)},p(p,m){m&32&&t!==(t=on[p[18].date.getDay()]+"")&&Q(n,t),m&32&&r!==(r=p[18].date.getDate()+"")&&Q(l,r),m&32&&o!==(o=un[p[18].date.getMonth()]+"")&&Q(u,o),m&32&&f!==(f=p[18].date.getFullYear()+"")&&Q(c,f)},d(p){p&&b(e)}}}function yn(i){let e,t,n=ke(i[18].author)+"",s;return{c(){e=A("p"),t=z("by "),s=z(n),this.h()},l(r){e=C(r,"P",{class:!0,"data-testid":!0});var l=P(e);t=j(l,"by "),s=j(l,n),l.forEach(b),this.h()},h(){T(e,"class","byline svelte-17ic81b"),T(e,"data-testid","buzzword-byline")},m(r,l){E(r,e,l),I(e,t),I(e,s)},p(r,l){l&32&&n!==(n=ke(r[18].author)+"")&&Q(s,n)},d(r){r&&b(e)}}}function kn(i){let e,t=i[18].tags.sort(),n=[];for(let s=0;s<t.length;s+=1)n[s]=Tn(bn(i,t,s));return{c(){e=A("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=C(s,"DIV",{class:!0});var r=P(e);for(let l=0;l<n.length;l+=1)n[l].l(r);r.forEach(b),this.h()},h(){T(e,"class","tags svelte-17ic81b")},m(s,r){E(s,e,r);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(s,r){if(r&1056){t=s[18].tags.sort();let l;for(l=0;l<t.length;l+=1){const a=bn(s,t,l);n[l]?n[l].p(a,r):(n[l]=Tn(a),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(s){s&&b(e),he(n,s)}}}function Tn(i){let e,t=ke(i[21])+"",n,s,r;return{c(){e=A("span"),n=z(t),this.h()},l(l){e=C(l,"SPAN",{"data-testid":!0,class:!0});var a=P(e);n=j(a,t),a.forEach(b),this.h()},h(){T(e,"data-testid","chip-tag"),T(e,"class","chip variant-ghost svelte-17ic81b")},m(l,a){E(l,e,a),I(e,n),s||(r=[U(e,"click",function(){Ze(i[10](i[21]))&&i[10](i[21]).apply(this,arguments)}),U(e,"keypress",i[14])],s=!0)},p(l,a){i=l,a&32&&t!==(t=ke(i[21])+"")&&Q(n,t)},d(l){l&&b(e),s=!1,ue(r)}}}function wn(i){let e,t,n,s,r,l,a,o,u,d,f,c=i[18].date&&_n(i);r=new Ln({props:{content:i[18].content}});let p=i[18].author&&yn(i),m=i[18].tags&&kn(i);return{c(){e=A("div"),t=A("header"),c&&c.c(),n=B(),s=A("section"),K(r.$$.fragment),l=B(),a=A("footer"),p&&p.c(),o=B(),m&&m.c(),u=B(),this.h()},l(y){e=C(y,"DIV",{class:!0,"data-testid":!0,id:!0});var _=P(e);t=C(_,"HEADER",{class:!0});var v=P(t);c&&c.l(v),v.forEach(b),n=H(_),s=C(_,"SECTION",{class:!0,"data-testid":!0});var g=P(s);J(r.$$.fragment,g),g.forEach(b),l=H(_),a=C(_,"FOOTER",{class:!0});var h=P(a);p&&p.l(h),o=H(h),m&&m.l(h),h.forEach(b),u=H(_),_.forEach(b),this.h()},h(){T(t,"class","card-header"),T(s,"class","p-4"),T(s,"data-testid","buzzword-content"),T(a,"class","card-footer"),T(e,"class","card svelte-17ic81b"),T(e,"data-testid","buzzword-card"),T(e,"id",d=i[18].id)},m(y,_){E(y,e,_),I(e,t),c&&c.m(t,null),I(e,n),I(e,s),Y(r,s,null),I(e,l),I(e,a),p&&p.m(a,null),I(a,o),m&&m.m(a,null),I(e,u),f=!0},p(y,_){y[18].date?c?c.p(y,_):(c=_n(y),c.c(),c.m(t,null)):c&&(c.d(1),c=null);const v={};_&32&&(v.content=y[18].content),r.$set(v),y[18].author?p?p.p(y,_):(p=yn(y),p.c(),p.m(a,o)):p&&(p.d(1),p=null),y[18].tags?m?m.p(y,_):(m=kn(y),m.c(),m.m(a,null)):m&&(m.d(1),m=null),(!f||_&32&&d!==(d=y[18].id))&&T(e,"id",d)},i(y){f||(F(r.$$.fragment,y),f=!0)},o(y){O(r.$$.fragment,y),f=!1},d(y){y&&b(e),c&&c.d(),X(r),p&&p.d(),m&&m.d()}}}function hl(i){let e,t,n,s;const r=[cl,ul,ol],l=[];function a(o,u){return o[2]?0:o[3]?1:2}return e=a(i),t=l[e]=r[e](i),{c(){t.c(),n=W()},l(o){t.l(o),n=W()},m(o,u){l[e].m(o,u),E(o,n,u),s=!0},p(o,[u]){let d=e;e=a(o),e===d?l[e].p(o,u):($(),O(l[d],1,1,()=>{l[d]=null}),ee(),t=l[e],t?t.p(o,u):(t=l[e]=r[e](o),t.c()),F(t,1),t.m(n.parentNode,n))},i(o){s||(F(t),s=!0)},o(o){O(t),s=!1},d(o){l[e].d(o),o&&b(n)}}}function En(i,e,t){let n=i.filter(function(l){if(l.author){if(e.length>0&&e.includes(l.author))return l.author;if(e.length===0)return l.author}}),s=[];for(let l of i)l.tags&&t.every(a=>l.tags.includes(a))&&s.push(l);let r=[];return n.length<i.length&&s.length<i.length?r=n.filter(l=>s.includes(l)):n.length<i.length?r=n:s.length<i.length?r=s:n.length===i.length&&s.length===i.length&&(r=i),r}function ml(i,e,t){let{buzzwords:n}=e,{listTags:s}=e,{listAuthors:r}=e,l=!1,a=!1,o=new el,u=[],d={};function f(S){t(4,o=o.toggleFilterActive(S.detail.filter)),t(5,u=v(u))}function c(S){t(4,o=o.resetFilterActiveByType(S.detail.filter)),t(5,u=v(u))}function p(){t(5,u=v(n))}function m(S){const L={detail:{filter:o.getFiltersByName(S)}};f(L)}function y(S){const w=S.detail.searchTerms.map(q=>q.toLowerCase());o.allInactive()&&t(5,u=n);const L=Qr(w,o.getAvailableFiltersByType("authors"),o.getAvailableFiltersByType("tags"));if(Object.keys(L).length>0){let q=[],me=[];Object.keys(L).includes("authors")&&(q=L.authors),Object.keys(L).includes("tags")&&(me=L.tags),t(5,u=En(u,q,me))}let N=$r(u,S.detail.searchString,w);N.length>0?t(5,u=N):N.length==0&&Object.keys(L).length==0&&t(5,u=[]);let V=Oe(u.map(q=>q.author)),M=Oe(u.map(q=>[...q.tags]).flat());t(4,o=o.updateFilterAvailableStatus(V,M)),g(u.length)}function _(){h(!1)}function v(S){let w=[],L=[];if(o.allInactive())return o.resetFiltersAvailableStatus(),g(n.length),n;w=o.getActiveFiltersByType("authors"),L=o.getActiveFiltersByType("tags"),S=n;let N=En(S,w,L),V=Oe(N.map(q=>q.author)),M=Oe(N.map(q=>[...q.tags]).flat());return t(4,o=o.updateFilterAvailableStatus(V,M)),g(N.length),N}function g(S){for(let w of o)try{const L=document.getElementById(`${Je(w.name)}-filter`);w.available?L.disabled=!1:L.disabled=!0}catch(L){console.debug(`Component is still mounting, element with id ${Je(w.name)}-filter does not exist yet. ${L}`)}try{const w=document.getElementById("resetAll");o.allInactive()&&n.length===S?w.disabled=!0:w.disabled=!1}catch(w){console.debug(`Component is still mounting, element with id resetAll does not exist yet. ${w}`)}try{const w=document.getElementById("authors-reset"),L=document.getElementById("tags-reset");o.getActiveFiltersByType("authors").length===0?w.disabled=!0:w.disabled=!1,o.getActiveFiltersByType("tags").length===0?L.disabled=!0:L.disabled=!1}catch(w){console.debug(w)}}function h(S=!0){S&&t(13,n=Zr(n)),t(5,u=n),o.resetFilters(),t(6,d={})}Xe(()=>{try{if(r.length==0||s.length==0||n.length==0)throw new Error("No data received");for(let S of s)o.addFilter(S,"tags");for(let S of r)o.addFilter(S,"authors");h(),t(2,l=!0)}catch(S){console.debug(`There has been an error: ${S}`),t(3,a=!0)}});function k(S){Z.call(this,i,S)}return i.$$set=S=>{"buzzwords"in S&&t(13,n=S.buzzwords),"listTags"in S&&t(0,s=S.listTags),"listAuthors"in S&&t(1,r=S.listAuthors)},[s,r,l,a,o,u,d,f,c,p,m,y,_,n,k]}class pl extends re{constructor(e){super(),le(this,e,ml,hl,te,{buzzwords:13,listTags:0,listAuthors:1})}}function In(i,e,t){const n=i.slice();return n[2]=e[t][0],n[3]=e[t][1],n}function Sn(i){let e,t=i[2]+"",n,s,r,l;return r=new Ln({props:{content:i[3].content}}),{c(){e=A("h2"),n=z(t),s=B(),K(r.$$.fragment)},l(a){e=C(a,"H2",{});var o=P(e);n=j(o,t),o.forEach(b),s=H(a),J(r.$$.fragment,a)},m(a,o){E(a,e,o),I(e,n),E(a,s,o),Y(r,a,o),l=!0},p(a,o){(!l||o&1)&&t!==(t=a[2]+"")&&Q(n,t);const u={};o&1&&(u.content=a[3].content),r.$set(u)},i(a){l||(F(r.$$.fragment,a),l=!0)},o(a){O(r.$$.fragment,a),l=!1},d(a){a&&b(e),a&&b(s),X(r,a)}}}function An(i){let e,t,n=i[3].type==="md"&&Sn(i);return{c(){n&&n.c(),e=W()},l(s){n&&n.l(s),e=W()},m(s,r){n&&n.m(s,r),E(s,e,r),t=!0},p(s,r){s[3].type==="md"?n?(n.p(s,r),r&1&&F(n,1)):(n=Sn(s),n.c(),F(n,1),n.m(e.parentNode,e)):n&&($(),O(n,1,1,()=>{n=null}),ee())},i(s){t||(F(n),t=!0)},o(s){O(n),t=!1},d(s){n&&n.d(s),s&&b(e)}}}function gl(i){let e,t,n,s,r;return s=new pl({props:{buzzwords:i[0].view.buzzwords,listTags:i[0].view.buzzwordTags,listAuthors:i[0].view.buzzwordAuthors}}),{c(){e=A("h3"),t=z("Buzzwords"),n=B(),K(s.$$.fragment)},l(l){e=C(l,"H3",{});var a=P(e);t=j(a,"Buzzwords"),a.forEach(b),n=H(l),J(s.$$.fragment,l)},m(l,a){E(l,e,a),I(e,t),E(l,n,a),Y(s,l,a),r=!0},p(l,a){const o={};a&1&&(o.buzzwords=l[0].view.buzzwords),a&1&&(o.listTags=l[0].view.buzzwordTags),a&1&&(o.listAuthors=l[0].view.buzzwordAuthors),s.$set(o)},i(l){r||(F(s.$$.fragment,l),r=!0)},o(l){O(s.$$.fragment,l),r=!1},d(l){l&&b(e),l&&b(n),X(s,l)}}}function bl(i){let e,t,n,s,r,l,a,o,u,d;s=new Qi({props:{audioPath:i[1]}});let f="mei"in i[0].view&&Cn(i);return{c(){e=A("h3"),t=z("Binaural recording test"),n=B(),K(s.$$.fragment),r=B(),l=A("h3"),a=z("MEI engraving and playback test"),o=B(),f&&f.c(),u=W()},l(c){e=C(c,"H3",{});var p=P(e);t=j(p,"Binaural recording test"),p.forEach(b),n=H(c),J(s.$$.fragment,c),r=H(c),l=C(c,"H3",{});var m=P(l);a=j(m,"MEI engraving and playback test"),m.forEach(b),o=H(c),f&&f.l(c),u=W()},m(c,p){E(c,e,p),I(e,t),E(c,n,p),Y(s,c,p),E(c,r,p),E(c,l,p),I(l,a),E(c,o,p),f&&f.m(c,p),E(c,u,p),d=!0},p(c,p){"mei"in c[0].view?f?(f.p(c,p),p&1&&F(f,1)):(f=Cn(c),f.c(),F(f,1),f.m(u.parentNode,u)):f&&($(),O(f,1,1,()=>{f=null}),ee())},i(c){d||(F(s.$$.fragment,c),F(f),d=!0)},o(c){O(s.$$.fragment,c),O(f),d=!1},d(c){c&&b(e),c&&b(n),X(s,c),c&&b(r),c&&b(l),c&&b(o),f&&f.d(c),c&&b(u)}}}function vl(i){let e,t,n,s,r;return s=new Yi({props:{path:"https://raw.githubusercontent.com/NewcastleRSE/beeing-human-tei-data/dev/1623_consolidated.xml"}}),{c(){e=A("h3"),t=z("Test"),n=B(),K(s.$$.fragment)},l(l){e=C(l,"H3",{});var a=P(e);t=j(a,"Test"),a.forEach(b),n=H(l),J(s.$$.fragment,l)},m(l,a){E(l,e,a),I(e,t),E(l,n,a),Y(s,l,a),r=!0},p:R,i(l){r||(F(s.$$.fragment,l),r=!0)},o(l){O(s.$$.fragment,l),r=!1},d(l){l&&b(e),l&&b(n),X(s,l)}}}function Cn(i){let e,t;return e=new Xr({props:{meiSvg:i[0].view.mei.svg,meiMidi:i[0].view.mei.midi,timeMap:i[0].view.mei.timeMap}}),{c(){K(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){Y(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.meiSvg=n[0].view.mei.svg),s&1&&(r.meiMidi=n[0].view.mei.midi),s&1&&(r.timeMap=n[0].view.mei.timeMap),e.$set(r)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function _l(i){let e,t,n,s,r=i[0].view.title+"",l,a,o,u,d,f,c,p=Object.entries(i[0].view.sections),m=[];for(let h=0;h<p.length;h+=1)m[h]=An(In(i,p,h));const y=h=>O(m[h],1,1,()=>{m[h]=null}),_=[vl,bl,gl],v=[];function g(h,k){return h[0].view.slug==="literature"?0:h[0].view.slug==="music"?1:h[0].view.slug==="connections"?2:-1}return~(u=g(i))&&(d=v[u]=_[u](i)),{c(){e=A("h1"),t=z("View page"),n=B(),s=A("h1"),l=z(r),a=B();for(let h=0;h<m.length;h+=1)m[h].c();o=B(),d&&d.c(),f=W()},l(h){e=C(h,"H1",{});var k=P(e);t=j(k,"View page"),k.forEach(b),n=H(h),s=C(h,"H1",{});var S=P(s);l=j(S,r),S.forEach(b),a=H(h);for(let w=0;w<m.length;w+=1)m[w].l(h);o=H(h),d&&d.l(h),f=W()},m(h,k){E(h,e,k),I(e,t),E(h,n,k),E(h,s,k),I(s,l),E(h,a,k);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(h,k);E(h,o,k),~u&&v[u].m(h,k),E(h,f,k),c=!0},p(h,[k]){if((!c||k&1)&&r!==(r=h[0].view.title+"")&&Q(l,r),k&1){p=Object.entries(h[0].view.sections);let w;for(w=0;w<p.length;w+=1){const L=In(h,p,w);m[w]?(m[w].p(L,k),F(m[w],1)):(m[w]=An(L),m[w].c(),F(m[w],1),m[w].m(o.parentNode,o))}for($(),w=p.length;w<m.length;w+=1)y(w);ee()}let S=u;u=g(h),u===S?~u&&v[u].p(h,k):(d&&($(),O(v[S],1,1,()=>{v[S]=null}),ee()),~u?(d=v[u],d?d.p(h,k):(d=v[u]=_[u](h),d.c()),F(d,1),d.m(f.parentNode,f)):d=null)},i(h){if(!c){for(let k=0;k<p.length;k+=1)F(m[k]);F(d),c=!0}},o(h){m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)O(m[k]);O(d),c=!1},d(h){h&&b(e),h&&b(n),h&&b(s),h&&b(a),he(m,h),h&&b(o),~u&&v[u].d(h),h&&b(f)}}}function yl(i,e,t){let{data:n}=e,s=`${On}/content/music/media/virtualbarbershop.mp3`;return i.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,s]}class Sl extends re{constructor(e){super(),le(this,e,yl,_l,te,{data:0})}}export{Sl as component};
