import{S as ce,i as he,s as ue,M as de,k as N,a as z,l as M,m as C,c as V,h as _,X as He,n as w,b as A,G as S,a2 as tn,I as X,g as P,v as se,d as F,f as le,Y as Pt,K as Me,Z as lt,a3 as gn,j as vl,N as De,Q as Ke,R as Ye,T as We,U as Je,a1 as Ae,P as ne,a4 as yl,a5 as Lt,a6 as xt,V as Qe,W as kl,_ as $e,w as pe,D as wl,o as Ze,a7 as Tl,y as Y,z as W,A as J,B as Z,q as j,r as G,u as oe,a8 as wi,J as R,e as $,a9 as El,C as Al,F as Sl,aa as Ti,$ as be,ab as mn,a0 as ve,H as cs,E as hs,ac as Il,ad as Ei,ae as Nl,af as Ai,ag as Ml}from"../chunks/index.6509dc83.js";import{P as ds,I as ti}from"../chunks/InjectMD.591a19a3.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.c315005d.js";import{b as ps}from"../chunks/paths.9adb7dac.js";const Cl=t=>({}),Si=t=>({});function Ii(t,e,n){const i=t.slice();return i[23]=e[n],i}function Ni(t){let e,n;const i=t[15].default,r=Ke(i,t,t[14],null);return{c(){e=N("label"),r&&r.c(),this.h()},l(s){e=M(s,"LABEL",{class:!0,for:!0});var l=C(e);r&&r.l(l),l.forEach(_),this.h()},h(){w(e,"class","range-slider-label "+Dl),w(e,"for",t[2])},m(s,l){A(s,e,l),r&&r.m(e,null),n=!0},p(s,l){r&&r.p&&(!n||l&16384)&&Ye(r,i,s,s[14],n?Je(i,s[14],l,null):We(s[14]),null),(!n||l&4)&&w(e,"for",s[2])},i(s){n||(P(r,s),n=!0)},o(s){F(r,s),n=!1},d(s){s&&_(e),r&&r.d(s)}}}function Mi(t){let e,n,i=t[8],r=[];for(let s=0;s<i.length;s+=1)r[s]=Ci(Ii(t,i,s));return{c(){e=N("datalist");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=M(s,"DATALIST",{id:!0,class:!0});var l=C(e);for(let a=0;a<r.length;a+=1)r[a].l(l);l.forEach(_),this.h()},h(){w(e,"id",n="tickmarks-"+t[2]),w(e,"class","range-slider-ticks")},m(s,l){A(s,e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(s,l){if(l&256){i=s[8];let a;for(a=0;a<i.length;a+=1){const o=Ii(s,i,a);r[a]?r[a].p(o,l):(r[a]=Ci(o),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=i.length}l&4&&n!==(n="tickmarks-"+s[2])&&w(e,"id",n)},d(s){s&&_(e),Ae(r,s)}}}function Ci(t){let e,n,i;return{c(){e=N("option"),this.h()},l(r){e=M(r,"OPTION",{label:!0}),C(e).forEach(_),this.h()},h(){e.__value=n=t[23],e.value=e.__value,w(e,"label",i=t[23])},m(r,s){A(r,e,s)},p(r,s){s&256&&n!==(n=r[23])&&(e.__value=n,e.value=e.__value),s&256&&i!==(i=r[23])&&w(e,"label",i)},d(r){r&&_(e)}}}function Pi(t){let e,n;const i=t[15].trail,r=Ke(i,t,t[14],Si);return{c(){e=N("div"),r&&r.c(),this.h()},l(s){e=M(s,"DIV",{class:!0});var l=C(e);r&&r.l(l),l.forEach(_),this.h()},h(){w(e,"class","range-slider-trail")},m(s,l){A(s,e,l),r&&r.m(e,null),n=!0},p(s,l){r&&r.p&&(!n||l&16384)&&Ye(r,i,s,s[14],n?Je(i,s[14],l,Cl):We(s[14]),Si)},i(s){n||(P(r,s),n=!0)},o(s){F(r,s),n=!1},d(s){s&&_(e),r&&r.d(s)}}}function Pl(t){let e,n,i,r,s,l,a,o,u,h,f,c,d=t[12].default&&Ni(t),p=[{type:"range"},{id:t[2]},{name:t[1]},{class:s="range-slider-input "+t[9]},{list:l="tickmarks-"+t[2]},{"aria-label":t[7]},{min:t[3]},{max:t[4]},{step:t[5]},t[11]()],b={};for(let v=0;v<p.length;v+=1)b=de(b,p[v]);let m=t[6]&&t[8]&&t[8].length&&Mi(t),y=t[12].trail&&Pi(t);return{c(){e=N("div"),d&&d.c(),n=z(),i=N("div"),r=N("input"),a=z(),m&&m.c(),o=z(),y&&y.c(),this.h()},l(v){e=M(v,"DIV",{class:!0,"data-testid":!0});var g=C(e);d&&d.l(g),n=V(g),i=M(g,"DIV",{class:!0});var T=C(i);r=M(T,"INPUT",{type:!0,id:!0,name:!0,class:!0,list:!0,"aria-label":!0,min:!0,max:!0,step:!0}),a=V(T),m&&m.l(T),T.forEach(_),o=V(g),y&&y.l(g),g.forEach(_),this.h()},h(){He(r,b),w(i,"class","range-content "+Fl),w(e,"class",u="range-slider "+t[10]),w(e,"data-testid","range-slider")},m(v,g){A(v,e,g),d&&d.m(e,null),S(e,n),S(e,i),S(i,r),r.autofocus&&r.focus(),tn(r,t[0]),S(i,a),m&&m.m(i,null),S(e,o),y&&y.m(e,null),h=!0,f||(c=[X(r,"change",t[19]),X(r,"input",t[19]),X(r,"click",t[16]),X(r,"change",t[17]),X(r,"blur",t[18])],f=!0)},p(v,[g]){v[12].default?d?(d.p(v,g),g&4096&&P(d,1)):(d=Ni(v),d.c(),P(d,1),d.m(e,n)):d&&(se(),F(d,1,1,()=>{d=null}),le()),He(r,b=Pt(p,[{type:"range"},(!h||g&4)&&{id:v[2]},(!h||g&2)&&{name:v[1]},(!h||g&512&&s!==(s="range-slider-input "+v[9]))&&{class:s},(!h||g&4&&l!==(l="tickmarks-"+v[2]))&&{list:l},(!h||g&128)&&{"aria-label":v[7]},(!h||g&8)&&{min:v[3]},(!h||g&16)&&{max:v[4]},(!h||g&32)&&{step:v[5]},v[11]()])),g&1&&tn(r,v[0]),v[6]&&v[8]&&v[8].length?m?m.p(v,g):(m=Mi(v),m.c(),m.m(i,null)):m&&(m.d(1),m=null),v[12].trail?y?(y.p(v,g),g&4096&&P(y,1)):(y=Pi(v),y.c(),P(y,1),y.m(e,null)):y&&(se(),F(y,1,1,()=>{y=null}),le()),(!h||g&1024&&u!==(u="range-slider "+v[10]))&&w(e,"class",u)},i(v){h||(P(d),P(y),h=!0)},o(v){F(d),F(y),h=!1},d(v){v&&_(e),d&&d.d(),m&&m.d(),y&&y.d(),f=!1,Me(c)}}}const xl="space-y-2",Dl="",Fl="flex justify-center py-2",Ll="w-full h-2";function Ol(t,e,n){let i,r;const s=["name","id","value","min","max","step","ticked","accent","label"];let l=lt(e,s),{$$slots:a={},$$scope:o}=e;const u=gn(a);let{name:h}=e,{id:f=String(Math.random())}=e,{value:c=0}=e,{min:d=0}=e,{max:p=100}=e,{step:b=1}=e,{ticked:m=!1}=e,{accent:y="accent-surface-900 dark:accent-surface-50"}=e,{label:v=""}=e,g;function T(){m!=!1&&n(8,g=Array.from({length:p-d+1},(L,B)=>B+d))}m&&T(),vl(()=>{T()});function E(){return delete l.class,l}function k(L){ne.call(this,t,L)}function I(L){ne.call(this,t,L)}function D(L){ne.call(this,t,L)}function x(){c=yl(this.value),n(0,c)}return t.$$set=L=>{n(22,e=de(de({},e),De(L))),n(21,l=lt(e,s)),"name"in L&&n(1,h=L.name),"id"in L&&n(2,f=L.id),"value"in L&&n(0,c=L.value),"min"in L&&n(3,d=L.min),"max"in L&&n(4,p=L.max),"step"in L&&n(5,b=L.step),"ticked"in L&&n(6,m=L.ticked),"accent"in L&&n(13,y=L.accent),"label"in L&&n(7,v=L.label),"$$scope"in L&&n(14,o=L.$$scope)},t.$$.update=()=>{n(10,i=`${xl} ${e.class??""}`),t.$$.dirty&8192&&n(9,r=`${Ll} ${y}`)},e=De(e),[c,h,f,d,p,b,m,v,g,r,i,E,u,y,o,a,k,I,D,x]}class Bl extends ce{constructor(e){super(),he(this,e,Ol,Pl,ue,{name:1,id:2,value:0,min:3,max:4,step:5,ticked:6,accent:13,label:7})}}function xi(t){let e,n;const i=t[22].default,r=Ke(i,t,t[21],null);return{c(){e=N("div"),r&&r.c(),this.h()},l(s){e=M(s,"DIV",{class:!0});var l=C(e);r&&r.l(l),l.forEach(_),this.h()},h(){w(e,"class","slide-toggle-text ml-3")},m(s,l){A(s,e,l),r&&r.m(e,null),n=!0},p(s,l){r&&r.p&&(!n||l[0]&2097152)&&Ye(r,i,s,s[21],n?Je(i,s[21],l,null):We(s[21]),null)},i(s){n||(P(r,s),n=!0)},o(s){F(r,s),n=!1},d(s){s&&_(e),r&&r.d(s)}}}function Rl(t){let e,n,i,r,s,l,a,o,u,h,f,c,d,p,b,m=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:t[1]},t[8](),{disabled:r=t[9].disabled}],y={};for(let g=0;g<m.length;g+=1)y=de(y,m[g]);let v=t[10].default&&xi(t);return{c(){e=N("div"),n=N("label"),i=N("input"),s=z(),l=N("div"),a=N("div"),h=z(),v&&v.c(),this.h()},l(g){e=M(g,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var T=C(e);n=M(T,"LABEL",{class:!0});var E=C(n);i=M(E,"INPUT",{type:!0,class:!0,name:!0}),s=V(E),l=M(E,"DIV",{class:!0});var k=C(l);a=M(k,"DIV",{class:!0}),C(a).forEach(_),k.forEach(_),h=V(E),v&&v.l(E),E.forEach(_),T.forEach(_),this.h()},h(){He(i,y),w(a,"class",o="slide-toggle-thumb "+t[3]),Lt(a,"cursor-not-allowed",t[9].disabled),w(l,"class",u="slide-toggle-track "+t[4]),Lt(l,"cursor-not-allowed",t[9].disabled),w(n,"class",f="slide-toggle-label "+t[5]),w(e,"id",t[2]),w(e,"class",c="slide-toggle "+t[6]),w(e,"data-testid","slide-toggle"),w(e,"role","switch"),w(e,"aria-label",t[2]),w(e,"aria-checked",t[0]),w(e,"tabindex","0")},m(g,T){A(g,e,T),S(e,n),S(n,i),i.autofocus&&i.focus(),i.checked=t[0],S(n,s),S(n,l),S(l,a),S(n,h),v&&v.m(n,null),d=!0,p||(b=[X(i,"change",t[31]),X(i,"click",t[23]),X(i,"keydown",t[24]),X(i,"keyup",t[25]),X(i,"keypress",t[26]),X(i,"mouseover",t[27]),X(i,"change",t[28]),X(i,"focus",t[29]),X(i,"blur",t[30]),X(e,"keydown",t[7])],p=!0)},p(g,T){He(i,y=Pt(m,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!d||T[0]&2)&&{name:g[1]},g[8](),(!d||T[0]&512&&r!==(r=g[9].disabled))&&{disabled:r}])),T[0]&1&&(i.checked=g[0]),(!d||T[0]&8&&o!==(o="slide-toggle-thumb "+g[3]))&&w(a,"class",o),(!d||T[0]&520)&&Lt(a,"cursor-not-allowed",g[9].disabled),(!d||T[0]&16&&u!==(u="slide-toggle-track "+g[4]))&&w(l,"class",u),(!d||T[0]&528)&&Lt(l,"cursor-not-allowed",g[9].disabled),g[10].default?v?(v.p(g,T),T[0]&1024&&P(v,1)):(v=xi(g),v.c(),P(v,1),v.m(n,null)):v&&(se(),F(v,1,1,()=>{v=null}),le()),(!d||T[0]&32&&f!==(f="slide-toggle-label "+g[5]))&&w(n,"class",f),(!d||T[0]&4)&&w(e,"id",g[2]),(!d||T[0]&64&&c!==(c="slide-toggle "+g[6]))&&w(e,"class",c),(!d||T[0]&4)&&w(e,"aria-label",g[2]),(!d||T[0]&1)&&w(e,"aria-checked",g[0])},i(g){d||(P(v),d=!0)},o(g){F(v),d=!1},d(g){g&&_(e),v&&v.d(),p=!1,Me(b)}}}const Hl="inline-block",zl="unstyled flex items-center",Vl="flex transition-all duration-[200ms] cursor-pointer",ql="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function Ul(t,e,n){let i,r,s,l,a,o,u,h;const f=["name","checked","size","background","active","border","rounded","label"];let c=lt(e,f),{$$slots:d={},$$scope:p}=e;const b=gn(d),m=xt();let{name:y}=e,{checked:v=!1}=e,{size:g="md"}=e,{background:T="bg-surface-400 dark:bg-surface-700"}=e,{active:E="bg-surface-900 dark:bg-surface-300"}=e,{border:k=""}=e,{rounded:I="rounded-full"}=e,{label:D=""}=e,x;switch(g){case"sm":x="w-12 h-6";break;case"lg":x="w-20 h-10";break;default:x="w-16 h-8"}function L(U){["Enter","Space"].includes(U.code)&&(U.preventDefault(),m("keyup",U),U.currentTarget.firstChild.click())}function B(){return delete c.class,c}function te(U){ne.call(this,t,U)}function ie(U){ne.call(this,t,U)}function ke(U){ne.call(this,t,U)}function Be(U){ne.call(this,t,U)}function q(U){ne.call(this,t,U)}function K(U){ne.call(this,t,U)}function ee(U){ne.call(this,t,U)}function re(U){ne.call(this,t,U)}function H(){v=this.checked,n(0,v)}return t.$$set=U=>{n(9,e=de(de({},e),De(U))),n(33,c=lt(e,f)),"name"in U&&n(1,y=U.name),"checked"in U&&n(0,v=U.checked),"size"in U&&n(11,g=U.size),"background"in U&&n(12,T=U.background),"active"in U&&n(13,E=U.active),"border"in U&&n(14,k=U.border),"rounded"in U&&n(15,I=U.rounded),"label"in U&&n(2,D=U.label),"$$scope"in U&&n(21,p=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&12289&&n(19,i=v?E:`${T} cursor-pointer`),t.$$.dirty[0]&1&&n(18,r=v?"bg-white/75":"bg-white"),t.$$.dirty[0]&1&&n(17,s=v?"translate-x-full":""),n(20,l=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),n(6,a=`${Hl} ${I} ${l} ${e.class??""}`),t.$$.dirty[0]&638976&&n(4,u=`${Vl} ${k} ${I} ${x} ${i}`),t.$$.dirty[0]&425984&&n(3,h=`${ql} ${I} ${r} ${s}`)},n(5,o=`${zl}`),e=De(e),[v,y,D,h,u,o,a,L,B,e,b,g,T,E,k,I,x,s,r,i,l,p,d,te,ie,ke,Be,q,K,ee,re,H]}class gs extends ce{constructor(e){super(),he(this,e,Ul,Rl,ue,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}const jl=t=>({}),Di=t=>({});function Fi(t){let e,n,i;const r=t[17].panel,s=Ke(r,t,t[16],Di);return{c(){e=N("div"),s&&s.c(),this.h()},l(l){e=M(l,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var a=C(e);s&&s.l(a),a.forEach(_),this.h()},h(){w(e,"class",n="tab-panel "+t[2]),w(e,"role","tabpanel"),w(e,"aria-labelledby",t[1]),w(e,"tabindex","0")},m(l,a){A(l,e,a),s&&s.m(e,null),i=!0},p(l,a){s&&s.p&&(!i||a&65536)&&Ye(s,r,l,l[16],i?Je(r,l[16],a,jl):We(l[16]),Di),(!i||a&4&&n!==(n="tab-panel "+l[2]))&&w(e,"class",n),(!i||a&2)&&w(e,"aria-labelledby",l[1])},i(l){i||(P(s,l),i=!0)},o(l){F(s,l),i=!1},d(l){l&&_(e),s&&s.d(l)}}}function Gl(t){let e,n,i,r,s,l,a,o;const u=t[17].default,h=Ke(u,t,t[16],null);let f=t[5].panel&&Fi(t);return{c(){e=N("div"),n=N("div"),h&&h.c(),r=z(),f&&f.c(),this.h()},l(c){e=M(c,"DIV",{class:!0,"data-testid":!0});var d=C(e);n=M(d,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var p=C(n);h&&h.l(p),p.forEach(_),r=V(d),f&&f.l(d),d.forEach(_),this.h()},h(){w(n,"class",i="tab-list "+t[3]),w(n,"role","tablist"),w(n,"aria-labelledby",t[0]),w(e,"class",s="tab-group "+t[4]),w(e,"data-testid","tab-group")},m(c,d){A(c,e,d),S(e,n),h&&h.m(n,null),S(e,r),f&&f.m(e,null),l=!0,a||(o=[X(e,"click",t[18]),X(e,"keypress",t[19]),X(e,"keydown",t[20]),X(e,"keyup",t[21])],a=!0)},p(c,[d]){h&&h.p&&(!l||d&65536)&&Ye(h,u,c,c[16],l?Je(u,c[16],d,null):We(c[16]),null),(!l||d&8&&i!==(i="tab-list "+c[3]))&&w(n,"class",i),(!l||d&1)&&w(n,"aria-labelledby",c[0]),c[5].panel?f?(f.p(c,d),d&32&&P(f,1)):(f=Fi(c),f.c(),P(f,1),f.m(e,null)):f&&(se(),F(f,1,1,()=>{f=null}),le()),(!l||d&16&&s!==(s="tab-group "+c[4]))&&w(e,"class",s)},i(c){l||(P(h,c),P(f),l=!0)},o(c){F(h,c),F(f),l=!1},d(c){c&&_(e),h&&h.d(c),f&&f.d(),a=!1,Me(o)}}}const Xl="space-y-4",Kl="flex overflow-x-auto hide-scrollbar",Yl="";function Wl(t,e,n){let i,r,s,{$$slots:l={},$$scope:a}=e;const o=gn(l);let{justify:u="justify-start"}=e,{border:h="border-b border-surface-400-500-token"}=e,{active:f="border-b-2 border-surface-900-50-token"}=e,{hover:c="hover:variant-soft"}=e,{flex:d="flex-none"}=e,{padding:p="px-4 py-2"}=e,{rounded:b="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:m="space-y-1"}=e,{regionList:y=""}=e,{regionPanel:v=""}=e,{labelledby:g=""}=e,{panel:T=""}=e;Qe("active",f),Qe("hover",c),Qe("flex",d),Qe("padding",p),Qe("rounded",b),Qe("spacing",m);function E(x){ne.call(this,t,x)}function k(x){ne.call(this,t,x)}function I(x){ne.call(this,t,x)}function D(x){ne.call(this,t,x)}return t.$$set=x=>{n(22,e=de(de({},e),De(x))),"justify"in x&&n(6,u=x.justify),"border"in x&&n(7,h=x.border),"active"in x&&n(8,f=x.active),"hover"in x&&n(9,c=x.hover),"flex"in x&&n(10,d=x.flex),"padding"in x&&n(11,p=x.padding),"rounded"in x&&n(12,b=x.rounded),"spacing"in x&&n(13,m=x.spacing),"regionList"in x&&n(14,y=x.regionList),"regionPanel"in x&&n(15,v=x.regionPanel),"labelledby"in x&&n(0,g=x.labelledby),"panel"in x&&n(1,T=x.panel),"$$scope"in x&&n(16,a=x.$$scope)},t.$$.update=()=>{n(4,i=`${Xl} ${e.class??""}`),t.$$.dirty&16576&&n(3,r=`${Kl} ${u} ${h} ${y}`),t.$$.dirty&32768&&n(2,s=`${Yl} ${v}`)},e=De(e),[g,T,s,r,i,o,u,h,f,c,d,p,b,m,y,v,a,l,E,k,I,D]}class Jl extends ce{constructor(e){super(),he(this,e,Wl,Gl,ue,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const Zl=t=>({}),Li=t=>({});function Oi(t){let e,n;const i=t[22].lead,r=Ke(i,t,t[21],Li);return{c(){e=N("div"),r&&r.c(),this.h()},l(s){e=M(s,"DIV",{class:!0});var l=C(e);r&&r.l(l),l.forEach(_),this.h()},h(){w(e,"class","tab-lead")},m(s,l){A(s,e,l),r&&r.m(e,null),n=!0},p(s,l){r&&r.p&&(!n||l[0]&2097152)&&Ye(r,i,s,s[21],n?Je(i,s[21],l,Zl):We(s[21]),Li)},i(s){n||(P(r,s),n=!0)},o(s){F(r,s),n=!1},d(s){s&&_(e),r&&r.d(s)}}}function Ql(t){let e,n,i,r,s,l,a,o,u,h,f,c,d,p,b,m=[{type:"radio"},{name:t[1]},{__value:t[2]},t[11](),{tabindex:"-1"}],y={};for(let E=0;E<m.length;E+=1)y=de(y,m[E]);let v=t[12].lead&&Oi(t);const g=t[22].default,T=Ke(g,t,t[21],null);return d=kl(t[30][0]),{c(){e=N("label"),n=N("div"),i=N("div"),r=N("input"),s=z(),l=N("div"),v&&v.c(),a=z(),o=N("div"),T&&T.c(),this.h()},l(E){e=M(E,"LABEL",{class:!0,title:!0});var k=C(e);n=M(k,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var I=C(n);i=M(I,"DIV",{class:!0});var D=C(i);r=M(D,"INPUT",{type:!0,name:!0,tabindex:!0}),D.forEach(_),s=V(I),l=M(I,"DIV",{class:!0});var x=C(l);v&&v.l(x),a=V(x),o=M(x,"DIV",{class:!0});var L=C(o);T&&T.l(L),L.forEach(_),x.forEach(_),I.forEach(_),k.forEach(_),this.h()},h(){He(r,y),w(i,"class","h-0 w-0 overflow-hidden"),w(o,"class","tab-label"),w(l,"class",u="tab-interface "+t[8]),w(n,"class",h="tab "+t[7]),w(n,"data-testid","tab"),w(n,"role","tab"),w(n,"aria-controls",t[4]),w(n,"aria-selected",t[5]),w(n,"tabindex",f=t[5]?0:-1),w(e,"class",t[9]),w(e,"title",t[3]),d.p(r)},m(E,k){A(E,e,k),S(e,n),S(n,i),S(i,r),r.autofocus&&r.focus(),t[28](r),r.checked=r.__value===t[0],S(n,s),S(n,l),v&&v.m(l,null),S(l,a),S(l,o),T&&T.m(o,null),c=!0,p||(b=[X(r,"change",t[29]),X(r,"click",t[26]),X(r,"change",t[27]),X(n,"keydown",t[10]),X(n,"keydown",t[23]),X(n,"keyup",t[24]),X(n,"keypress",t[25])],p=!0)},p(E,k){He(r,y=Pt(m,[{type:"radio"},(!c||k[0]&2)&&{name:E[1]},(!c||k[0]&4)&&{__value:E[2]},E[11](),{tabindex:"-1"}])),k[0]&1&&(r.checked=r.__value===E[0]),E[12].lead?v?(v.p(E,k),k[0]&4096&&P(v,1)):(v=Oi(E),v.c(),P(v,1),v.m(l,a)):v&&(se(),F(v,1,1,()=>{v=null}),le()),T&&T.p&&(!c||k[0]&2097152)&&Ye(T,g,E,E[21],c?Je(g,E[21],k,null):We(E[21]),null),(!c||k[0]&256&&u!==(u="tab-interface "+E[8]))&&w(l,"class",u),(!c||k[0]&128&&h!==(h="tab "+E[7]))&&w(n,"class",h),(!c||k[0]&16)&&w(n,"aria-controls",E[4]),(!c||k[0]&32)&&w(n,"aria-selected",E[5]),(!c||k[0]&32&&f!==(f=E[5]?0:-1))&&w(n,"tabindex",f),(!c||k[0]&512)&&w(e,"class",E[9]),(!c||k[0]&8)&&w(e,"title",E[3])},i(E){c||(P(v),P(T,E),c=!0)},o(E){F(v),F(T,E),c=!1},d(E){E&&_(e),t[28](null),v&&v.d(),T&&T.d(E),d.r(),p=!1,Me(b)}}}const $l="text-center cursor-pointer transition-colors duration-100",ea="";function ta(t,e,n){let i,r,s,l,a;const o=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let u=lt(e,o),{$$slots:h={},$$scope:f}=e;const c=gn(h);let{group:d}=e,{name:p}=e,{value:b}=e,{title:m=""}=e,{controls:y=""}=e,{regionTab:v=""}=e,{active:g=$e("active")}=e,{hover:T=$e("hover")}=e,{flex:E=$e("flex")}=e,{padding:k=$e("padding")}=e,{rounded:I=$e("rounded")}=e,{spacing:D=$e("spacing")}=e,x;function L(H){if(["Enter","Space"].includes(H.code))H.preventDefault(),x.click();else if(H.code==="ArrowRight"){const U=x.closest(".tab-list");if(!U)return;const O=Array.from(U.querySelectorAll(".tab")),me=x.closest(".tab");if(!me)return;const dt=O.indexOf(me),Tn=dt+1>=O.length?0:dt+1,Se=O[Tn],pt=Se==null?void 0:Se.querySelector("input");Se&&pt&&(pt.click(),Se.focus())}else if(H.code==="ArrowLeft"){const U=x.closest(".tab-list");if(!U)return;const O=Array.from(U.querySelectorAll(".tab")),me=x.closest(".tab");if(!me)return;const dt=O.indexOf(me),Tn=dt-1<0?O.length-1:dt-1,Se=O[Tn],pt=Se==null?void 0:Se.querySelector("input");Se&&pt&&(pt.click(),Se.focus())}}function B(){return delete u.class,u}const te=[[]];function ie(H){ne.call(this,t,H)}function ke(H){ne.call(this,t,H)}function Be(H){ne.call(this,t,H)}function q(H){ne.call(this,t,H)}function K(H){ne.call(this,t,H)}function ee(H){pe[H?"unshift":"push"](()=>{x=H,n(6,x)})}function re(){d=this.__value,n(0,d)}return t.$$set=H=>{n(32,e=de(de({},e),De(H))),n(31,u=lt(e,o)),"group"in H&&n(0,d=H.group),"name"in H&&n(1,p=H.name),"value"in H&&n(2,b=H.value),"title"in H&&n(3,m=H.title),"controls"in H&&n(4,y=H.controls),"regionTab"in H&&n(13,v=H.regionTab),"active"in H&&n(14,g=H.active),"hover"in H&&n(15,T=H.hover),"flex"in H&&n(16,E=H.flex),"padding"in H&&n(17,k=H.padding),"rounded"in H&&n(18,I=H.rounded),"spacing"in H&&n(19,D=H.spacing),"$$scope"in H&&n(21,f=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&5&&n(5,i=b===d),t.$$.dirty[0]&49184&&n(20,r=i?g:T),n(9,s=`${$l} ${E} ${k} ${I} ${r} ${e.class??""}`),t.$$.dirty[0]&524288&&n(8,l=`${ea} ${D}`),t.$$.dirty[0]&8192&&n(7,a=`${v}`)},e=De(e),[d,p,b,m,y,i,x,a,l,s,L,B,c,v,g,T,E,k,I,D,r,f,h,ie,ke,Be,q,K,ee,re,te]}class Ot extends ce{constructor(e){super(),he(this,e,ta,Ql,ue,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}const na={namespaces:{tei:"http://www.tei-c.org/ns/1.0",teieg:"http://www.tei-c.org/ns/Examples",rng:"http://relaxng.org/ns/structure/1.0"},tei:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],ref:[["[target]",['<a href="$rw@target">',"</a>"]]],graphic:function(t){let e=new Image;return e.src=this.rw(t.getAttribute("url")),t.hasAttribute("width")&&e.setAttribute("width",t.getAttribute("width")),t.hasAttribute("height")&&e.setAttribute("height",t.getAttribute("height")),e},list:[["[type=gloss]",function(t){const e=t.ownerDocument;let n=e.createElement("dl");for(let i of Array.from(t.children))if(i.nodeType==1){if(i.localName=="tei-label"){let r=e.createElement("dt");r.innerHTML=i.innerHTML,n.appendChild(r)}if(i.localName=="tei-item"){let r=e.createElement("dd");r.innerHTML=i.innerHTML,n.appendChild(r)}}return n}]],note:[["[place=end]",function(t){const e=t.ownerDocument;this.noteIndex?this.noteIndex++:this.noteIndex=1;let n="_note_"+this.noteIndex,i=e.createElement("a");i.setAttribute("id","src"+n),i.setAttribute("href","#"+n),i.innerHTML=this.noteIndex;let r=e.createElement("sup");r.appendChild(i);let s=e.querySelector("ol.notes");s||(s=e.createElement("ol"),s.setAttribute("class","notes"),this.dom.appendChild(s));let l=e.createElement("li");return l.id=n,l.innerHTML=t.innerHTML,s.appendChild(l),r}],["_",["(",")"]]],teiHeader:function(t){this.hideContent(t,!1)},title:[["tei-titlestmt>tei-title",function(t){const e=t.ownerDocument;let n=e.createElement("title");n.innerHTML=t.innerText,e.querySelector("head").appendChild(n)}]]},teieg:{egXML:function(t){let n=t.ownerDocument.createElement("pre"),i=this.serialize(t,!0).replace(/</g,"&lt;"),r=i.match(/^[\t ]+/);return r&&(i=i.replace(new RegExp("^"+r[0],"mg"),"")),n.innerHTML=i,n}}};function ia(t,e){let n=1,i=t;for(;i&&i.previousElementSibling!==null&&(!e||i.previousElementSibling.localName==e)&&(n++,i=i.previousElementSibling,!!i.previousElementSibling););return n}function ra(t){const e=t.ownerDocument;let n=i=>{let r=i.nodeType===1?e.createElement(i.nodeName):i.cloneNode(!0);if(i.attributes)for(let s of Array.from(i.attributes))s.name!=="data-processed"&&r.setAttribute(s.name,s.value);for(let s of Array.from(i.childNodes))if(s.nodeType==1){if(!i.hasAttribute("data-empty"))if(s.hasAttribute("data-original")){for(let l of Array.from(s.childNodes)){let a=r.appendChild(n(l));a.nodeType===1&&a.hasAttribute("data-origid")&&(a.setAttribute("id",a.getAttribute("data-origid")),a.removeAttribute("data-origid"))}return r}else r.appendChild(n(s))}else r.appendChild(s.cloneNode());return r};return n(t)}function sa(t){return t.replace(/ .*$/,"")}function ms(t,e=!0){const n=t.ownerDocument;if(t.childNodes.length>0){let i=n.createElement("span");t.appendChild(i),i.setAttribute("hidden",""),i.setAttribute("data-original","");for(let r of Array.from(t.childNodes))if(r!==i){if(r.nodeType===1){r.setAttribute("data-processed","");for(let s of r.querySelectorAll("*"))s.setAttribute("data-processed","")}i.appendChild(t.removeChild(r))}if(e)for(let r of Array.from(i.querySelectorAll("*")))r.hasAttribute("id")&&(r.setAttribute("data-origid",r.getAttribute("id")),r.removeAttribute("id"))}}function la(t){return this.rw(this.first(t))}function aa(t,e){let n="";for(let i=0;i<e;i++)n+=t;return n}function oa(t){let e=this.prefixDefs[t.substring(0,t.indexOf(":"))];return t.replace(new RegExp(e.matchPattern),e.replacementPattern)}function ua(t){return this.prefixDefs[t]}function fa(t){return t.match(/^(?:http|mailto|file|\/|#).*$/)?t:this.base+this.utilities.first(t)}function xn(t,e,n){let i="",r=s=>!/[^\t\n\r ]/.test(s);if(!e&&t.nodeType==1){typeof n=="string"&&n!==""?i+=`
`+n+"<":i+="<",i+=t.getAttribute("data-origname");let s=t.hasAttribute("data-origatts")?t.getAttribute("data-origatts").split(" "):[];for(let l of Array.from(t.attributes))!l.name.startsWith("data-")&&!["id","lang","class"].includes(l.name)&&(i+=" "+s.find(function(a){return a.toLowerCase()==l.name})+'="'+l.value+'"'),l.name=="data-xmlns"&&(i+=' xmlns="'+l.value+'"');t.childNodes.length>0?i+=">":i+="/>"}for(let s of Array.from(t.childNodes))switch(s.nodeType){case 1:typeof n=="string"?i+=xn(s,!1,n+"  "):i+=xn(s,!1,n);break;case 7:i+="<?"+s.nodeValue+"?>";break;case 8:i+="<!--"+s.nodeValue+"-->";break;default:if(e&&r(s.nodeValue)&&(i+=s.nodeValue.replace(/^\s*\n/,"")),typeof n=="string"&&r(s.nodeValue))break;i+=s.nodeValue}return!e&&t.childNodes.length>0&&(typeof n=="string"?i+=`
`+n+"</":i+="</",i+=t.getAttribute("data-origname")+">"),i}function ca(t){return t.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}function nn(t){return t.includes(":"),t.replace(/:/,"-").toLowerCase()}function _s(t,e=null,n=!1){try{window.customElements.define(nn(t),class extends HTMLElement{constructor(){super(),this.matches(":defined")||(e&&e.call(this),this.setAttribute("data-processed",""))}connectedCallback(){this.hasAttribute("data-processed")||(e&&e.call(this),this.setAttribute("data-processed",""))}})}catch(i){n&&(console.log(nn(t)+" couldn't be registered or is already registered."),console.log(i))}}const En=Object.freeze(Object.defineProperty({__proto__:null,copyAndReset:ra,defineCustomElement:_s,first:sa,getOrdinality:ia,getPrefixDef:ua,hideContent:ms,normalizeURI:la,repeat:aa,resolveURI:oa,rw:fa,serialize:xn,tagName:nn,unEscapeEntities:ca},Symbol.toStringTag,{value:"Module"}));function ha(t){if(t.namespaces)for(let e of Object.keys(t.namespaces))!this.namespaces.has(t.namespaces[e])&&!Array.from(this.namespaces.values()).includes(e)&&this.namespaces.set(t.namespaces[e],e);for(let e of this.namespaces.values())if(t[e])for(let n of Object.keys(t[e]))this.behaviors[`${e}:${n}`]=t[e][n];if(t.functions)for(let e of Object.keys(t.functions))this.utilities[e]=t.functions[e];t.handlers&&console.log("Behavior handlers are no longer used."),t.fallbacks&&console.log("Fallback behaviors are no longer used.")}function da(t,e,n){let i;if(t===Object(t))for(let r of Object.keys(t))this.namespaces.has(t[r])||(this.namespaces.set(t[r],r),i=r);else i=t;this.behaviors[`${i}:${e}`]=n}function pa(t,e){let n;if(t===Object(t))for(let i of Object.keys(t))this.namespaces.has(t[i])||(this.namespaces.set(t[i],i),n=i);else n=t;delete this.behaviors[`${n}:${e}`]}function ga(t,e){const n=t.documentElement;let i=1,r=function(l){return e.has(l.namespaceURI?l.namespaceURI:"")||e.set(l.namespaceURI,"ns"+i++),e.get(l.namespaceURI?l.namespaceURI:"")+":"+l.localName};const s=new Set(Array.from(n.querySelectorAll("*"),r));return s.add(r(n)),s}function ma(t){return Array.from(t.querySelectorAll("*[data-origname]"),e=>e.localName.replace(/(\w+)-.+/,"$1:")+e.getAttribute("data-origname"))}class rt{constructor(e){this.options=e||{},this.document=this.options.documentObject?this.options.documentObject:void 0,this.document===void 0&&(typeof window<"u"&&window.document?this.document=window.document:typeof global<"u"&&global.document&&(this.document=global.document)),this.addBehaviors=ha.bind(this),this.addBehavior=da.bind(this),this.removeBehavior=pa.bind(this),this.utilities={};for(const n of Object.keys(En))["getPrefixDef","rw","resolveURI"].includes(n)?this.utilities[n]=En[n].bind(this):this.utilities[n]=En[n];if(this.els=[],this.namespaces=new Map,this.behaviors={},this.hasStyle=!1,this.prefixDefs=[],this.debug=this.options.debug===!0,this.discardContent=this.options.discardContent===!0,this.options.base)this.base=this.options.base;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch{this.base=""}this.options.omitDefaultBehaviors||this.addBehaviors(na),this.options.ignoreFragmentId&&window&&window.removeEventListener("ceteiceanload",rt.restorePosition)}getHTML5(e,n,i){return window&&window.location.href.startsWith(this.base)&&e.indexOf("/")>=0&&(this.base=e.replace(/\/[^\/]*$/,"/")),new Promise(function(s,l){let a=new XMLHttpRequest;a.open("GET",e),a.send(),a.onload=function(){this.status>=200&&this.status<300?s(this.response):l(this.statusText)},a.onerror=function(){l(this.statusText)}}).catch(function(s){console.log("Could not get XML file."),this.debug&&console.log(s)}).then(s=>this.makeHTML5(s,n,i))}makeHTML5(e,n,i){return this.XML_dom=new DOMParser().parseFromString(e,"text/xml"),this.domToHTML5(this.XML_dom,n,i)}preprocess(e,n,i){this.els=ga(e,this.namespaces);let r=s=>{let l;if(this.namespaces.has(s.namespaceURI?s.namespaceURI:"")){let a=this.namespaces.get(s.namespaceURI?s.namespaceURI:"");l=this.document.createElement(`${a}-${s.localName}`)}else l=this.document.importNode(s,!1);for(let a of Array.from(s.attributes))a.name=="xmlns"?l.setAttribute("data-xmlns",a.value):l.setAttribute(a.name,a.value),a.name=="xml:id"&&l.setAttribute("id",a.value),a.name=="xml:lang"&&l.setAttribute("lang",a.value),a.name=="rendition"&&l.setAttribute("class",a.value.replace(/#/g,""));if(l.setAttribute("data-origname",s.localName),s.hasAttributes()&&l.setAttribute("data-origatts",s.getAttributeNames().join(" ")),s.childNodes.length==0&&l.setAttribute("data-empty",""),s.localName=="head"){let a=e.evaluate("count(ancestor::*[tei:head])",s,function(o){if(o=="tei")return"http://www.tei-c.org/ns/1.0"},1,null);l.setAttribute("data-level",a.numberValue)}if(s.localName=="tagsDecl"){let a=this.document.createElement("style");for(let o of Array.from(s.childNodes))if(o.nodeType==1&&o.localName=="rendition"&&o.getAttribute("scheme")=="css"){let u="";o.hasAttribute("selector")?(u+=o.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+`{
`,u+=o.textContent):(u+="."+o.getAttribute("xml:id")+`{
`,u+=o.textContent),u+=`
}
`,a.appendChild(this.document.createTextNode(u))}a.childNodes.length>0&&(l.appendChild(a),this.hasStyle=!0)}s.localName=="prefixDef"&&(this.prefixDefs.push(s.getAttribute("ident")),this.prefixDefs[s.getAttribute("ident")]={matchPattern:s.getAttribute("matchPattern"),replacementPattern:s.getAttribute("replacementPattern")});for(let a of Array.from(s.childNodes))a.nodeType==1?l.appendChild(r(a)):l.appendChild(a.cloneNode());return i&&i(l,s),l};if(this.dom=r(e.documentElement),this.utilities.dom=this.dom,n)n(this.dom,this),window&&window.dispatchEvent(Bt);else return typeof window<"u"&&window.dispatchEvent(Bt),this.dom}domToHTML5(e,n,i){if(this.preprocess(e,null,i),this.applyBehaviors(),this.done=!0,n)n(this.dom,this),window&&window.dispatchEvent(Bt);else return typeof window<"u"&&window.dispatchEvent(Bt),this.dom}processPage(){this.els=ma(this.document),this.applyBehaviors()}unsetNamespace(e){this.namespaces.delete(e)}setBaseUrl(e){this.base=e}append(e,n){let i=this;if(n){let r=e.call(i.utilities,n);r&&!i.childExists(n.firstElementChild,r.nodeName)&&i.appendBasic(n,r)}else return function(){if(!this.hasAttribute("data-processed")){let r=e.call(i.utilities,this);r&&!i.childExists(this.firstElementChild,r.nodeName)&&i.appendBasic(this,r)}}}appendBasic(e,n){this.discardContent?e.innerHTML="":ms(e,!0),e.appendChild(n)}bName(e){return e.tagName.substring(0,e.tagName.indexOf("-")).toLowerCase()+":"+e.getAttribute("data-origname")}childExists(e,n){return e&&e.nodeName==n?!0:e&&e.nextElementSibling&&this.childExists(e.nextElementSibling,n)}decorator(e){if(Array.isArray(e)&&e.length==0)return function(i){};if(Array.isArray(e)&&!Array.isArray(e[0]))return this.applyDecorator(e);let n=this;return function(i){for(let r of e)if(i.matches(r[0])||r[0]==="_")return Array.isArray(r[1])?n.decorator(r[1]).call(this,i):r[1].call(this,i)}}applyDecorator(e){let n=this;return function(i){let r=[];for(let s=0;s<e.length;s++)r.push(n.template(e[s],i));return n.insert(i,r)}}getFallback(e,n){if(e[n])return e[n]instanceof Function?e[n]:this.decorator(e[n])}getHandler(e,n){if(e[n])return e[n]instanceof Function?this.append(e[n]):this.append(this.decorator(e[n]))}insert(e,n){let i=this.document.createElement("span");for(let r of Array.from(e.childNodes))r.nodeType===1&&!r.hasAttribute("data-processed")&&this.processElement(r);if(n[0].match("<[^>]+>")&&n[1]&&n[1].match("<[^>]+>"))i.innerHTML=n[0]+e.innerHTML+(n[1]?n[1]:"");else{i.innerHTML=n[0],i.setAttribute("data-before",n[0].replace(/<[^>]+>/g,"").length);for(let r of Array.from(e.childNodes))i.appendChild(r.cloneNode(!0));n.length>1&&(i.innerHTML+=n[1],i.setAttribute("data-after",n[1].replace(/<[^>]+>/g,"").length))}return i}processElement(e){if(e.hasAttribute("data-origname")&&!e.hasAttribute("data-processed")){let n=this.getFallback(this.bName(e));n&&(this.append(n,e),e.setAttribute("data-processed",""))}for(let n of Array.from(e.childNodes))n.nodeType===1&&this.processElement(n)}template(e,n){let i=e;if(e.search(/\$(\w*)(@([a-zA-Z:]+))/)){let r=/\$(\w*)@([a-zA-Z:]+)/g,s;for(;s=r.exec(e);)n.hasAttribute(s[2])?s[1]&&this.utilities[s[1]]?i=i.replace(s[0],this.utilities[s[1]](n.getAttribute(s[2]))):i=i.replace(s[0],n.getAttribute(s[2])):i=i.replace(s[0],"")}return i}applyBehaviors(){typeof window<"u"&&window.customElements?this.define.call(this,this.els):this.fallback.call(this,this.els)}define(e){for(let n of e){const i=this.getHandler(this.behaviors,n);_s(n,i,this.debug)}}fallback(e){for(let n of e){let i=this.getFallback(this.behaviors,n);if(i)for(let r of Array.from((this.dom&&!this.done?this.dom:this.document).getElementsByTagName(nn(n))))r.hasAttribute("data-processed")||this.append(i,r)}}static savePosition(){window.sessionStorage.setItem(window.location+"-scroll",window.scrollY)}static restorePosition(){if(window.location.hash)setTimeout(function(){let e=this.document.querySelector(window.decodeURI(window.location.hash));e&&e.scrollIntoView()},100);else{let e;(e=window.sessionStorage.getItem(window.location+"-scroll"))&&setTimeout(function(){window.scrollTo(0,e)},100)}}}try{if(typeof window<"u"){window.CETEI=rt,window.addEventListener("beforeunload",rt.savePosition);var Bt=new Event("ceteiceanload");window.addEventListener("ceteiceanload",rt.restorePosition)}}catch(t){console.log(t)}let _a={tei:{note:[["[type=gloss]",function(t){this.noteIndex?this.noteIndex++:this.noteIndex=1;let e="note"+this.noteIndex,n=document.createElement("a");n.setAttribute("id","src"+e),n.setAttribute("href","#"+e),n.innerHTML=this.noteIndex;let i=document.createElement("sup");i.appendChild(n);let r=this.dom.querySelector("ol.notes");r||(r=document.createElement("ol"),r.setAttribute("class","notes"),this.dom.appendChild(r));let s=document.createElement("li");return s.id=e,s.innerHTML='<a href="#src'+e+'">^</a> '+t.innerHTML,r.appendChild(s),i}]],ptr:function(t){if(t.getAttribute("target")==="#")console.log("Ignoring empty ptrs...");else{var e=document.createElement("a");return e.href=t.getAttribute("target"),e.innerHTML=">",e}},ref:function(t){if(t.getAttribute("target")==="#")console.log("Ignoring empty refs...");else{var e=document.createElement("a");return e.href=t.getAttribute("target"),e.innerHTML=t.innerHTML,e}},graphic:function(t){t.getAttribute("url")==="#"&&console.log("Ignoring non-existent graphics...")},pb:function(t){var e=document.createElement("p");return e.innerHTML=t.getAttribute("n"),e.classList.add("signature"),e},app:function(t){for(const e of t.children)e.classList.add(`var-${t.getAttribute("subtype")}`)},rdg:function(t){t.hasAttribute("data-empty")&&(t.innerHTML="[Does not exist in 1609]")},lem:function(t){t.hasAttribute("data-empty")&&(t.innerHTML="[+1609]")},fw:[["[type=horizontalRule]",function(t){return document.createElement("hr")}]]}};const{document:Bi}=Tl;function Ri(t){let e,n;return e=new ds({}),{c(){Y(e.$$.fragment)},l(i){W(e.$$.fragment,i)},m(i,r){J(e,i,r),n=!0},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Hi(t){let e,n;return{c(){e=N("p"),n=j(t[1]),this.h()},l(i){e=M(i,"P",{"data-testid":!0});var r=C(e);n=G(r,t[1]),r.forEach(_),this.h()},h(){w(e,"data-testid","error-message")},m(i,r){A(i,e,r),S(e,n)},p(i,r){r&2&&oe(n,i[1])},d(i){i&&_(e)}}}function ba(t){let e,n,i,r,s,l=!t[0]&&Ri(),a=t[1]&&Hi(t);return{c(){e=N("link"),n=z(),i=N("div"),l&&l.c(),r=z(),a&&a.c(),this.h()},l(o){const u=wl("svelte-1rxmp49",Bi.head);e=M(u,"LINK",{rel:!0,type:!0,href:!0}),u.forEach(_),n=V(o),i=M(o,"DIV",{id:!0,"data-testid":!0});var h=C(i);l&&l.l(h),r=V(h),a&&a.l(h),h.forEach(_),this.h()},h(){w(e,"rel","stylesheet"),w(e,"type","text/css"),w(e,"href",ps+"/additional-style/TEIstyle.css"),w(i,"id","TEI-container"),w(i,"data-testid","TEI-container")},m(o,u){S(Bi.head,e),A(o,n,u),A(o,i,u),l&&l.m(i,null),S(i,r),a&&a.m(i,null),s=!0},p(o,[u]){o[0]?l&&(se(),F(l,1,1,()=>{l=null}),le()):l?u&1&&P(l,1):(l=Ri(),l.c(),P(l,1),l.m(i,r)),o[1]?a?a.p(o,u):(a=Hi(o),a.c(),a.m(i,null)):a&&(a.d(1),a=null)},i(o){s||(P(l),s=!0)},o(o){F(l),s=!1},d(o){_(e),o&&_(n),o&&_(i),l&&l.d(),a&&a.d()}}}function va(t,e,n){let i=!1,r,{path:s=""}=e;return Ze(async()=>{try{if(s==="")throw"No path specified";var l=new rt;l.addBehaviors(_a),l.getHTML5(s,function(a){document.getElementById("TEI-container").appendChild(a)}),n(0,i=!0)}catch(a){n(1,r=a.toString()),n(0,i=!0);return}}),t.$$set=l=>{"path"in l&&n(2,s=l.path)},[i,r,s]}class ya extends ce{constructor(e){super(),he(this,e,va,ba,ue,{path:2})}}function ka(t){let e,n,i;return{c(){e=N("audio"),n=N("source"),this.h()},l(r){e=M(r,"AUDIO",{});var s=C(e);n=M(s,"SOURCE",{src:!0,type:!0}),s.forEach(_),this.h()},h(){wi(n.src,i=t[0])||w(n,"src",i),w(n,"type","audio/mpeg"),e.controls=!0},m(r,s){A(r,e,s),S(e,n)},p(r,[s]){s&1&&!wi(n.src,i=r[0])&&w(n,"src",i)},i:R,o:R,d(r){r&&_(e)}}}function wa(t,e,n){let{audioPath:i}=e;return t.$$set=r=>{"audioPath"in r&&n(0,i=r.audioPath)},[i]}class Ta extends ce{constructor(e){super(),he(this,e,wa,ka,ue,{audioPath:0})}}function Gt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gt=function(e){return typeof e}:Gt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(t)}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ii(t,e,n){return e&&zi(t.prototype,e),n&&zi(t,n),t}var Ee={VERSION:"2.0.16",NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},Ea=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],Vi=0,Aa=function(e){Ea.forEach(function(n){n.forEach(function(i){return Ee.NOTES[Vi]=i+e}),Vi++})};for(var An=-1;An<=9;An++)Aa(An);var ae=function(){function t(){ni(this,t)}return ii(t,null,[{key:"byteToHex",value:function(n){return("0"+n.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(n){var i=[];return n.forEach(function(r){return i.push(t.byteToHex(r))}),i.join("")}},{key:"hexToNumber",value:function(n){return parseInt(n,16)}},{key:"bytesToNumber",value:function(n){return t.hexToNumber(t.bytesToHex(n))}},{key:"bytesToLetters",value:function(n){var i=[];return n.forEach(function(r){return i.push(String.fromCharCode(r))}),i.join("")}},{key:"decToBinary",value:function(n){return(n>>>0).toString(2)}},{key:"getVarIntLength",value:function(n){for(var i=n[0],r=1;i>=128;)i=n[r],r++;return r}},{key:"readVarInt",value:function(n){var i=0;return n.forEach(function(r){var s=r;s&128?(i+=s&127,i<<=7):i+=s}),i}},{key:"atob",value:function(e){function n(i){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return typeof atob=="function"?atob(e):Buffer.from(e,"base64").toString("binary")})}]),t}(),Sa=function(){function t(e,n){ni(this,t),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=e,this.data=n,this.delta=0,this.runningDelta=0,this.events=[];var i=this.data.subarray(this.data.length-3,this.data.length);if(!(i[0]===255&&i[1]===47&&i[2]===0))throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return ii(t,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(n){n=n||0;for(var i in this.events)if(this.events[i].tick>=n)return this.eventIndex=i,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return ae.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return ae.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(n,i){if(i=i||!1,i){var r=n-this.lastTick,s=this.getDelta(),l=r>=s;if(this.pointer<this.data.length&&(i||l)){var a=this.parseEvent();if(this.enabled)return a}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=n&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(n){var i=ae.getVarIntLength(this.data.subarray(n+2)),r=ae.readVarInt(this.data.subarray(n+2,n+2+i)),s=ae.bytesToLetters(this.data.subarray(n+2+i,n+2+i+r));return s}},{key:"parseEvent",value:function(){var n=this.pointer+this.getDeltaByteCount(),i={},r=this.getDeltaByteCount();if(i.track=this.index+1,i.delta=this.getDelta(),this.lastTick=this.lastTick+i.delta,this.runningDelta+=i.delta,i.tick=this.runningDelta,i.byteIndex=this.pointer,this.data[n]==255){switch(this.data[n+1]){case 0:i.name="Sequence Number";break;case 1:i.name="Text Event",i.string=this.getStringData(n);break;case 2:i.name="Copyright Notice";break;case 3:i.name="Sequence/Track Name",i.string=this.getStringData(n);break;case 4:i.name="Instrument Name",i.string=this.getStringData(n);break;case 5:i.name="Lyric",i.string=this.getStringData(n);break;case 6:i.name="Marker";break;case 7:i.name="Cue Point",i.string=this.getStringData(n);break;case 9:i.name="Device Name",i.string=this.getStringData(n);break;case 32:i.name="MIDI Channel Prefix";break;case 33:i.name="MIDI Port",i.data=ae.bytesToNumber([this.data[n+3]]);break;case 47:i.name="End of Track";break;case 81:i.name="Set Tempo",i.data=Math.round(6e7/ae.bytesToNumber(this.data.subarray(n+3,n+6))),this.tempo=i.data;break;case 84:i.name="SMTPE Offset";break;case 88:i.name="Time Signature",i.data=this.data.subarray(n+3,n+7),i.timeSignature=""+i.data[0]+"/"+Math.pow(2,i.data[1]);break;case 89:i.name="Key Signature",i.data=this.data.subarray(n+3,n+5),i.data[0]>=0?i.keySignature=Ee.CIRCLE_OF_FIFTHS[i.data[0]]:i.data[0]<0&&(i.keySignature=Ee.CIRCLE_OF_FOURTHS[Math.abs(i.data[0])]),i.data[1]==0?i.keySignature+=" Major":i.data[1]==1&&(i.keySignature+=" Minor");break;case 127:i.name="Sequencer-Specific Meta-event";break;default:i.name="Unknown: "+this.data[n+1].toString(16);break}var s=ae.getVarIntLength(this.data.subarray(n+2)),l=ae.readVarInt(this.data.subarray(n+2,n+2+s));this.pointer+=r+3+l}else if(this.data[n]===240){i.name="Sysex";var a=ae.getVarIntLength(this.data.subarray(n+1)),o=ae.readVarInt(this.data.subarray(n+1,n+1+a));i.data=this.data.subarray(n+1+a,n+1+a+o),this.pointer+=r+1+a+o}else if(this.data[n]===247){i.name="Sysex (escape)";var u=ae.getVarIntLength(this.data.subarray(n+1)),h=ae.readVarInt(this.data.subarray(n+1,n+1+u));i.data=this.data.subarray(n+1+u,n+1+u+h),this.pointer+=r+1+u+h}else if(this.data[n]<128)if(i.running=!0,i.noteNumber=this.data[n],i.noteName=Ee.NOTES[this.data[n]],i.velocity=this.data[n+1],this.lastStatus<=143)i.name="Note off",i.channel=this.lastStatus-128+1,this.pointer+=r+2;else if(this.lastStatus<=159)i.name="Note on",i.channel=this.lastStatus-144+1,this.pointer+=r+2;else if(this.lastStatus<=175)i.name="Polyphonic Key Pressure",i.channel=this.lastStatus-160+1,i.note=Ee.NOTES[this.data[n+1]],i.pressure=event[1],this.pointer+=r+2;else if(this.lastStatus<=191)i.name="Controller Change",i.channel=this.lastStatus-176+1,i.number=this.data[n+1],i.value=this.data[n+2],this.pointer+=r+2;else if(this.lastStatus<=207)i.name="Program Change",i.channel=this.lastStatus-192+1,i.value=this.data[n+1],this.pointer+=r+1;else if(this.lastStatus<=223)i.name="Channel Key Pressure",i.channel=this.lastStatus-208+1,this.pointer+=r+1;else if(this.lastStatus<=239)i.name="Pitch Bend",i.channel=this.lastStatus-224+1,i.value=this.data[n+2],this.pointer+=r+2;else throw"Unknown event (running): ".concat(this.lastStatus);else if(this.lastStatus=this.data[n],this.data[n]<=143)i.name="Note off",i.channel=this.lastStatus-128+1,i.noteNumber=this.data[n+1],i.noteName=Ee.NOTES[this.data[n+1]],i.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=r+3;else if(this.data[n]<=159)i.name="Note on",i.channel=this.lastStatus-144+1,i.noteNumber=this.data[n+1],i.noteName=Ee.NOTES[this.data[n+1]],i.velocity=Math.round(this.data[n+2]/127*100),this.pointer+=r+3;else if(this.data[n]<=175)i.name="Polyphonic Key Pressure",i.channel=this.lastStatus-160+1,i.note=Ee.NOTES[this.data[n+1]],i.pressure=event[2],this.pointer+=r+3;else if(this.data[n]<=191)i.name="Controller Change",i.channel=this.lastStatus-176+1,i.number=this.data[n+1],i.value=this.data[n+2],this.pointer+=r+3;else if(this.data[n]<=207)i.name="Program Change",i.channel=this.lastStatus-192+1,i.value=this.data[n+1],this.pointer+=r+2;else if(this.data[n]<=223)i.name="Channel Key Pressure",i.channel=this.lastStatus-208+1,this.pointer+=r+2;else if(this.data[n]<=239)i.name="Pitch Bend",i.channel=this.lastStatus-224+1,this.pointer+=r+3;else throw"Unknown event: ".concat(this.data[n]);return this.delta+=i.delta,this.events.push(i),i}},{key:"endOfTrack",value:function(){return this.data[this.pointer+1]==255&&this.data[this.pointer+2]==47&&this.data[this.pointer+3]==0}}]),t}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var Ia=function(){function t(e,n){ni(this,t),this.sampleRate=5,this.startTime=0,this.buffer=n||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},typeof e=="function"&&this.on("midiEvent",e)}return ii(t,[{key:"loadFile",value:function(n){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(n){return this.buffer=new Uint8Array(n),this.fileLoaded()}},{key:"loadDataUri",value:function(n){for(var i=ae.atob(n.split(",")[1]),r=new Uint8Array(i.length),s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return this.buffer=r,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return ae.bytesToLetters(this.buffer.subarray(0,4))==="MThd"}},{key:"getFormat",value:function(){return this.format=ae.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var n=0;n<this.buffer.length;){if(ae.bytesToLetters(this.buffer.subarray(n,n+4))=="MTrk"){var i=ae.bytesToNumber(this.buffer.subarray(n+4,n+8));this.tracks.push(new Sa(this.tracks.length,this.buffer.subarray(n+8,n+8+i)))}n+=ae.bytesToNumber(this.buffer.subarray(n+4,n+8))+8}var r=0;return this.tracks.forEach(function(s){r+=8+s.data.length}),this.midiChunksByteLength=Ee.HEADER_CHUNK_LENGTH+r,this}},{key:"enableTrack",value:function(n){return this.tracks[n-1].enable(),this}},{key:"disableTrack",value:function(n){return this.tracks[n-1].disable(),this}},{key:"getDivision",value:function(){return this.division=ae.bytesToNumber(this.buffer.subarray(12,Ee.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(n){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(i,r){if(!n&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var s=i.handleEvent(this.tick,n);n&&s?(s.hasOwnProperty("name")&&s.name==="Set Tempo"&&(this.defaultTempo=s.data,this.setTempo(s.data)),s.hasOwnProperty("name")&&s.name==="Program Change"&&(this.instruments.includes(s.value)||this.instruments.push(s.value))):s&&(s.hasOwnProperty("name")&&s.name==="Set Tempo"&&(this.setTempo(s.data),this.isPlaying()&&this.pause().play()),this.emitEvent(s))}},this),n||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(n){return this.tempo=n,this}},{key:"setStartTime",value:function(n){return this.startTime=n,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=new Date().getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout((function(){this.playLoop(),this.loop()}).bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(n){return this.stop(),this.startTick=n,this.tracks.forEach(function(i){i.setEventIndexByTick(n)}),this}},{key:"skipToPercent",value:function(n){if(n<0||n>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(n/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(n){var i=this.getSongTime();if(n<0||n>i)throw n+" seconds not within song time of "+i;return this.skipToPercent(n/i*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||Gt(this.setIntervalId)==="object"}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(n){return n.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(n){return n.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(n){return n.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(n,i){return{events:{length:n.events.length+i.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return Ee.HEADER_CHUNK_LENGTH+this.tracks.length*8+this.tracks.reduce(function(n,i){return{pointer:n.pointer+i.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(n,i){return{eventIndex:n.eventIndex+i.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round((new Date().getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(n){return this.triggerPlayerEvent("midiEvent",n),this}},{key:"on",value:function(n,i){return this.eventListeners.hasOwnProperty(n)||(this.eventListeners[n]=[]),this.eventListeners[n].push(i),this}},{key:"triggerPlayerEvent",value:function(n,i){return this.eventListeners.hasOwnProperty(n)&&this.eventListeners[n].forEach(function(r){return r(i||{})}),this}}]),t}(),Na={Player:Ia,Utils:ae,Constants:Ee};const Et=/^[a-z0-9]+(-[a-z0-9]+)*$/,_n=(t,e,n,i="")=>{const r=t.split(":");if(t.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;i=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const a=r.pop(),o=r.pop(),u={provider:r.length>0?r[0]:i,prefix:o,name:a};return e&&!Xt(u)?null:u}const s=r[0],l=s.split("-");if(l.length>1){const a={provider:i,prefix:l.shift(),name:l.join("-")};return e&&!Xt(a)?null:a}if(n&&i===""){const a={provider:i,prefix:"",name:s};return e&&!Xt(a,n)?null:a}return null},Xt=(t,e)=>t?!!((t.provider===""||t.provider.match(Et))&&(e&&t.prefix===""||t.prefix.match(Et))&&t.name.match(Et)):!1,bs=Object.freeze({left:0,top:0,width:16,height:16}),rn=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),bn=Object.freeze({...bs,...rn}),Dn=Object.freeze({...bn,body:"",hidden:!1});function Ma(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const i=((t.rotate||0)+(e.rotate||0))%4;return i&&(n.rotate=i),n}function qi(t,e){const n=Ma(t,e);for(const i in Dn)i in rn?i in t&&!(i in n)&&(n[i]=rn[i]):i in e?n[i]=e[i]:i in t&&(n[i]=t[i]);return n}function Ca(t,e){const n=t.icons,i=t.aliases||Object.create(null),r=Object.create(null);function s(l){if(n[l])return r[l]=[];if(!(l in r)){r[l]=null;const a=i[l]&&i[l].parent,o=a&&s(a);o&&(r[l]=[a].concat(o))}return r[l]}return(e||Object.keys(n).concat(Object.keys(i))).forEach(s),r}function Pa(t,e,n){const i=t.icons,r=t.aliases||Object.create(null);let s={};function l(a){s=qi(i[a]||r[a],s)}return l(e),n.forEach(l),qi(t,s)}function vs(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(r=>{e(r,null),n.push(r)});const i=Ca(t);for(const r in i){const s=i[r];s&&(e(r,Pa(t,r,s)),n.push(r))}return n}const xa={provider:"",aliases:{},not_found:{},...bs};function Sn(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function ys(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Sn(t,xa))return null;const n=e.icons;for(const r in n){const s=n[r];if(!r.match(Et)||typeof s.body!="string"||!Sn(s,Dn))return null}const i=e.aliases||Object.create(null);for(const r in i){const s=i[r],l=s.parent;if(!r.match(Et)||typeof l!="string"||!n[l]&&!i[l]||!Sn(s,Dn))return null}return e}const Ui=Object.create(null);function Da(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function je(t,e){const n=Ui[t]||(Ui[t]=Object.create(null));return n[e]||(n[e]=Da(t,e))}function ri(t,e){return ys(e)?vs(e,(n,i)=>{i?t.icons[n]=i:t.missing.add(n)}):[]}function Fa(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let At=!1;function ks(t){return typeof t=="boolean"&&(At=t),At}function La(t){const e=typeof t=="string"?_n(t,!0,At):t;if(e){const n=je(e.provider,e.prefix),i=e.name;return n.icons[i]||(n.missing.has(i)?null:void 0)}}function Oa(t,e){const n=_n(t,!0,At);if(!n)return!1;const i=je(n.provider,n.prefix);return Fa(i,n.name,e)}function Ba(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),At&&!e&&!t.prefix){let r=!1;return ys(t)&&(t.prefix="",vs(t,(s,l)=>{l&&Oa(s,l)&&(r=!0)})),r}const n=t.prefix;if(!Xt({provider:e,prefix:n,name:"a"}))return!1;const i=je(e,n);return!!ri(i,t)}const ws=Object.freeze({width:null,height:null}),Ts=Object.freeze({...ws,...rn}),Ra=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ha=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ji(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const i=t.split(Ra);if(i===null||!i.length)return t;const r=[];let s=i.shift(),l=Ha.test(s);for(;;){if(l){const a=parseFloat(s);isNaN(a)?r.push(s):r.push(Math.ceil(a*e*n)/n)}else r.push(s);if(s=i.shift(),s===void 0)return r.join("");l=!l}}const za=t=>t==="unset"||t==="undefined"||t==="none";function Va(t,e){const n={...bn,...t},i={...Ts,...e},r={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,i].forEach(p=>{const b=[],m=p.hFlip,y=p.vFlip;let v=p.rotate;m?y?v+=2:(b.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),b.push("scale(-1 1)"),r.top=r.left=0):y&&(b.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),b.push("scale(1 -1)"),r.top=r.left=0);let g;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:g=r.height/2+r.top,b.unshift("rotate(90 "+g.toString()+" "+g.toString()+")");break;case 2:b.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:g=r.width/2+r.left,b.unshift("rotate(-90 "+g.toString()+" "+g.toString()+")");break}v%2===1&&(r.left!==r.top&&(g=r.left,r.left=r.top,r.top=g),r.width!==r.height&&(g=r.width,r.width=r.height,r.height=g)),b.length&&(s='<g transform="'+b.join(" ")+'">'+s+"</g>")});const l=i.width,a=i.height,o=r.width,u=r.height;let h,f;l===null?(f=a===null?"1em":a==="auto"?u:a,h=ji(f,o/u)):(h=l==="auto"?o:l,f=a===null?ji(h,u/o):a==="auto"?u:a);const c={},d=(p,b)=>{za(b)||(c[p]=b.toString())};return d("width",h),d("height",f),c.viewBox=r.left.toString()+" "+r.top.toString()+" "+o.toString()+" "+u.toString(),{attributes:c,body:s}}const qa=/\sid="(\S+)"/g,Ua="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ja=0;function Ga(t,e=Ua){const n=[];let i;for(;i=qa.exec(t);)n.push(i[1]);if(!n.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const l=typeof e=="function"?e(s):e+(ja++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+l+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}const Fn=Object.create(null);function Xa(t,e){Fn[t]=e}function Ln(t){return Fn[t]||Fn[""]}function si(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const li=Object.create(null),gt=["https://api.simplesvg.com","https://api.unisvg.com"],Kt=[];for(;gt.length>0;)gt.length===1||Math.random()>.5?Kt.push(gt.shift()):Kt.push(gt.pop());li[""]=si({resources:["https://api.iconify.design"].concat(Kt)});function Ka(t,e){const n=si(e);return n===null?!1:(li[t]=n,!0)}function ai(t){return li[t]}const Ya=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Gi=Ya();function Wa(t,e){const n=ai(t);if(!n)return 0;let i;if(!n.maxURL)i=0;else{let r=0;n.resources.forEach(l=>{r=Math.max(r,l.length)});const s=e+".json?icons=";i=n.maxURL-r-n.path.length-s.length}return i}function Ja(t){return t===404}const Za=(t,e,n)=>{const i=[],r=Wa(t,e),s="icons";let l={type:s,provider:t,prefix:e,icons:[]},a=0;return n.forEach((o,u)=>{a+=o.length+1,a>=r&&u>0&&(i.push(l),l={type:s,provider:t,prefix:e,icons:[]},a=o.length),l.icons.push(o)}),i.push(l),i};function Qa(t){if(typeof t=="string"){const e=ai(t);if(e)return e.path}return"/"}const $a=(t,e,n)=>{if(!Gi){n("abort",424);return}let i=Qa(e.provider);switch(e.type){case"icons":{const s=e.prefix,a=e.icons.join(","),o=new URLSearchParams({icons:a});i+=s+".json?"+o.toString();break}case"custom":{const s=e.uri;i+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let r=503;Gi(t+i).then(s=>{const l=s.status;if(l!==200){setTimeout(()=>{n(Ja(l)?"abort":"next",l)});return}return r=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",r)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",r)})},eo={prepare:Za,send:$a};function to(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((r,s)=>r.provider!==s.provider?r.provider.localeCompare(s.provider):r.prefix!==s.prefix?r.prefix.localeCompare(s.prefix):r.name.localeCompare(s.name));let i={provider:"",prefix:"",name:""};return t.forEach(r=>{if(i.name===r.name&&i.prefix===r.prefix&&i.provider===r.provider)return;i=r;const s=r.provider,l=r.prefix,a=r.name,o=n[s]||(n[s]=Object.create(null)),u=o[l]||(o[l]=je(s,l));let h;a in u.icons?h=e.loaded:l===""||u.missing.has(a)?h=e.missing:h=e.pending;const f={provider:s,prefix:l,name:a};h.push(f)}),e}function Es(t,e){t.forEach(n=>{const i=n.loaderCallbacks;i&&(n.loaderCallbacks=i.filter(r=>r.id!==e))})}function no(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const i=t.provider,r=t.prefix;e.forEach(s=>{const l=s.icons,a=l.pending.length;l.pending=l.pending.filter(o=>{if(o.prefix!==r)return!0;const u=o.name;if(t.icons[u])l.loaded.push({provider:i,prefix:r,name:u});else if(t.missing.has(u))l.missing.push({provider:i,prefix:r,name:u});else return n=!0,!0;return!1}),l.pending.length!==a&&(n||Es([t],s.id),s.callback(l.loaded.slice(0),l.missing.slice(0),l.pending.slice(0),s.abort))})}))}let io=0;function ro(t,e,n){const i=io++,r=Es.bind(null,n,i);if(!e.pending.length)return r;const s={id:i,icons:e,callback:t,abort:r};return n.forEach(l=>{(l.loaderCallbacks||(l.loaderCallbacks=[])).push(s)}),r}function so(t,e=!0,n=!1){const i=[];return t.forEach(r=>{const s=typeof r=="string"?_n(r,e,n):r;s&&i.push(s)}),i}var lo={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ao(t,e,n,i){const r=t.resources.length,s=t.random?Math.floor(Math.random()*r):t.index;let l;if(t.random){let k=t.resources.slice(0);for(l=[];k.length>1;){const I=Math.floor(Math.random()*k.length);l.push(k[I]),k=k.slice(0,I).concat(k.slice(I+1))}l=l.concat(k)}else l=t.resources.slice(s).concat(t.resources.slice(0,s));const a=Date.now();let o="pending",u=0,h,f=null,c=[],d=[];typeof i=="function"&&d.push(i);function p(){f&&(clearTimeout(f),f=null)}function b(){o==="pending"&&(o="aborted"),p(),c.forEach(k=>{k.status==="pending"&&(k.status="aborted")}),c=[]}function m(k,I){I&&(d=[]),typeof k=="function"&&d.push(k)}function y(){return{startTime:a,payload:e,status:o,queriesSent:u,queriesPending:c.length,subscribe:m,abort:b}}function v(){o="failed",d.forEach(k=>{k(void 0,h)})}function g(){c.forEach(k=>{k.status==="pending"&&(k.status="aborted")}),c=[]}function T(k,I,D){const x=I!=="success";switch(c=c.filter(L=>L!==k),o){case"pending":break;case"failed":if(x||!t.dataAfterTimeout)return;break;default:return}if(I==="abort"){h=D,v();return}if(x){h=D,c.length||(l.length?E():v());return}if(p(),g(),!t.random){const L=t.resources.indexOf(k.resource);L!==-1&&L!==t.index&&(t.index=L)}o="completed",d.forEach(L=>{L(D)})}function E(){if(o!=="pending")return;p();const k=l.shift();if(k===void 0){if(c.length){f=setTimeout(()=>{p(),o==="pending"&&(g(),v())},t.timeout);return}v();return}const I={status:"pending",resource:k,callback:(D,x)=>{T(I,D,x)}};c.push(I),u++,f=setTimeout(E,t.rotate),n(k,e,I.callback)}return setTimeout(E),y}function As(t){const e={...lo,...t};let n=[];function i(){n=n.filter(a=>a().status==="pending")}function r(a,o,u){const h=ao(e,a,o,(f,c)=>{i(),u&&u(f,c)});return n.push(h),h}function s(a){return n.find(o=>a(o))||null}return{query:r,find:s,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:i}}function Xi(){}const In=Object.create(null);function oo(t){if(!In[t]){const e=ai(t);if(!e)return;const n=As(e),i={config:e,redundancy:n};In[t]=i}return In[t]}function uo(t,e,n){let i,r;if(typeof t=="string"){const s=Ln(t);if(!s)return n(void 0,424),Xi;r=s.send;const l=oo(t);l&&(i=l.redundancy)}else{const s=si(t);if(s){i=As(s);const l=t.resources?t.resources[0]:"",a=Ln(l);a&&(r=a.send)}}return!i||!r?(n(void 0,424),Xi):i.query(e,r,n)().abort}const Ki="iconify2",St="iconify",Ss=St+"-count",Yi=St+"-version",Is=36e5,fo=168;function On(t,e){try{return t.getItem(e)}catch{}}function oi(t,e,n){try{return t.setItem(e,n),!0}catch{}}function Wi(t,e){try{t.removeItem(e)}catch{}}function Bn(t,e){return oi(t,Ss,e.toString())}function Rn(t){return parseInt(On(t,Ss))||0}const vn={local:!0,session:!0},Ns={local:new Set,session:new Set};let ui=!1;function co(t){ui=t}let Rt=typeof window>"u"?{}:window;function Ms(t){const e=t+"Storage";try{if(Rt&&Rt[e]&&typeof Rt[e].length=="number")return Rt[e]}catch{}vn[t]=!1}function Cs(t,e){const n=Ms(t);if(!n)return;const i=On(n,Yi);if(i!==Ki){if(i){const a=Rn(n);for(let o=0;o<a;o++)Wi(n,St+o.toString())}oi(n,Yi,Ki),Bn(n,0);return}const r=Math.floor(Date.now()/Is)-fo,s=a=>{const o=St+a.toString(),u=On(n,o);if(typeof u=="string"){try{const h=JSON.parse(u);if(typeof h=="object"&&typeof h.cached=="number"&&h.cached>r&&typeof h.provider=="string"&&typeof h.data=="object"&&typeof h.data.prefix=="string"&&e(h,a))return!0}catch{}Wi(n,o)}};let l=Rn(n);for(let a=l-1;a>=0;a--)s(a)||(a===l-1?(l--,Bn(n,l)):Ns[t].add(a))}function Ps(){if(!ui){co(!0);for(const t in vn)Cs(t,e=>{const n=e.data,i=e.provider,r=n.prefix,s=je(i,r);if(!ri(s,n).length)return!1;const l=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,l):l,!0})}}function ho(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const i in vn)Cs(i,r=>{const s=r.data;return r.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function po(t,e){ui||Ps();function n(i){let r;if(!vn[i]||!(r=Ms(i)))return;const s=Ns[i];let l;if(s.size)s.delete(l=Array.from(s).shift());else if(l=Rn(r),!Bn(r,l+1))return;const a={cached:Math.floor(Date.now()/Is),provider:t.provider,data:e};return oi(r,St+l.toString(),JSON.stringify(a))}e.lastModified&&!ho(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function Ji(){}function go(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,no(t)}))}function mo(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:i}=t,r=t.iconsToLoad;delete t.iconsToLoad;let s;if(!r||!(s=Ln(n)))return;s.prepare(n,i,r).forEach(a=>{uo(n,a,o=>{if(typeof o!="object")a.icons.forEach(u=>{t.missing.add(u)});else try{const u=ri(t,o);if(!u.length)return;const h=t.pendingIcons;h&&u.forEach(f=>{h.delete(f)}),po(t,o)}catch(u){console.error(u)}go(t)})})}))}const _o=(t,e)=>{const n=so(t,!0,ks()),i=to(n);if(!i.pending.length){let o=!0;return e&&setTimeout(()=>{o&&e(i.loaded,i.missing,i.pending,Ji)}),()=>{o=!1}}const r=Object.create(null),s=[];let l,a;return i.pending.forEach(o=>{const{provider:u,prefix:h}=o;if(h===a&&u===l)return;l=u,a=h,s.push(je(u,h));const f=r[u]||(r[u]=Object.create(null));f[h]||(f[h]=[])}),i.pending.forEach(o=>{const{provider:u,prefix:h,name:f}=o,c=je(u,h),d=c.pendingIcons||(c.pendingIcons=new Set);d.has(f)||(d.add(f),r[u][h].push(f))}),s.forEach(o=>{const{provider:u,prefix:h}=o;r[u][h].length&&mo(o,r[u][h])}),e?ro(e,i,s):Ji};function bo(t,e){const n={...t};for(const i in e){const r=e[i],s=typeof r;i in ws?(r===null||r&&(s==="string"||s==="number"))&&(n[i]=r):s===typeof n[i]&&(n[i]=i==="rotate"?r%4:r)}return n}const vo=/[\s,]+/;function yo(t,e){e.split(vo).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function ko(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function i(r){for(;r<0;)r+=4;return r%4}if(n===""){const r=parseInt(t);return isNaN(r)?0:i(r)}else if(n!==t){let r=0;switch(n){case"%":r=25;break;case"deg":r=90}if(r){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/r,s%1===0?i(s):0)}}return e}function wo(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in e)n+=" "+i+'="'+e[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function To(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Eo(t){return"data:image/svg+xml,"+To(t)}function Ao(t){return'url("'+Eo(t)+'")'}const Zi={...Ts,inline:!1},So={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Io={display:"inline-block"},Hn={"background-color":"currentColor"},xs={"background-color":"transparent"},Qi={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},$i={"-webkit-mask":Hn,mask:Hn,background:xs};for(const t in $i){const e=$i[t];for(const n in Qi)e[t+"-"+n]=Qi[n]}function No(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function Mo(t,e){const n=bo(Zi,e),i=e.mode||"svg",r=i==="svg"?{...So}:{};t.body.indexOf("xlink:")===-1&&delete r["xmlns:xlink"];let s=typeof e.style=="string"?e.style:"";for(let y in e){const v=e[y];if(v!==void 0)switch(y){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[y]=v===!0||v==="true"||v===1;break;case"flip":typeof v=="string"&&yo(n,v);break;case"color":s=s+(s.length>0&&s.trim().slice(-1)!==";"?";":"")+"color: "+v+"; ";break;case"rotate":typeof v=="string"?n[y]=ko(v):typeof v=="number"&&(n[y]=v);break;case"ariaHidden":case"aria-hidden":v!==!0&&v!=="true"&&delete r["aria-hidden"];break;default:if(y.slice(0,3)==="on:")break;Zi[y]===void 0&&(r[y]=v)}}const l=Va(t,n),a=l.attributes;if(n.inline&&(s="vertical-align: -0.125em; "+s),i==="svg"){Object.assign(r,a),s!==""&&(r.style=s);let y=0,v=e.id;return typeof v=="string"&&(v=v.replace(/-/g,"_")),{svg:!0,attributes:r,body:Ga(l.body,v?()=>v+"ID"+y++:"iconifySvelte")}}const{body:o,width:u,height:h}=t,f=i==="mask"||(i==="bg"?!1:o.indexOf("currentColor")!==-1),c=wo(o,{...a,width:u+"",height:h+""}),p={"--svg":Ao(c)},b=y=>{const v=a[y];v&&(p[y]=No(v))};b("width"),b("height"),Object.assign(p,Io,f?Hn:xs);let m="";for(const y in p)m+=y+": "+p[y]+";";return r.style=m+s,{svg:!1,attributes:r}}ks(!0);Xa("",eo);if(typeof document<"u"&&typeof window<"u"){Ps();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!Ba(i))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const i="IconifyProviders["+n+"] is invalid.";try{const r=e[n];if(typeof r!="object"||!r||r.resources===void 0)continue;Ka(n,r)||console.error(i)}catch{console.error(i)}}}}function Co(t,e,n,i,r){function s(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",s(),{data:{...bn,...t}};let l;if(typeof t!="string"||(l=_n(t,!1,!0))===null)return s(),null;const a=La(l);if(!a)return n&&(!e.loading||e.loading.name!==t)&&(s(),e.name="",e.loading={name:t,abort:_o([l],i)}),null;s(),e.name!==t&&(e.name=t,r&&!e.destroyed&&r(t));const o=["iconify"];return l.prefix!==""&&o.push("iconify--"+l.prefix),l.provider!==""&&o.push("iconify--"+l.provider),{data:a,classes:o}}function Po(t,e){return t?Mo({...bn,...t},e):null}function er(t){let e;function n(s,l){return s[0].svg?Do:xo}let i=n(t),r=i(t);return{c(){r.c(),e=$()},l(s){r.l(s),e=$()},m(s,l){r.m(s,l),A(s,e,l)},p(s,l){i===(i=n(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&_(e)}}}function xo(t){let e,n=[t[0].attributes],i={};for(let r=0;r<n.length;r+=1)i=de(i,n[r]);return{c(){e=N("span"),this.h()},l(r){e=M(r,"SPAN",{}),C(e).forEach(_),this.h()},h(){He(e,i)},m(r,s){A(r,e,s)},p(r,s){He(e,i=Pt(n,[s&1&&r[0].attributes]))},d(r){r&&_(e)}}}function Do(t){let e,n=t[0].body+"",i=[t[0].attributes],r={};for(let s=0;s<i.length;s+=1)r=de(r,i[s]);return{c(){e=Al("svg"),this.h()},l(s){e=Sl(s,"svg",{});var l=C(e);l.forEach(_),this.h()},h(){Ti(e,r)},m(s,l){A(s,e,l),e.innerHTML=n},p(s,l){l&1&&n!==(n=s[0].body+"")&&(e.innerHTML=n),Ti(e,r=Pt(i,[l&1&&s[0].attributes]))},d(s){s&&_(e)}}}function Fo(t){let e,n=t[0]&&er(t);return{c(){n&&n.c(),e=$()},l(i){n&&n.l(i),e=$()},m(i,r){n&&n.m(i,r),A(i,e,r)},p(i,[r]){i[0]?n?n.p(i,r):(n=er(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:R,o:R,d(i){n&&n.d(i),i&&_(e)}}}function Lo(t,e,n){const i={name:"",loading:null,destroyed:!1};let r=!1,s=0,l;const a=u=>{typeof e.onLoad=="function"&&e.onLoad(u),xt()("load",{icon:u})};function o(){n(3,s++,s)}return Ze(()=>{n(2,r=!0)}),El(()=>{n(1,i.destroyed=!0,i),i.loading&&(i.loading.abort(),n(1,i.loading=null,i))}),t.$$set=u=>{n(6,e=de(de({},e),De(u)))},t.$$.update=()=>{{const u=Co(e.icon,i,r,o,a);n(0,l=u?Po(u.data,e):null),l&&u.classes&&n(0,l.attributes.class=(typeof e.class=="string"?e.class+" ":"")+u.classes.join(" "),l)}},e=De(e),[l,i,r,s]}class tr extends ce{constructor(e){super(),he(this,e,Lo,Fo,ue,{})}}var Oo=Object.defineProperty,nr=Object.getOwnPropertySymbols,Bo=Object.prototype.hasOwnProperty,Ro=Object.prototype.propertyIsEnumerable,ir=(t,e,n)=>e in t?Oo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ho=(t,e)=>{for(var n in e||(e={}))Bo.call(e,n)&&ir(t,n,e[n]);if(nr)for(var n of nr(e))Ro.call(e,n)&&ir(t,n,e[n]);return t},Ds=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Q=(t,e,n)=>(Ds(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Te=(t,e,n,i)=>(Ds(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),at=(t,e,n)=>new Promise((i,r)=>{var s=o=>{try{a(n.next(o))}catch(u){r(u)}},l=o=>{try{a(n.throw(o))}catch(u){r(u)}},a=o=>o.done?i(o.value):Promise.resolve(o.value).then(s,l);a((n=n.apply(t,e)).next())});function zo(t,e,n){return at(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const i=yield n.fetch(e);if(i.status!==200){console.warn("Error loading buffer. Invalid status: ",i.status,e);return}try{const r=yield i.arrayBuffer();return yield t.decodeAudioData(r)}catch(r){console.warn("Error loading buffer",r,e)}})}function Vo(t){if(typeof document>"u")return null;const e=document.createElement("audio");for(let n=0;n<t.length;n++){const i=t[n],r=e.canPlayType(`audio/${i}`);if(r==="probably"||r==="maybe")return i;if(i==="m4a"){const s=e.canPlayType("audio/aac");if(s==="probably"||s==="maybe")return i}}return null}var Fs={fetch(t){return fetch(t)}};function Yt(t){const e=t.filter(n=>!!n);return e.reduce((n,i)=>{const r="output"in n?n.output:n,s="input"in i?i.input:i;return r.connect(s),i}),()=>{e.reduce((n,i)=>{const r="output"in n?n.output:n,s="input"in i?i.input:i;return r.disconnect(s),i})}}function qo(t){const n=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(t);if(!n)return;const i=n[1].toUpperCase();if(!i)return;const r=n[2],s=r[0]==="b"?-r.length:r.length,l=n[3]?+n[3]:4,a=(i.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][a]+s+12*(l+1)}function Ls(t){return t===void 0?void 0:typeof t=="number"?t:qo(t)}function zn(t){return t*t/16129}function Uo(t,e){let n=0;for(;e[t+n]===void 0&&n<128;)n>0?n=-n:n=-n+1;return n===127?[t,0]:[t+n,-n*100]}function jo(t){let e=t;const n=new Set;function i(l){return n.add(l),l(e),()=>{n.delete(l)}}function r(l){e=l,n.forEach(a=>a(e))}function s(){return e}return{subscribe:i,set:r,get:s}}function Go(){const t=new Set;function e(i){return t.add(i),()=>{t.delete(i)}}function n(i){t.forEach(r=>r(i))}return{subscribe:e,trigger:n}}function Xo(t){let e=!1;return()=>{e||(e=!0,t.forEach(n=>n==null?void 0:n()))}}var ze,Re,tt,nt,Wt,_t,Ko=class{constructor(t,e){this.context=t,Pe(this,ze,void 0),Pe(this,Re,void 0),Pe(this,tt,void 0),Pe(this,nt,void 0),Pe(this,Wt,void 0),Pe(this,_t,void 0);var n,i;Te(this,_t,Object.freeze(Ho({destination:t.destination,volume:100,volumeToGain:zn},e))),this.input=new GainNode(this.context),Te(this,ze,new GainNode(this.context)),Te(this,nt,Yt([this.input,Q(this,ze),Q(this,_t).destination]));const r=jo((n=e.volume)!=null?n:100);this.setVolume=r.set;const s=(i=e.volumeToGain)!=null?i:zn;Te(this,Wt,r.subscribe(l=>{Q(this,ze).gain.value=s(l)}))}addInsert(t){var e;(e=Q(this,tt))!=null||Te(this,tt,[]),Q(this,tt).push(t),Q(this,nt).call(this),Te(this,nt,Yt([this.input,...Q(this,tt),Q(this,ze),Q(this,_t).destination]))}addEffect(t,e,n){var i;const r=new GainNode(this.context);r.gain.value=n;const s="input"in e?e.input:e,l=Yt([Q(this,ze),r,s]);(i=Q(this,Re))!=null||Te(this,Re,[]),Q(this,Re).push({name:t,mix:r,disconnect:l})}sendEffect(t,e){var n;const i=(n=Q(this,Re))==null?void 0:n.find(r=>r.name===t);i?i.mix.gain.value=e:console.warn("Send bus not found: "+t)}disconnect(){var t;Q(this,nt).call(this),Q(this,Wt).call(this),(t=Q(this,Re))==null||t.forEach(e=>e.disconnect()),Te(this,Re,void 0)}};ze=new WeakMap;Re=new WeakMap;tt=new WeakMap;nt=new WeakMap;Wt=new WeakMap;_t=new WeakMap;function Yo(t){var e,n,i;const r=t.destination.context,s=r.createBufferSource();s.buffer=t.buffer,s.detune.value=(e=t==null?void 0:t.detune)!=null?e:0;const l=t.lpfCutoffHz?new BiquadFilterNode(r,{type:"lowpass",frequency:t.lpfCutoffHz}):void 0,a=r.createGain();a.gain.value=(n=t==null?void 0:t.gain)!=null?n:1;const[o,u]=Wo(r,t.decayTime),h=Xo([Yt([s,l,a,o,t.destination]),(i=t.stop)==null?void 0:i.call(t,d=>{(d===void 0||d.stopId===void 0||d.stopId===t.stopId)&&c(d==null?void 0:d.time)})]);s.onended=()=>{var d;h(),(d=t.onEnded)==null||d.call(t)};const f=t.time||r.currentTime;s.start(f);function c(d){if(d??(d=r.currentTime),d<=f)s.stop(d);else{const p=u(d);s.stop(p)}}return t.duration!==void 0&&c(f+t.duration),c}function Wo(t,e=.2){let n=0;const i=new GainNode(t,{gain:1});function r(s){if(n)return n;i.gain.cancelScheduledValues(s);const l=s||t.currentTime;return n=l+e,i.gain.setValueAtTime(1,l),i.gain.linearRampToValueAtTime(0,n),n}return[i,r]}var we,bt,Jt,vt,Jo=class{constructor(t,e={}){this.context=t,Pe(this,we,void 0),Pe(this,bt,void 0),Pe(this,Jt,void 0),Pe(this,vt,void 0);var n,i,r,s,l,a,o;Te(this,we,{destination:(n=e.destination)!=null?n:t.destination,detune:0,volume:(i=e.volume)!=null?i:100,velocity:(r=e.velocity)!=null?r:100,buffers:(s=e.buffers)!=null?s:{},volumeToGain:(l=e.volumeToGain)!=null?l:zn,noteToSample:(a=e.noteToSample)!=null?a:f=>[f.note.toString(),0]}),this.buffers={},Te(this,bt,Go());const u=(o=e.storage)!=null?o:Fs,h=typeof Q(this,we).buffers=="function"?Q(this,we).buffers:Zo(Q(this,we).buffers,u);Te(this,Jt,h(t,this.buffers)),Te(this,vt,new Ko(t,Q(this,we))),this.output=Q(this,vt)}loaded(){return at(this,null,function*(){return yield Q(this,Jt),this})}start(t){var e,n,i;const r=typeof t=="object"?t:{note:t},[s,l]=Q(this,we).noteToSample(r,this.buffers,Q(this,we)),a=this.buffers[s];if(!a)return console.warn(`Sample not found: '${s}'`),()=>{};const o=r.onEnded;return Yo({buffer:a,destination:Q(this,vt).input,time:r.time,duration:r.duration,decayTime:r.decayTime,lpfCutoffHz:r.lpfCutoffHz,detune:l+((e=r.detune)!=null?e:Q(this,we).detune),gain:Q(this,we).volumeToGain((n=r.velocity)!=null?n:Q(this,we).velocity),stop:Q(this,bt).subscribe,stopId:(i=r.stopId)!=null?i:r.note,onEnded:o?()=>o(t):void 0})}stop(t){const e=typeof t=="object"?t:{stopId:t};Q(this,bt).trigger(e)}};we=new WeakMap;bt=new WeakMap;Jt=new WeakMap;vt=new WeakMap;function Zo(t,e){return(n,i)=>at(this,null,function*(){yield Promise.all([Object.keys(t).map(r=>at(this,null,function*(){const s=t[r];if(s instanceof AudioBuffer)i[r]=s;else if(typeof s=="string"){const l=yield zo(n,s,e);l&&(i[r]=l)}}))])})}var Qo=class extends Jo{constructor(t,e){var n,i,r,s;const l=e.instrument.startsWith("http")?e.instrument:iu(e.instrument,(n=e.kit)!=null?n:"MusyngKite");super(t,{destination:e.destination,detune:e.detune,volume:e.volume,velocity:e.velocity,decayTime:(i=e.decayTime)!=null?i:.5,lpfCutoffHz:e.lpfCutoffHz,buffers:$o(l,(r=e.storage)!=null?r:Fs),noteToSample:(u,h,f)=>{let c=Ls(u.note);return c===void 0?["",0]:Uo(c,h)}});const a=(s=e.extraGain)!=null?s:5,o=new GainNode(t,{gain:a});this.output.addInsert(o)}};function $o(t,e){return(n,i)=>at(this,null,function*(){const r=yield(yield e.fetch(t)).text(),s=eu(r),l=Object.keys(s);yield Promise.all(l.map(a=>at(this,null,function*(){const o=Ls(a);if(!o)return;const u=nu(tu(s[a])),h=yield n.decodeAudioData(u);i[o]=h})))})}function eu(t){const e=t.indexOf("MIDI.Soundfont.");if(e<0)throw Error("Invalid MIDI.js Soundfont format");const n=t.indexOf("=",e)+2,i=t.lastIndexOf(",");return JSON.parse(t.slice(n,i)+"}")}function tu(t){return t.slice(t.indexOf(",")+1)}function nu(t){const e=window.atob(t),n=e.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=e.charCodeAt(r);return i.buffer}function iu(t,e){var n;const i=(n=Vo(["ogg","mp3"]))!=null?n:"mp3";return`https://gleitz.github.io/midi-js-soundfonts/${e}/${t}-${i}.js`}function ru(t,e,n){let i={};for(let o=1;o<t.length;o++)for(let u of t[o])if(u.name==="Note on"){let h=Math.round(u.tick/n/120*60*1e3);i[h]||(i[h]={tick:u.tick,milliseconds:h,trackIndex:o})}let r=[],s=Object.keys(e);for(let o of s)i[parseInt(o)]||r.push(parseInt(o));let l={},a;s=Object.keys(i);for(let o of r){for(let u=0;u<s.length;u++)parseInt(s[u])<o&&(a=i[s[u]],a.missingEvent=o,a.timerDelta=o-a.milliseconds,a.onNotes=e[o].on,a.offNotes=e[o].off);l[a.milliseconds]=a}return l}function Ht(t){let e=Math.floor(t/60),n=Math.floor(t-e*60);return e=e.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),`${e}:${n}`}function rr(t,e,n){const i=t.slice();return i[21]=e[n],i[22]=e,i[23]=n,i}function su(t){let e=Ht(t[1])+"",n,i,r,s,l,a,o=Ht(t[0])+"",u,h,f,c;function d(g){t[10](g)}function p(g){t[11](g)}let b={step:.5};t[1]!==void 0&&(b.value=t[1]),t[0]!==void 0&&(b.max=t[0]),r=new Bl({props:b}),pe.push(()=>be(r,"value",d)),pe.push(()=>be(r,"max",p)),r.$on("click",function(){mn(t[6](t[1]))&&t[6](t[1]).apply(this,arguments)});let m=t[3],y=[];for(let g=0;g<m.length;g+=1)y[g]=sr(rr(t,m,g));const v=g=>F(y[g],1,1,()=>{y[g]=null});return{c(){n=j(e),i=z(),Y(r.$$.fragment),a=z(),u=j(o),h=z();for(let g=0;g<y.length;g+=1)y[g].c();f=$()},l(g){n=G(g,e),i=V(g),W(r.$$.fragment,g),a=V(g),u=G(g,o),h=V(g);for(let T=0;T<y.length;T+=1)y[T].l(g);f=$()},m(g,T){A(g,n,T),A(g,i,T),J(r,g,T),A(g,a,T),A(g,u,T),A(g,h,T);for(let E=0;E<y.length;E+=1)y[E]&&y[E].m(g,T);A(g,f,T),c=!0},p(g,T){t=g,(!c||T&2)&&e!==(e=Ht(t[1])+"")&&oe(n,e);const E={};if(!s&&T&2&&(s=!0,E.value=t[1],ve(()=>s=!1)),!l&&T&1&&(l=!0,E.max=t[0],ve(()=>l=!1)),r.$set(E),(!c||T&1)&&o!==(o=Ht(t[0])+"")&&oe(u,o),T&136){m=t[3];let k;for(k=0;k<m.length;k+=1){const I=rr(t,m,k);y[k]?(y[k].p(I,T),P(y[k],1)):(y[k]=sr(I),y[k].c(),P(y[k],1),y[k].m(f.parentNode,f))}for(se(),k=m.length;k<y.length;k+=1)v(k);le()}},i(g){if(!c){P(r.$$.fragment,g);for(let T=0;T<m.length;T+=1)P(y[T]);c=!0}},o(g){F(r.$$.fragment,g),y=y.filter(Boolean);for(let T=0;T<y.length;T+=1)F(y[T]);c=!1},d(g){g&&_(n),g&&_(i),Z(r,g),g&&_(a),g&&_(u),g&&_(h),Ae(y,g),g&&_(f)}}}function lu(t){let e,n;return e=new ds({}),{c(){Y(e.$$.fragment)},l(i){W(e.$$.fragment,i)},m(i,r){J(e,i,r),n=!0},p:R,i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function sr(t){let e,n,i,r=t[21].name+"",s,l,a,o;function u(f){t[12](f,t[21])}let h={name:t[21].instrumentTrack+"-"+t[21].name};return t[21].playing!==void 0&&(h.checked=t[21].playing),l=new gs({props:h}),pe.push(()=>be(l,"checked",u)),l.$on("change",t[7]),{c(){e=N("br"),n=z(),i=N("span"),s=j(r),Y(l.$$.fragment)},l(f){e=M(f,"BR",{}),n=V(f),i=M(f,"SPAN",{});var c=C(i);s=G(c,r),c.forEach(_),W(l.$$.fragment,f)},m(f,c){A(f,e,c),A(f,n,c),A(f,i,c),S(i,s),J(l,f,c),o=!0},p(f,c){t=f,(!o||c&8)&&r!==(r=t[21].name+"")&&oe(s,r);const d={};c&8&&(d.name=t[21].instrumentTrack+"-"+t[21].name),!a&&c&8&&(a=!0,d.checked=t[21].playing,ve(()=>a=!1)),l.$set(d)},i(f){o||(P(l.$$.fragment,f),o=!0)},o(f){F(l.$$.fragment,f),o=!1},d(f){f&&_(e),f&&_(n),f&&_(i),Z(l,f)}}}function au(t){let e,n,i,r,s,l,a,o,u,h,f,c;n=new tr({props:{icon:"material-symbols:play-pause"}}),s=new tr({props:{icon:"material-symbols:stop"}});const d=[lu,su],p=[];function b(m,y){return m[2]?1:0}return o=b(t),u=p[o]=d[o](t),{c(){e=N("button"),Y(n.$$.fragment),i=z(),r=N("button"),Y(s.$$.fragment),l=z(),a=N("span"),u.c(),this.h()},l(m){e=M(m,"BUTTON",{id:!0});var y=C(e);W(n.$$.fragment,y),y.forEach(_),i=V(m),r=M(m,"BUTTON",{id:!0});var v=C(r);W(s.$$.fragment,v),v.forEach(_),l=V(m),a=M(m,"SPAN",{});var g=C(a);u.l(g),g.forEach(_),this.h()},h(){w(e,"id","playMIDI"),w(r,"id","stopMIDI")},m(m,y){A(m,e,y),J(n,e,null),A(m,i,y),A(m,r,y),J(s,r,null),A(m,l,y),A(m,a,y),p[o].m(a,null),h=!0,f||(c=[X(e,"click",t[4]),X(r,"click",t[5])],f=!0)},p(m,[y]){let v=o;o=b(m),o===v?p[o].p(m,y):(se(),F(p[v],1,1,()=>{p[v]=null}),le(),u=p[o],u?u.p(m,y):(u=p[o]=d[o](m),u.c()),P(u,1),u.m(a,null))},i(m){h||(P(n.$$.fragment,m),P(s.$$.fragment,m),P(u),h=!0)},o(m){F(n.$$.fragment,m),F(s.$$.fragment,m),F(u),h=!1},d(m){m&&_(e),Z(n),m&&_(i),m&&_(r),Z(s),m&&_(l),m&&_(a),p[o].d(),f=!1,Me(c)}}}function ou(t,e,n){let{midiFile:i=void 0}=e,{timeMap:r=void 0}=e;const s=xt();let l,a,o=[],u=0,h=0,f=!1,c=[],d,p=[];const b=function(){l.isPlaying()?(l.pause(),y()):l.play()},m=function(){y(),a.suspend(),l.stop(),n(1,h=0),s("playStopped");for(let D of p)clearTimeout(D)},y=function(){for(let D=0;D<o.length;D++)o[D].stop()},v=function(D){a.resume();for(const L in c)c[L].playing||l.tracks[parseInt(L)+1].disable();let x=Math.round(D.tick/l.division/120*60*1e3);if(d[x]){let L=setTimeout(function(){s("noteOn",d[x].onNotes),s("noteOff",d[x].offNotes)},d[x].timerDelta);p.push(L)}try{D.name==="Note on"&&(s("noteOn",r[x].on),s("noteOff",r[x].off))}catch(L){console.log(L),console.log(x),console.log(r)}D.name=="Note on"&&D.velocity>0?o[D.track-2].start({note:D.noteName,velocity:D.velocity}):D.name=="Note on"&&D.velocity==0&&o[D.track-2].stop()},g=async function(){if(l.isPlaying()){y(),s("skipPlay");for(let D of p)clearTimeout(D);await l.stop(),await l.skipToSeconds(h),b()}else l.skipToSeconds(h)},T=function(){const D=this.name.split("-");c[parseInt(D[0])].playing?l.tracks[parseInt(D[0])+1].enable():(o[parseInt(D[0])].stop(),l.tracks[parseInt(D[0])+1].disable())};Ze(async()=>{l=new Na.Player(L=>v(L)),l.on("endOfFile",function(){s("playStopped")}),l.loadDataUri(i),n(0,u=l.getSongTime());try{a=new AudioContext}catch(L){console.log(L),a=""}let D=l.getEvents();const x={Superius:"violin",Contratenor:"viola",PrimusTenor:"cello",SecundusTenor:"flute",Bassus:"contrabass",default:"acoustic_grand_piano"};for(let L=1;L<D.length;L++){let B="default";D[L][0].name==="Sequence/Track Name"&&Object.keys(x).includes(D[L][0].string)&&(B=D[L][0].string);let te=await new Qo(a,{instrument:x[B]}).loaded();o.push(te),c.push({name:B,instrumentTrack:L-1,chosenInstrument:x[B],playing:!0})}setInterval(function(){l.isPlaying()&&n(1,h=u-l.getSongTimeRemaining())},1e3),d=ru(D,r,l.division),n(2,f=!0)});function E(D){h=D,n(1,h)}function k(D){u=D,n(0,u)}function I(D,x){t.$$.not_equal(x.playing,D)&&(x.playing=D,n(3,c))}return t.$$set=D=>{"midiFile"in D&&n(8,i=D.midiFile),"timeMap"in D&&n(9,r=D.timeMap)},[u,h,f,c,b,m,g,T,i,r,E,k,I]}class uu extends ce{constructor(e){super(),he(this,e,ou,au,ue,{midiFile:8,timeMap:9})}}function lr(t){let e,n,i,r;return{c(){e=N("button"),n=j("<"),this.h()},l(s){e=M(s,"BUTTON",{type:!0,class:!0,"data-testid":!0});var l=C(e);n=G(l,"<"),l.forEach(_),this.h()},h(){w(e,"type","button"),w(e,"class","btn variant-filled"),w(e,"data-testid","btn-prev")},m(s,l){A(s,e,l),S(e,n),i||(r=X(e,"click",t[3]),i=!0)},p:R,d(s){s&&_(e),i=!1,r()}}}function fu(t){let e=t[0][t[4]]+"",n,i;return{c(){n=j(e),i=j(";")},l(r){n=G(r,e),i=G(r,";")},m(r,s){A(r,n,s),A(r,i,s)},p(r,s){s&17&&e!==(e=r[0][r[4]]+"")&&oe(n,e)},d(r){r&&_(n),r&&_(i)}}}function cu(t){let e,n=t[0][t[4]]+"",i;return{c(){e=new cs(!1),i=$(),this.h()},l(r){e=hs(r,!1),i=$(),this.h()},h(){e.a=i},m(r,s){e.m(n,r,s),A(r,i,s)},p(r,s){s&17&&n!==(n=r[0][r[4]]+"")&&e.p(n)},d(r){r&&_(i),r&&e.d()}}}function ar(t){let e,n,i,r;return{c(){e=N("button"),n=j(">"),this.h()},l(s){e=M(s,"BUTTON",{type:!0,class:!0,"data-testid":!0});var l=C(e);n=G(l,">"),l.forEach(_),this.h()},h(){w(e,"type","button"),w(e,"class","btn variant-filled"),w(e,"data-testid","btn-nxt")},m(s,l){A(s,e,l),S(e,n),i||(r=X(e,"click",t[2]),i=!0)},p:R,d(s){s&&_(e),i=!1,r()}}}function hu(t){let e,n,i,r,s,l,a=t[4]>0&&lr(t);function o(c,d){return c[1]?cu:fu}let u=o(t),h=u(t),f=t[4]<t[0].length-1&&ar(t);return{c(){e=N("div"),n=N("div"),a&&a.c(),i=z(),r=N("div"),h.c(),s=z(),l=N("div"),f&&f.c(),this.h()},l(c){e=M(c,"DIV",{id:!0,"data-testid":!0,class:!0});var d=C(e);n=M(d,"DIV",{class:!0});var p=C(n);a&&a.l(p),p.forEach(_),i=V(d),r=M(d,"DIV",{id:!0});var b=C(r);h.l(b),b.forEach(_),s=V(d),l=M(d,"DIV",{class:!0});var m=C(l);f&&f.l(m),m.forEach(_),d.forEach(_),this.h()},h(){w(n,"class","left svelte-1mkf375"),w(r,"id","content"),w(l,"class","right svelte-1mkf375"),w(e,"id","page"),w(e,"data-testid","paginator"),w(e,"class","svelte-1mkf375")},m(c,d){A(c,e,d),S(e,n),a&&a.m(n,null),S(e,i),S(e,r),h.m(r,null),S(e,s),S(e,l),f&&f.m(l,null)},p(c,[d]){c[4]>0?a?a.p(c,d):(a=lr(c),a.c(),a.m(n,null)):a&&(a.d(1),a=null),u===(u=o(c))&&h?h.p(c,d):(h.d(1),h=u(c),h&&(h.c(),h.m(r,null))),c[4]<c[0].length-1?f?f.p(c,d):(f=ar(c),f.c(),f.m(l,null)):f&&(f.d(1),f=null)},i:R,o:R,d(c){c&&_(e),a&&a.d(),h.d(),f&&f.d()}}}function du(t,e,n){let{data:i=void 0}=e,{raw:r=void 0}=e,s=0;function l(){n(4,s++,s)}function a(){n(4,s--,s)}function o(u){n(4,s=u)}return t.$$set=u=>{"data"in u&&n(0,i=u.data),"raw"in u&&n(1,r=u.raw)},[i,r,l,a,s,o]}class pu extends ce{constructor(e){super(),he(this,e,du,hu,ue,{data:0,raw:1,nextPage:2,prevPage:3,goToPage:5})}get nextPage(){return this.$$.ctx[2]}get prevPage(){return this.$$.ctx[3]}get goToPage(){return this.$$.ctx[5]}}function gu(t){let e,n;return e=new uu({props:{midiFile:t[1],timeMap:t[2]}}),e.$on("noteOn",t[4]),e.$on("noteOff",t[5]),e.$on("playStopped",t[6]),e.$on("skipPlay",t[6]),{c(){Y(e.$$.fragment)},l(i){W(e.$$.fragment,i)},m(i,r){J(e,i,r),n=!0},p(i,r){const s={};r&2&&(s.midiFile=i[1]),r&4&&(s.timeMap=i[2]),e.$set(s)},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function mu(t){let e,n;return{c(){e=N("p"),n=j("Playback is not available"),this.h()},l(i){e=M(i,"P",{class:!0});var r=C(e);n=G(r,"Playback is not available"),r.forEach(_),this.h()},h(){w(e,"class","error")},m(i,r){A(i,e,r),S(e,n)},p:R,i:R,o:R,d(i){i&&_(e)}}}function _u(t){let e,n;return{c(){e=N("p"),n=j("Could not engrave the MEI file."),this.h()},l(i){e=M(i,"P",{class:!0});var r=C(e);n=G(r,"Could not engrave the MEI file."),r.forEach(_),this.h()},h(){w(e,"class","error")},m(i,r){A(i,e,r),S(e,n)},p:R,i:R,o:R,d(i){i&&_(e)}}}function bu(t){let e,n=t[0][0]+"",i;return{c(){e=new cs(!1),i=$(),this.h()},l(r){e=hs(r,!1),i=$(),this.h()},h(){e.a=i},m(r,s){e.m(n,r,s),A(r,i,s)},p(r,s){s&1&&n!==(n=r[0][0]+"")&&e.p(n)},i:R,o:R,d(r){r&&_(i),r&&e.d()}}}function vu(t){let e,n,i;function r(l){t[7](l)}let s={data:t[0],raw:"true"};return t[3]!==void 0&&(s.goToPage=t[3]),e=new pu({props:s}),pe.push(()=>be(e,"goToPage",r)),{c(){Y(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,a){J(e,l,a),i=!0},p(l,a){const o={};a&1&&(o.data=l[0]),!n&&a&8&&(n=!0,o.goToPage=l[3],ve(()=>n=!1)),e.$set(o)},i(l){i||(P(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){Z(e,l)}}}function yu(t){let e,n,i,r,s,l,a;const o=[mu,gu],u=[];function h(p,b){return!p[1]||!p[2]?0:1}e=h(t),n=u[e]=o[e](t);const f=[vu,bu,_u],c=[];function d(p,b){return p[0].length>1?0:p[0].length===1?1:p[0].length===0||!p[0]?2:-1}return~(s=d(t))&&(l=c[s]=f[s](t)),{c(){n.c(),i=z(),r=N("div"),l&&l.c(),this.h()},l(p){n.l(p),i=V(p),r=M(p,"DIV",{id:!0,"data-testid":!0});var b=C(r);l&&l.l(b),b.forEach(_),this.h()},h(){w(r,"id","MEI-container"),w(r,"data-testid","MEI-container")},m(p,b){u[e].m(p,b),A(p,i,b),A(p,r,b),~s&&c[s].m(r,null),a=!0},p(p,[b]){let m=e;e=h(p),e===m?u[e].p(p,b):(se(),F(u[m],1,1,()=>{u[m]=null}),le(),n=u[e],n?n.p(p,b):(n=u[e]=o[e](p),n.c()),P(n,1),n.m(i.parentNode,i));let y=s;s=d(p),s===y?~s&&c[s].p(p,b):(l&&(se(),F(c[y],1,1,()=>{c[y]=null}),le()),~s?(l=c[s],l?l.p(p,b):(l=c[s]=f[s](p),l.c()),P(l,1),l.m(r,null)):l=null)},i(p){a||(P(n),P(l),a=!0)},o(p){F(n),F(l),a=!1},d(p){u[e].d(p),p&&_(i),p&&_(r),~s&&c[s].d()}}}function ku(t,e,n){let{meiSvg:i=void 0}=e,{meiMidi:r=void 0}=e,{timeMap:s=void 0}=e,l;const a=function(f){for(let c in f.detail){let d=document.getElementById(f.detail[c]);if(!d)for(let p in i)i[p].includes(`id="${f.detail[c]}"`)&&l(p);d&&d.classList.add("note-playing")}},o=function(f){for(let c in f.detail){let d=document.getElementById(f.detail[c]);d&&d.classList.remove("note-playing")}},u=function(f){const c=document.getElementsByClassName("note-playing");let d=[];for(let p of c)d.push(p.id);for(let p of d)document.getElementById(p).classList.remove("note-playing")};function h(f){l=f,n(3,l)}return t.$$set=f=>{"meiSvg"in f&&n(0,i=f.meiSvg),"meiMidi"in f&&n(1,r=f.meiMidi),"timeMap"in f&&n(2,s=f.timeMap)},[i,r,s,l,a,o,u,h]}class wu extends ce{constructor(e){super(),he(this,e,ku,yu,ue,{meiSvg:0,meiMidi:1,timeMap:2})}}const or=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ur=["January","February","March","April","May","June","July","August","September","October","November","December"];function ot(t){return t[0].toUpperCase()+t.slice(1)}function zt(t){return t=t.filter(e=>e),[...new Set(t)]}function It(t){return t.includes(" ")&&(t=t.replace(/ /g,"-")),t}function Vn(t){return t.split(" ")}function fe(t){let e=["(",")"];t=t.toLowerCase(),t=It(t);for(let n of e)t.includes(n)&&(t=t.replace(n,""));return t}function Tu(t){let e=t.length,n;for(;e!=0;)n=Math.floor(Math.random()*e),e--,[t[e],t[n]]=[t[n],t[e]];return t}function Eu(t,e,n){let i={},r=[],s=[];for(let l of t)e.includes(l)&&r.push(l),n.includes(l)&&s.push(l);return r.length>0&&(i.authors=r),s.length>0&&(i.tags=s),i}function Au(t,e,n){e=e.toLowerCase();let i=[],r=[];for(let s of t)s.content.toLowerCase().includes(e)&&i.push(s),Vn(s.content.toLowerCase()).some(l=>n.includes(l))&&r.push(s);return i.length>0?i:r}class Su extends Array{constructor(){super()}[Symbol.iterator](){let e=-1,n=this;return{next:()=>({value:n[++e],done:!(e in n)})}}addFilter(e,n){let i={name:e,type:n,available:!0,active:!1};this.push(i)}resetFilters(){for(let e=0;e<this.length;e++)this[e].active=!1,this[e].available=!0}resetFiltersActiveStatus(){for(let e=0;e<this.length;e++)this[e].active=!1}resetFiltersAvailableStatus(){for(let e=0;e<this.length;e++)this[e].available=!0}getFilterNameList(){let e=[];for(let n of this)e.push(n.name);return e}getFilterTypeList(){let e=[];for(let n of this)e.push(n.type);return[...new Set(e)]}getFiltersByType(e,n=!1){return n?this.filter(r=>r.type===e).sort((r,s)=>r.name>s.name?1:-1):this.filter(i=>i.type===e)}getFiltersByName(e){let n;for(let i of this)i.name===e&&(n=i);if(n===void 0)throw new Error("Filter does not exist");return n}getFilterIndexByName(e){let n;for(let i in this)this[i].name===e&&(n=Number(i));if(n===void 0)throw new Error("Filter does not exist");return n}changeFilterAvailability(e,n){return this[this.getFilterIndexByName(e)].available=n,this}toggleFilterActive(e){const n=this.getFilterIndexByName(e.name);return this[n].active=!this[n].active,this}resetFilterActiveByType(e){if(this.getFilterTypeList().includes(e)){for(let n=0;n<this.length;n++)this[n].type===e&&(this[n].active=!1);return this}else throw new Error("Filter type does not exist")}allInactive(){return!(this.filter(n=>n.active===!0).length>0)}anyActive(){return this.filter(n=>n.active===!0).length>0}getActiveFiltersByType(e){if(this.getFilterTypeList().includes(e)){let n=this.filter(i=>i.active===!0&&i.type===e);return Array.from(n.map(i=>i.name))}else throw new Error("Filter type does not exist")}getAvailableFiltersByType(e){if(this.getFilterTypeList().includes(e)){let n=this.filter(i=>i.available===!0&&i.type===e);return Array.from(n.map(i=>i.name))}else throw new Error("Filter type does not exist")}setActiveFiltersFromList(e,n=!0){for(let i=0;i<this.length;i++)e.includes(this[i].name)&&(this[i].active=n);return this}updateFilterAvailableStatus(e,n){let i,r=this.getActiveFiltersByType("authors"),s=this.getActiveFiltersByType("tags");this.resetFiltersAvailableStatus(),r.length>0&&s.length>0?i="both":r.length>0&&s.length===0?i="authors":r.length===0&&s.length>0&&(i="tags");for(let l=0;l<this.length;l++)this[l].type==="tags"&&(n.includes(this[l].name)?this[l].available=!0:this[l].available=!1),this[l].type==="authors"&&i==="tags"&&(e.includes(this[l].name)?this[l].available=!0:this[l].available=!1);return this}}function fr(t,e,n){const i=t.slice();return i[7]=e[n],i}function Iu(t){let e,n;return{c(){e=N("p"),n=j("Something went wrong...")},l(i){e=M(i,"P",{});var r=C(e);n=G(r,"Something went wrong..."),r.forEach(_)},m(i,r){A(i,e,r),S(e,n)},p:R,d(i){i&&_(e)}}}function Nu(t){let e,n,i,r,s,l,a,o,u,h=t[0],f=[];for(let c=0;c<h.length;c+=1)f[c]=cr(fr(t,h,c));return{c(){e=N("h4"),n=j(t[1]),i=z();for(let c=0;c<f.length;c+=1)f[c].c();r=z(),s=N("button"),l=j("Reset"),this.h()},l(c){e=M(c,"H4",{class:!0});var d=C(e);n=G(d,t[1]),d.forEach(_),i=V(c);for(let b=0;b<f.length;b+=1)f[b].l(c);r=V(c),s=M(c,"BUTTON",{"data-testid":!0,id:!0,class:!0});var p=C(s);l=G(p,"Reset"),p.forEach(_),this.h()},h(){w(e,"class","svelte-1i04fdk"),w(s,"data-testid","tag-reset-button"),w(s,"id",a=t[1]+"-reset"),w(s,"class","chip variant-filled-surface"),s.disabled=!0},m(c,d){A(c,e,d),S(e,n),A(c,i,d);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(c,d);A(c,r,d),A(c,s,d),S(s,l),o||(u=[X(s,"click",t[3]),X(s,"keypress",t[4])],o=!0)},p(c,d){if(d&2&&oe(n,c[1]),d&7){h=c[0];let p;for(p=0;p<h.length;p+=1){const b=fr(c,h,p);f[p]?f[p].p(b,d):(f[p]=cr(b),f[p].c(),f[p].m(r.parentNode,r))}for(;p<f.length;p+=1)f[p].d(1);f.length=h.length}d&2&&a!==(a=c[1]+"-reset")&&w(s,"id",a)},d(c){c&&_(e),c&&_(i),Ae(f,c),c&&_(r),c&&_(s),o=!1,Me(u)}}}function cr(t){let e,n=(t[1]==="authors"?ot(t[7].name):t[7].name)+"",i,r,s,l,a,o;return{c(){e=N("button"),i=j(n),this.h()},l(u){e=M(u,"BUTTON",{"data-testid":!0,id:!0,class:!0});var h=C(e);i=G(h,n),h.forEach(_),this.h()},h(){w(e,"data-testid",r=t[1]+"-chip"),w(e,"id",s=It(t[7].name)+"-filter"),w(e,"class",l="chip "+(t[7].active?"variant-filled":"variant-soft"))},m(u,h){A(u,e,h),S(e,i),a||(o=[X(e,"click",function(){mn(t[2](t[7]))&&t[2](t[7]).apply(this,arguments)}),X(e,"keypress",t[5])],a=!0)},p(u,h){t=u,h&3&&n!==(n=(t[1]==="authors"?ot(t[7].name):t[7].name)+"")&&oe(i,n),h&2&&r!==(r=t[1]+"-chip")&&w(e,"data-testid",r),h&1&&s!==(s=It(t[7].name)+"-filter")&&w(e,"id",s),h&1&&l!==(l="chip "+(t[7].active?"variant-filled":"variant-soft"))&&w(e,"class",l)},d(u){u&&_(e),a=!1,Me(o)}}}function Mu(t){let e;function n(s,l){return s[0]&&s[1]?Nu:Iu}let i=n(t),r=i(t);return{c(){e=N("div"),r.c(),this.h()},l(s){e=M(s,"DIV",{class:!0,"data-testid":!0});var l=C(e);r.l(l),l.forEach(_),this.h()},h(){w(e,"class","tag-selector-container svelte-1i04fdk"),w(e,"data-testid","tag-selector-container")},m(s,l){A(s,e,l),r.m(e,null)},p(s,[l]){i===(i=n(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e,null)))},i:R,o:R,d(s){s&&_(e),r.d()}}}function Cu(t,e,n){const i=xt();let{listTags:r}=e,{filter:s}=e;function l(h){i("filter-changed",{filter:h})}function a(){i("reset-filters",{filter:s})}function o(h){ne.call(this,t,h)}function u(h){ne.call(this,t,h)}return t.$$set=h=>{"listTags"in h&&n(0,r=h.listTags),"filter"in h&&n(1,s=h.filter)},[r,s,l,a,o,u]}class hr extends ce{constructor(e){super(),he(this,e,Cu,Mu,ue,{listTags:0,filter:1})}}function dr(t,e,n){const i=t.slice();return i[11]=e[n],i}function pr(t){let e,n=t[11]+"",i,r,s,l,a;return{c(){e=N("span"),i=j(n),r=j(" "),this.h()},l(o){e=M(o,"SPAN",{class:!0,"data-testid":!0});var u=C(e);i=G(u,n),r=G(u," "),u.forEach(_),this.h()},h(){w(e,"class","chip variant-ringed"),w(e,"data-testid",s="chip-"+t[11])},m(o,u){A(o,e,u),S(e,i),S(e,r),l||(a=[X(e,"click",function(){mn(t[3](t[11]))&&t[3](t[11]).apply(this,arguments)}),X(e,"keypress",t[7])],l=!0)},p(o,u){t=o,u&2&&n!==(n=t[11]+"")&&oe(i,n),u&2&&s!==(s="chip-"+t[11])&&w(e,"data-testid",s)},d(o){o&&_(e),l=!1,Me(a)}}}function gr(t){let e,n,i,r;return{c(){e=N("button"),n=j("clear all"),this.h()},l(s){e=M(s,"BUTTON",{class:!0});var l=C(e);n=G(l,"clear all"),l.forEach(_),this.h()},h(){w(e,"class","btn btn-sm variant-filled-surface")},m(s,l){A(s,e,l),S(e,n),i||(r=[X(e,"click",t[4]),X(e,"keypress",t[6])],i=!0)},p:R,d(s){s&&_(e),i=!1,Me(r)}}}function Pu(t){let e,n,i,r,s,l,a,o,u,h,f,c,d,p,b=Array.from(t[1]),m=[];for(let v=0;v<b.length;v+=1)m[v]=pr(dr(t,b,v));let y=t[1].size!=0&&gr(t);return{c(){e=N("div"),n=N("h4"),i=j("Search"),r=z(),s=N("form"),l=N("input"),a=z(),o=N("button"),u=j("Go"),h=z(),f=N("div");for(let v=0;v<m.length;v+=1)m[v].c();c=z(),y&&y.c(),this.h()},l(v){e=M(v,"DIV",{class:!0,"data-testid":!0});var g=C(e);n=M(g,"H4",{});var T=C(n);i=G(T,"Search"),T.forEach(_),r=V(g),s=M(g,"FORM",{id:!0});var E=C(s);l=M(E,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,id:!0,autocomplete:!0}),a=V(E),o=M(E,"BUTTON",{type:!0,class:!0});var k=C(o);u=G(k,"Go"),k.forEach(_),E.forEach(_),h=V(g),f=M(g,"DIV",{class:!0,id:!0});var I=C(f);for(let D=0;D<m.length;D+=1)m[D].l(I);c=V(I),y&&y.l(I),I.forEach(_),g.forEach(_),this.h()},h(){w(l,"class","input max-w-sm p-2"),w(l,"type","search"),w(l,"name","searchBar"),w(l,"placeholder","Search..."),w(l,"id","search-bar"),w(l,"autocomplete","off"),w(o,"type","submit"),w(o,"class","btn variant-filled"),w(s,"id","submit-form"),w(f,"class","chip-list svelte-18s9x5g"),w(f,"id","chip-list"),w(e,"class","search-group max-w-md"),w(e,"data-testid","search-bar-container")},m(v,g){A(v,e,g),S(e,n),S(n,i),S(e,r),S(e,s),S(s,l),tn(l,t[0]),S(s,a),S(s,o),S(o,u),S(e,h),S(e,f);for(let T=0;T<m.length;T+=1)m[T]&&m[T].m(f,null);S(f,c),y&&y.m(f,null),d||(p=[X(l,"input",t[8]),X(l,"submit",t[2]),X(s,"submit",t[2])],d=!0)},p(v,[g]){if(g&1&&l.value!==v[0]&&tn(l,v[0]),g&10){b=Array.from(v[1]);let T;for(T=0;T<b.length;T+=1){const E=dr(v,b,T);m[T]?m[T].p(E,g):(m[T]=pr(E),m[T].c(),m[T].m(f,c))}for(;T<m.length;T+=1)m[T].d(1);m.length=b.length}v[1].size!=0?y?y.p(v,g):(y=gr(v),y.c(),y.m(f,null)):y&&(y.d(1),y=null)},i:R,o:R,d(v){v&&_(e),Ae(m,v),y&&y.d(),d=!1,Me(p)}}}function xu(t,e,n){const i=xt();let{listChips:r=void 0}=e,s="",l=new Set;function a(p){const b=p.target.firstElementChild.value;let m=Vn(b);m=[...m,...Array.from(l)],m=m.filter(Boolean),b.length===0&&m.length===0?i("reset"):i("search",{searchString:b,searchTerms:m})}function o(p){if(p.substr(p.length-1)==" "){const m=Vn(p);for(let y of m)r.includes(y.toLowerCase())&&(n(1,l=l.add(y.toLowerCase())),p=p.replace(`${y} `,""))}return p}function u(p){l.delete(p),n(1,l)}function h(){n(1,l=new Set);const p=document.getElementById("search-bar");p.value=""}function f(p){ne.call(this,t,p)}function c(p){ne.call(this,t,p)}function d(){s=this.value,n(0,s)}return t.$$set=p=>{"listChips"in p&&n(5,r=p.listChips)},t.$$.update=()=>{t.$$.dirty&1&&n(0,s=o(s))},[s,l,a,u,h,r,f,c,d]}class Du extends ce{constructor(e){super(),he(this,e,xu,Pu,ue,{listChips:5})}}function mr(t,e,n){const i=t.slice();return i[18]=e[n],i}function _r(t,e,n){const i=t.slice();return i[21]=e[n],i}function Fu(t){let e,n,i;return{c(){e=N("div"),n=N("p"),i=j("Loading...")},l(r){e=M(r,"DIV",{});var s=C(e);n=M(s,"P",{});var l=C(n);i=G(l,"Loading..."),l.forEach(_),s.forEach(_)},m(r,s){A(r,e,s),S(e,n),S(n,i)},p:R,i:R,o:R,d(r){r&&_(e)}}}function Lu(t){let e,n,i;return{c(){e=N("div"),n=N("p"),i=j("Error: Something went wrong.")},l(r){e=M(r,"DIV",{});var s=C(e);n=M(s,"P",{});var l=C(n);i=G(l,"Error: Something went wrong."),l.forEach(_),s.forEach(_)},m(r,s){A(r,e,s),S(e,n),S(n,i)},p:R,i:R,o:R,d(r){r&&_(e)}}}function Ou(t){let e=t[6],n,i,r,s,l,a=br(t);const o=[Ru,Bu],u=[];function h(f,c){return f[5].length===0?0:1}return r=h(t),s=u[r]=o[r](t),{c(){a.c(),n=z(),i=N("div"),s.c(),this.h()},l(f){a.l(f),n=V(f),i=M(f,"DIV",{class:!0,"data-testid":!0});var c=C(i);s.l(c),c.forEach(_),this.h()},h(){w(i,"class","card-collection svelte-17ic81b"),w(i,"data-testid","card-collection")},m(f,c){a.m(f,c),A(f,n,c),A(f,i,c),u[r].m(i,null),l=!0},p(f,c){c&64&&ue(e,e=f[6])?(se(),F(a,1,1,R),le(),a=br(f),a.c(),P(a,1),a.m(n.parentNode,n)):a.p(f,c);let d=r;r=h(f),r===d?u[r].p(f,c):(se(),F(u[d],1,1,()=>{u[d]=null}),le(),s=u[r],s?s.p(f,c):(s=u[r]=o[r](f),s.c()),P(s,1),s.m(i,null))},i(f){l||(P(a),P(s),l=!0)},o(f){F(a),F(s),l=!1},d(f){a.d(f),f&&_(n),f&&_(i),u[r].d()}}}function br(t){let e,n,i,r,s,l,a,o,u,h,f,c,d,p;return i=new Du({props:{listChips:[...t[1],...t[0]]}}),i.$on("search",t[11]),i.$on("reset",t[9]),l=new hr({props:{listTags:t[4].getFiltersByType("authors",!0),filter:"authors"}}),l.$on("filter-changed",t[7]),l.$on("reset-filters",t[8]),o=new hr({props:{listTags:t[4].getFiltersByType("tags",!0),filter:"tags"}}),o.$on("filter-changed",t[7]),o.$on("reset-filters",t[8]),{c(){e=N("div"),n=N("div"),Y(i.$$.fragment),r=z(),s=N("div"),Y(l.$$.fragment),a=z(),Y(o.$$.fragment),u=z(),h=N("button"),f=j("Reset all"),this.h()},l(b){e=M(b,"DIV",{class:!0});var m=C(e);n=M(m,"DIV",{class:!0});var y=C(n);W(i.$$.fragment,y),y.forEach(_),r=V(m),s=M(m,"DIV",{class:!0});var v=C(s);W(l.$$.fragment,v),a=V(v),W(o.$$.fragment,v),v.forEach(_),u=V(m),h=M(m,"BUTTON",{id:!0,class:!0});var g=C(h);f=G(g,"Reset all"),g.forEach(_),m.forEach(_),this.h()},h(){w(n,"class","search"),w(s,"class","filters svelte-17ic81b"),w(h,"id","resetAll"),w(h,"class","btn variant-filled"),h.disabled=!0,w(e,"class","corpus-filtering")},m(b,m){A(b,e,m),S(e,n),J(i,n,null),S(e,r),S(e,s),J(l,s,null),S(s,a),J(o,s,null),S(e,u),S(e,h),S(h,f),c=!0,d||(p=X(h,"click",t[12]),d=!0)},p(b,m){const y={};m&3&&(y.listChips=[...b[1],...b[0]]),i.$set(y);const v={};m&16&&(v.listTags=b[4].getFiltersByType("authors",!0)),l.$set(v);const g={};m&16&&(g.listTags=b[4].getFiltersByType("tags",!0)),o.$set(g)},i(b){c||(P(i.$$.fragment,b),P(l.$$.fragment,b),P(o.$$.fragment,b),c=!0)},o(b){F(i.$$.fragment,b),F(l.$$.fragment,b),F(o.$$.fragment,b),c=!1},d(b){b&&_(e),Z(i),Z(l),Z(o),d=!1,p()}}}function Bu(t){let e,n,i=t[5],r=[];for(let l=0;l<i.length;l+=1)r[l]=Tr(mr(t,i,l));const s=l=>F(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$()},l(l){for(let a=0;a<r.length;a+=1)r[a].l(l);e=$()},m(l,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(l,a);A(l,e,a),n=!0},p(l,a){if(a&1056){i=l[5];let o;for(o=0;o<i.length;o+=1){const u=mr(l,i,o);r[o]?(r[o].p(u,a),P(r[o],1)):(r[o]=Tr(u),r[o].c(),P(r[o],1),r[o].m(e.parentNode,e))}for(se(),o=i.length;o<r.length;o+=1)s(o);le()}},i(l){if(!n){for(let a=0;a<i.length;a+=1)P(r[a]);n=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)F(r[a]);n=!1},d(l){Ae(r,l),l&&_(e)}}}function Ru(t){let e,n,i;return{c(){e=N("div"),n=N("p"),i=j("No buzzwords match your criteria"),this.h()},l(r){e=M(r,"DIV",{class:!0});var s=C(e);n=M(s,"P",{});var l=C(n);i=G(l,"No buzzwords match your criteria"),l.forEach(_),s.forEach(_),this.h()},h(){w(e,"class","empty-collection")},m(r,s){A(r,e,s),S(e,n),S(n,i)},p:R,i:R,o:R,d(r){r&&_(e)}}}function vr(t){let e,n=or[t[18].date.getDay()]+"",i,r,s=t[18].date.getDate()+"",l,a,o=ur[t[18].date.getMonth()]+"",u,h,f=t[18].date.getFullYear()+"",c;return{c(){e=N("p"),i=j(n),r=j(", "),l=j(s),a=j(" of "),u=j(o),h=z(),c=j(f),this.h()},l(d){e=M(d,"P",{class:!0,"data-testid":!0});var p=C(e);i=G(p,n),r=G(p,", "),l=G(p,s),a=G(p," of "),u=G(p,o),h=V(p),c=G(p,f),p.forEach(_),this.h()},h(){w(e,"class","date svelte-17ic81b"),w(e,"data-testid","buzzword-date")},m(d,p){A(d,e,p),S(e,i),S(e,r),S(e,l),S(e,a),S(e,u),S(e,h),S(e,c)},p(d,p){p&32&&n!==(n=or[d[18].date.getDay()]+"")&&oe(i,n),p&32&&s!==(s=d[18].date.getDate()+"")&&oe(l,s),p&32&&o!==(o=ur[d[18].date.getMonth()]+"")&&oe(u,o),p&32&&f!==(f=d[18].date.getFullYear()+"")&&oe(c,f)},d(d){d&&_(e)}}}function yr(t){let e,n,i=ot(t[18].author)+"",r;return{c(){e=N("p"),n=j("by "),r=j(i),this.h()},l(s){e=M(s,"P",{class:!0,"data-testid":!0});var l=C(e);n=G(l,"by "),r=G(l,i),l.forEach(_),this.h()},h(){w(e,"class","byline svelte-17ic81b"),w(e,"data-testid","buzzword-byline")},m(s,l){A(s,e,l),S(e,n),S(e,r)},p(s,l){l&32&&i!==(i=ot(s[18].author)+"")&&oe(r,i)},d(s){s&&_(e)}}}function kr(t){let e,n=t[18].tags.sort(),i=[];for(let r=0;r<n.length;r+=1)i[r]=wr(_r(t,n,r));return{c(){e=N("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=M(r,"DIV",{class:!0});var s=C(e);for(let l=0;l<i.length;l+=1)i[l].l(s);s.forEach(_),this.h()},h(){w(e,"class","tags svelte-17ic81b")},m(r,s){A(r,e,s);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(r,s){if(s&1056){n=r[18].tags.sort();let l;for(l=0;l<n.length;l+=1){const a=_r(r,n,l);i[l]?i[l].p(a,s):(i[l]=wr(a),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){r&&_(e),Ae(i,r)}}}function wr(t){let e,n=ot(t[21])+"",i,r,s;return{c(){e=N("span"),i=j(n),this.h()},l(l){e=M(l,"SPAN",{"data-testid":!0,class:!0});var a=C(e);i=G(a,n),a.forEach(_),this.h()},h(){w(e,"data-testid","chip-tag"),w(e,"class","chip variant-ghost svelte-17ic81b")},m(l,a){A(l,e,a),S(e,i),r||(s=[X(e,"click",function(){mn(t[10](t[21]))&&t[10](t[21]).apply(this,arguments)}),X(e,"keypress",t[14])],r=!0)},p(l,a){t=l,a&32&&n!==(n=ot(t[21])+"")&&oe(i,n)},d(l){l&&_(e),r=!1,Me(s)}}}function Tr(t){let e,n,i,r,s,l,a,o,u,h,f,c=t[18].date&&vr(t);s=new ti({props:{content:t[18].content}});let d=t[18].author&&yr(t),p=t[18].tags&&kr(t);return{c(){e=N("div"),n=N("header"),c&&c.c(),i=z(),r=N("section"),Y(s.$$.fragment),l=z(),a=N("footer"),d&&d.c(),o=z(),p&&p.c(),u=z(),this.h()},l(b){e=M(b,"DIV",{class:!0,"data-testid":!0,id:!0});var m=C(e);n=M(m,"HEADER",{class:!0});var y=C(n);c&&c.l(y),y.forEach(_),i=V(m),r=M(m,"SECTION",{class:!0,"data-testid":!0});var v=C(r);W(s.$$.fragment,v),v.forEach(_),l=V(m),a=M(m,"FOOTER",{class:!0});var g=C(a);d&&d.l(g),o=V(g),p&&p.l(g),g.forEach(_),u=V(m),m.forEach(_),this.h()},h(){w(n,"class","card-header"),w(r,"class","p-4"),w(r,"data-testid","buzzword-content"),w(a,"class","card-footer"),w(e,"class","card svelte-17ic81b"),w(e,"data-testid","buzzword-card"),w(e,"id",h=t[18].id)},m(b,m){A(b,e,m),S(e,n),c&&c.m(n,null),S(e,i),S(e,r),J(s,r,null),S(e,l),S(e,a),d&&d.m(a,null),S(a,o),p&&p.m(a,null),S(e,u),f=!0},p(b,m){b[18].date?c?c.p(b,m):(c=vr(b),c.c(),c.m(n,null)):c&&(c.d(1),c=null);const y={};m&32&&(y.content=b[18].content),s.$set(y),b[18].author?d?d.p(b,m):(d=yr(b),d.c(),d.m(a,o)):d&&(d.d(1),d=null),b[18].tags?p?p.p(b,m):(p=kr(b),p.c(),p.m(a,null)):p&&(p.d(1),p=null),(!f||m&32&&h!==(h=b[18].id))&&w(e,"id",h)},i(b){f||(P(s.$$.fragment,b),f=!0)},o(b){F(s.$$.fragment,b),f=!1},d(b){b&&_(e),c&&c.d(),Z(s),d&&d.d(),p&&p.d()}}}function Hu(t){let e,n,i,r;const s=[Ou,Lu,Fu],l=[];function a(o,u){return o[2]?0:o[3]?1:2}return e=a(t),n=l[e]=s[e](t),{c(){n.c(),i=$()},l(o){n.l(o),i=$()},m(o,u){l[e].m(o,u),A(o,i,u),r=!0},p(o,[u]){let h=e;e=a(o),e===h?l[e].p(o,u):(se(),F(l[h],1,1,()=>{l[h]=null}),le(),n=l[e],n?n.p(o,u):(n=l[e]=s[e](o),n.c()),P(n,1),n.m(i.parentNode,i))},i(o){r||(P(n),r=!0)},o(o){F(n),r=!1},d(o){l[e].d(o),o&&_(i)}}}function Er(t,e,n){let i=t.filter(function(l){if(l.author){if(e.length>0&&e.includes(l.author))return l.author;if(e.length===0)return l.author}}),r=[];for(let l of t)l.tags&&n.every(a=>l.tags.includes(a))&&r.push(l);let s=[];return i.length<t.length&&r.length<t.length?s=i.filter(l=>r.includes(l)):i.length<t.length?s=i:r.length<t.length?s=r:i.length===t.length&&r.length===t.length&&(s=t),s}function zu(t,e,n){let{buzzwords:i}=e,{listTags:r}=e,{listAuthors:s}=e,l=!1,a=!1,o=new Su,u=[],h={};function f(E){n(4,o=o.toggleFilterActive(E.detail.filter)),n(5,u=y(u))}function c(E){n(4,o=o.resetFilterActiveByType(E.detail.filter)),n(5,u=y(u))}function d(){n(5,u=y(i))}function p(E){const I={detail:{filter:o.getFiltersByName(E)}};f(I)}function b(E){const k=E.detail.searchTerms.map(B=>B.toLowerCase());o.allInactive()&&n(5,u=i);const I=Eu(k,o.getAvailableFiltersByType("authors"),o.getAvailableFiltersByType("tags"));if(Object.keys(I).length>0){let B=[],te=[];Object.keys(I).includes("authors")&&(B=I.authors),Object.keys(I).includes("tags")&&(te=I.tags),n(5,u=Er(u,B,te))}let D=Au(u,E.detail.searchString,k);D.length>0?n(5,u=D):D.length==0&&Object.keys(I).length==0&&n(5,u=[]);let x=zt(u.map(B=>B.author)),L=zt(u.map(B=>[...B.tags]).flat());n(4,o=o.updateFilterAvailableStatus(x,L)),v(u.length)}function m(){g(!1)}function y(E){let k=[],I=[];if(o.allInactive())return o.resetFiltersAvailableStatus(),v(i.length),i;k=o.getActiveFiltersByType("authors"),I=o.getActiveFiltersByType("tags"),E=i;let D=Er(E,k,I),x=zt(D.map(B=>B.author)),L=zt(D.map(B=>[...B.tags]).flat());return n(4,o=o.updateFilterAvailableStatus(x,L)),v(D.length),D}function v(E){for(let k of o)try{const I=document.getElementById(`${It(k.name)}-filter`);k.available?I.disabled=!1:I.disabled=!0}catch(I){console.debug(`Component is still mounting, element with id ${It(k.name)}-filter does not exist yet. ${I}`)}try{const k=document.getElementById("resetAll");o.allInactive()&&i.length===E?k.disabled=!0:k.disabled=!1}catch(k){console.debug(`Component is still mounting, element with id resetAll does not exist yet. ${k}`)}try{const k=document.getElementById("authors-reset"),I=document.getElementById("tags-reset");o.getActiveFiltersByType("authors").length===0?k.disabled=!0:k.disabled=!1,o.getActiveFiltersByType("tags").length===0?I.disabled=!0:I.disabled=!1}catch(k){console.debug(k)}}function g(E=!0){E&&n(13,i=Tu(i)),n(5,u=i),o.resetFilters(),n(6,h={})}Ze(()=>{try{if(s.length==0||r.length==0||i.length==0)throw new Error("No data received");for(let E of r)o.addFilter(E,"tags");for(let E of s)o.addFilter(E,"authors");g(),n(2,l=!0)}catch(E){console.debug(`There has been an error: ${E}`),n(3,a=!0)}});function T(E){ne.call(this,t,E)}return t.$$set=E=>{"buzzwords"in E&&n(13,i=E.buzzwords),"listTags"in E&&n(0,r=E.listTags),"listAuthors"in E&&n(1,s=E.listAuthors)},[r,s,l,a,o,u,h,f,c,d,p,b,m,i,T]}class Vu extends ce{constructor(e){super(),he(this,e,zu,Hu,ue,{buzzwords:13,listTags:0,listAuthors:1})}}function Ar(t,e,n){const i=t.slice();return i[7]=e[n],i}function Sr(t,e,n){const i=t.slice();return i[10]=e[n],i}function Ir(t,e,n){const i=t.slice();return i[10]=e[n],i}function qu(t){let e,n;return{c(){e=N("p"),n=j("Loading...")},l(i){e=M(i,"P",{});var r=C(e);n=G(r,"Loading..."),r.forEach(_)},m(i,r){A(i,e,r),S(e,n)},p:R,d(i){i&&_(e)}}}function Uu(t){let e,n,i,r,s,l,a,o,u,h=t[2],f=[];for(let p=0;p<h.length;p+=1)f[p]=Nr(Ir(t,h,p));let c=t[1],d=[];for(let p=0;p<c.length;p+=1)d[p]=Cr(Ar(t,c,p));return{c(){e=N("div"),n=N("div"),i=N("div"),r=N("div"),s=N("table"),l=N("thead"),a=N("tr");for(let p=0;p<f.length;p+=1)f[p].c();o=z(),u=N("tbody");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){e=M(p,"DIV",{class:!0});var b=C(e);n=M(b,"DIV",{class:!0});var m=C(n);i=M(m,"DIV",{class:!0});var y=C(i);r=M(y,"DIV",{class:!0});var v=C(r);s=M(v,"TABLE",{class:!0});var g=C(s);l=M(g,"THEAD",{});var T=C(l);a=M(T,"TR",{});var E=C(a);for(let I=0;I<f.length;I+=1)f[I].l(E);E.forEach(_),T.forEach(_),o=V(g),u=M(g,"TBODY",{class:!0});var k=C(u);for(let I=0;I<d.length;I+=1)d[I].l(k);k.forEach(_),g.forEach(_),v.forEach(_),y.forEach(_),m.forEach(_),b.forEach(_),this.h()},h(){w(u,"class","divide-y divide-gray-200"),w(s,"class","min-w-fit divide-y divide-gray-300"),w(r,"class","inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"),w(i,"class","-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"),w(n,"class","mt-8 flow-root"),w(e,"class","px-4 sm:px-6 lg:px-8 ")},m(p,b){A(p,e,b),S(e,n),S(n,i),S(i,r),S(r,s),S(s,l),S(l,a);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(a,null);S(s,o),S(s,u);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(u,null)},p(p,b){if(b&4){h=p[2];let m;for(m=0;m<h.length;m+=1){const y=Ir(p,h,m);f[m]?f[m].p(y,b):(f[m]=Nr(y),f[m].c(),f[m].m(a,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=h.length}if(b&6){c=p[1];let m;for(m=0;m<c.length;m+=1){const y=Ar(p,c,m);d[m]?d[m].p(y,b):(d[m]=Cr(y),d[m].c(),d[m].m(u,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=c.length}},d(p){p&&_(e),Ae(f,p),Ae(d,p)}}}function Nr(t){let e,n=t[10]+"",i;return{c(){e=N("th"),i=j(n),this.h()},l(r){e=M(r,"TH",{scope:!0,class:!0});var s=C(e);i=G(s,n),s.forEach(_),this.h()},h(){w(e,"scope","col"),w(e,"class","py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0")},m(r,s){A(r,e,s),S(e,i)},p:R,d(r){r&&_(e)}}}function Mr(t){let e,n=t[7][t[10]]+"",i;return{c(){e=N("td"),i=j(n),this.h()},l(r){e=M(r,"TD",{class:!0});var s=C(e);i=G(s,n),s.forEach(_),this.h()},h(){w(e,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500")},m(r,s){A(r,e,s),S(e,i)},p(r,s){s&2&&n!==(n=r[7][r[10]]+"")&&oe(i,n)},d(r){r&&_(e)}}}function Cr(t){let e,n,i=t[2],r=[];for(let s=0;s<i.length;s+=1)r[s]=Mr(Sr(t,i,s));return{c(){e=N("tr");for(let s=0;s<r.length;s+=1)r[s].c();n=z()},l(s){e=M(s,"TR",{});var l=C(e);for(let a=0;a<r.length;a+=1)r[a].l(l);n=V(l),l.forEach(_)},m(s,l){A(s,e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);S(e,n)},p(s,l){if(l&6){i=s[2];let a;for(a=0;a<i.length;a+=1){const o=Sr(s,i,a);r[a]?r[a].p(o,l):(r[a]=Mr(o),r[a].c(),r[a].m(e,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=i.length}},d(s){s&&_(e),Ae(r,s)}}}function ju(t){let e;function n(s,l){return s[0]?Uu:qu}let i=n(t),r=i(t);return{c(){r.c(),e=$()},l(s){r.l(s),e=$()},m(s,l){r.m(s,l),A(s,e,l)},p(s,[l]){i===(i=n(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(e.parentNode,e)))},i:R,o:R,d(s){r.d(s),s&&_(e)}}}function Gu(t,e,n){let{tableObject:i}=e,{selected:r}=e,s=[],l=[],a=!1,o=[];function u(h){return h==="All"?s:s.filter(f=>f["Treatment group"]===h)}return Ze(async()=>{for(let[h,f]of Object.entries(i.data))s.push(f);for(let[h,f]of Object.entries(i.columns))l.push(f);n(1,o=u(r)),n(0,a=!0)}),t.$$set=h=>{"tableObject"in h&&n(3,i=h.tableObject),"selected"in h&&n(4,r=h.selected)},t.$$.update=()=>{t.$$.dirty&16&&n(1,o=u(r))},[a,o,l,i,r]}class Os extends ce{constructor(e){super(),he(this,e,Gu,ju,ue,{tableObject:3,selected:4})}}function Pr(t,e,n){const i=t.slice();return i[4]=e[n],i}function xr(t){let e,n=t[4]+"",i,r;return{c(){e=N("option"),i=j(n),this.h()},l(s){e=M(s,"OPTION",{});var l=C(e);i=G(l,n),l.forEach(_),this.h()},h(){e.__value=r=t[4],e.value=e.__value},m(s,l){A(s,e,l),S(e,i)},p(s,l){l&2&&n!==(n=s[4]+"")&&oe(i,n),l&2&&r!==(r=s[4])&&(e.__value=r,e.value=e.__value)},d(s){s&&_(e)}}}function Xu(t){let e,n,i,r,s,l,a=t[1],o=[];for(let u=0;u<a.length;u+=1)o[u]=xr(Pr(t,a,u));return{c(){e=N("label"),n=j(t[2]),i=z(),r=N("select");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=M(u,"LABEL",{for:!0});var h=C(e);n=G(h,t[2]),h.forEach(_),i=V(u),r=M(u,"SELECT",{id:!0});var f=C(r);for(let c=0;c<o.length;c+=1)o[c].l(f);f.forEach(_),this.h()},h(){w(e,"for",t[2]),w(r,"id",t[2]),t[0]===void 0&&Il(()=>t[3].call(r))},m(u,h){A(u,e,h),S(e,n),A(u,i,h),A(u,r,h);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,null);Ei(r,t[0],!0),s||(l=X(r,"change",t[3]),s=!0)},p(u,[h]){if(h&4&&oe(n,u[2]),h&4&&w(e,"for",u[2]),h&2){a=u[1];let f;for(f=0;f<a.length;f+=1){const c=Pr(u,a,f);o[f]?o[f].p(c,h):(o[f]=xr(c),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=a.length}h&4&&w(r,"id",u[2]),h&3&&Ei(r,u[0])},i:R,o:R,d(u){u&&_(e),u&&_(i),u&&_(r),Ae(o,u),s=!1,l()}}}function Ku(t,e,n){let{groups:i}=e,{selected:r}=e,{name:s}=e;function l(){r=Nl(this),n(0,r),n(1,i)}return t.$$set=a=>{"groups"in a&&n(1,i=a.groups),"selected"in a&&n(0,r=a.selected),"name"in a&&n(2,s=a.name)},[r,i,s,l]}class fi extends ce{constructor(e){super(),he(this,e,Ku,Xu,ue,{groups:1,selected:0,name:2})}}function Zt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yu(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bs(t){let e,n,i;t.length!==2?(e=Zt,n=(a,o)=>Zt(t(a),o),i=(a,o)=>t(a)-o):(e=t===Zt||t===Yu?t:Wu,n=t,i=t);function r(a,o,u=0,h=a.length){if(u<h){if(e(o,o)!==0)return h;do{const f=u+h>>>1;n(a[f],o)<0?u=f+1:h=f}while(u<h)}return u}function s(a,o,u=0,h=a.length){if(u<h){if(e(o,o)!==0)return h;do{const f=u+h>>>1;n(a[f],o)<=0?u=f+1:h=f}while(u<h)}return u}function l(a,o,u=0,h=a.length){const f=r(a,o,u,h-1);return f>u&&i(a[f-1],o)>-i(a[f],o)?f-1:f}return{left:r,center:l,right:s}}function Wu(){return 0}function Ju(t){return t===null?NaN:+t}const Zu=Bs(Zt),Qu=Zu.right;Bs(Ju).center;const $u=Qu;class qn extends Map{constructor(e,n=nf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(Dr(this,e))}has(e){return super.has(Dr(this,e))}set(e,n){return super.set(ef(this,e),n)}delete(e){return super.delete(tf(this,e))}}function Dr({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function ef({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function tf({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function nf(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fr(t){return t}function rf(t,...e){return sf(t,Fr,Fr,e)}function sf(t,e,n,i){return function r(s,l){if(l>=i.length)return n(s);const a=new qn,o=i[l++];let u=-1;for(const h of s){const f=o(h,++u,s),c=a.get(f);c?c.push(h):a.set(f,[h])}for(const[h,f]of a)a.set(h,r(f,l));return e(a)}(t,0)}const lf=Math.sqrt(50),af=Math.sqrt(10),of=Math.sqrt(2);function sn(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),l=s>=lf?10:s>=af?5:s>=of?2:1;let a,o,u;return r<0?(u=Math.pow(10,-r)/l,a=Math.round(t*u),o=Math.round(e*u),a/u<t&&++a,o/u>e&&--o,u=-u):(u=Math.pow(10,r)*l,a=Math.round(t/u),o=Math.round(e/u),a*u<t&&++a,o*u>e&&--o),o<a&&.5<=n&&n<2?sn(t,e,n*2):[a,o,u]}function uf(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,s,l]=i?sn(e,t,n):sn(t,e,n);if(!(s>=r))return[];const a=s-r+1,o=new Array(a);if(i)if(l<0)for(let u=0;u<a;++u)o[u]=(s-u)/-l;else for(let u=0;u<a;++u)o[u]=(s-u)*l;else if(l<0)for(let u=0;u<a;++u)o[u]=(r+u)/-l;else for(let u=0;u<a;++u)o[u]=(r+u)*l;return o}function Un(t,e,n){return e=+e,t=+t,n=+n,sn(t,e,n)[2]}function ff(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?Un(e,t,n):Un(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function cf(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function hf(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(r);++i<r;)s[i]=t+i*n;return s}function df(t){return t}var Nn=1,Mn=2,jn=3,yt=4,Lr=1e-6;function pf(t){return"translate("+t+",0)"}function gf(t){return"translate(0,"+t+")"}function mf(t){return e=>+t(e)}function _f(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function bf(){return!this.__axis}function Rs(t,e){var n=[],i=null,r=null,s=6,l=6,a=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Nn||t===yt?-1:1,h=t===yt||t===Mn?"x":"y",f=t===Nn||t===jn?pf:gf;function c(d){var p=i??(e.ticks?e.ticks.apply(e,n):e.domain()),b=r??(e.tickFormat?e.tickFormat.apply(e,n):df),m=Math.max(s,0)+a,y=e.range(),v=+y[0]+o,g=+y[y.length-1]+o,T=(e.bandwidth?_f:mf)(e.copy(),o),E=d.selection?d.selection():d,k=E.selectAll(".domain").data([null]),I=E.selectAll(".tick").data(p,e).order(),D=I.exit(),x=I.enter().append("g").attr("class","tick"),L=I.select("line"),B=I.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(x),L=L.merge(x.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),B=B.merge(x.append("text").attr("fill","currentColor").attr(h,u*m).attr("dy",t===Nn?"0em":t===jn?"0.71em":"0.32em")),d!==E&&(k=k.transition(d),I=I.transition(d),L=L.transition(d),B=B.transition(d),D=D.transition(d).attr("opacity",Lr).attr("transform",function(te){return isFinite(te=T(te))?f(te+o):this.getAttribute("transform")}),x.attr("opacity",Lr).attr("transform",function(te){var ie=this.parentNode.__axis;return f((ie&&isFinite(ie=ie(te))?ie:T(te))+o)})),D.remove(),k.attr("d",t===yt||t===Mn?l?"M"+u*l+","+v+"H"+o+"V"+g+"H"+u*l:"M"+o+","+v+"V"+g:l?"M"+v+","+u*l+"V"+o+"H"+g+"V"+u*l:"M"+v+","+o+"H"+g),I.attr("opacity",1).attr("transform",function(te){return f(T(te)+o)}),L.attr(h+"2",u*s),B.attr(h,u*m).text(b),E.filter(bf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Mn?"start":t===yt?"end":"middle"),E.each(function(){this.__axis=T})}return c.scale=function(d){return arguments.length?(e=d,c):e},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),c):n.slice()},c.tickValues=function(d){return arguments.length?(i=d==null?null:Array.from(d),c):i&&i.slice()},c.tickFormat=function(d){return arguments.length?(r=d,c):r},c.tickSize=function(d){return arguments.length?(s=l=+d,c):s},c.tickSizeInner=function(d){return arguments.length?(s=+d,c):s},c.tickSizeOuter=function(d){return arguments.length?(l=+d,c):l},c.tickPadding=function(d){return arguments.length?(a=+d,c):a},c.offset=function(d){return arguments.length?(o=+d,c):o},c}function vf(t){return Rs(jn,t)}function yf(t){return Rs(yt,t)}var kf={value:()=>{}};function Hs(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Qt(n)}function Qt(t){this._=t}function wf(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Qt.prototype=Hs.prototype={constructor:Qt,on:function(t,e){var n=this._,i=wf(t+"",n),r,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((r=(t=i[s]).type)&&(r=Tf(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(r=(t=i[s]).type)n[r]=Or(n[r],t.name,e);else if(e==null)for(r in n)n[r]=Or(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Qt(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,r=s.length;i<r;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};function Tf(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function Or(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=kf,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Gn="http://www.w3.org/1999/xhtml";const Br={svg:"http://www.w3.org/2000/svg",xhtml:Gn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Br.hasOwnProperty(e)?{space:Br[e],local:t}:t}function Ef(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Gn&&e.documentElement.namespaceURI===Gn?e.createElement(t):e.createElementNS(n,t)}}function Af(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zs(t){var e=yn(t);return(e.local?Af:Ef)(e)}function Sf(){}function ci(t){return t==null?Sf:function(){return this.querySelector(t)}}function If(t){typeof t!="function"&&(t=ci(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],l=s.length,a=i[r]=new Array(l),o,u,h=0;h<l;++h)(o=s[h])&&(u=t.call(o,o.__data__,h,s))&&("__data__"in o&&(u.__data__=o.__data__),a[h]=u);return new ye(i,this._parents)}function Nf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Mf(){return[]}function Vs(t){return t==null?Mf:function(){return this.querySelectorAll(t)}}function Cf(t){return function(){return Nf(t.apply(this,arguments))}}function Pf(t){typeof t=="function"?t=Cf(t):t=Vs(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var l=e[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&(i.push(t.call(o,o.__data__,u,l)),r.push(o));return new ye(i,r)}function qs(t){return function(){return this.matches(t)}}function Us(t){return function(e){return e.matches(t)}}var xf=Array.prototype.find;function Df(t){return function(){return xf.call(this.children,t)}}function Ff(){return this.firstElementChild}function Lf(t){return this.select(t==null?Ff:Df(typeof t=="function"?t:Us(t)))}var Of=Array.prototype.filter;function Bf(){return Array.from(this.children)}function Rf(t){return function(){return Of.call(this.children,t)}}function Hf(t){return this.selectAll(t==null?Bf:Rf(typeof t=="function"?t:Us(t)))}function zf(t){typeof t!="function"&&(t=qs(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&a.push(o);return new ye(i,this._parents)}function js(t){return new Array(t.length)}function Vf(){return new ye(this._enter||this._groups.map(js),this._parents)}function ln(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ln.prototype={constructor:ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qf(t){return function(){return t}}function Uf(t,e,n,i,r,s){for(var l=0,a,o=e.length,u=s.length;l<u;++l)(a=e[l])?(a.__data__=s[l],i[l]=a):n[l]=new ln(t,s[l]);for(;l<o;++l)(a=e[l])&&(r[l]=a)}function jf(t,e,n,i,r,s,l){var a,o,u=new Map,h=e.length,f=s.length,c=new Array(h),d;for(a=0;a<h;++a)(o=e[a])&&(c[a]=d=l.call(o,o.__data__,a,e)+"",u.has(d)?r[a]=o:u.set(d,o));for(a=0;a<f;++a)d=l.call(t,s[a],a,s)+"",(o=u.get(d))?(i[a]=o,o.__data__=s[a],u.delete(d)):n[a]=new ln(t,s[a]);for(a=0;a<h;++a)(o=e[a])&&u.get(c[a])===o&&(r[a]=o)}function Gf(t){return t.__data__}function Xf(t,e){if(!arguments.length)return Array.from(this,Gf);var n=e?jf:Uf,i=this._parents,r=this._groups;typeof t!="function"&&(t=qf(t));for(var s=r.length,l=new Array(s),a=new Array(s),o=new Array(s),u=0;u<s;++u){var h=i[u],f=r[u],c=f.length,d=Kf(t.call(h,h&&h.__data__,u,i)),p=d.length,b=a[u]=new Array(p),m=l[u]=new Array(p),y=o[u]=new Array(c);n(h,f,b,m,y,d,e);for(var v=0,g=0,T,E;v<p;++v)if(T=b[v]){for(v>=g&&(g=v+1);!(E=m[g])&&++g<p;);T._next=E||null}}return l=new ye(l,i),l._enter=a,l._exit=o,l}function Kf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yf(){return new ye(this._exit||this._groups.map(js),this._parents)}function Wf(t,e,n){var i=this.enter(),r=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function Jf(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,s=i.length,l=Math.min(r,s),a=new Array(r),o=0;o<l;++o)for(var u=n[o],h=i[o],f=u.length,c=a[o]=new Array(f),d,p=0;p<f;++p)(d=u[p]||h[p])&&(c[p]=d);for(;o<r;++o)a[o]=n[o];return new ye(a,this._parents)}function Zf(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,s=i[r],l;--r>=0;)(l=i[r])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function Qf(t){t||(t=$f);function e(f,c){return f&&c?t(f.__data__,c.__data__):!f-!c}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var l=n[s],a=l.length,o=r[s]=new Array(a),u,h=0;h<a;++h)(u=l[h])&&(o[h]=u);o.sort(e)}return new ye(r,this._parents).order()}function $f(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ec(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function tc(){return Array.from(this)}function nc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var l=i[r];if(l)return l}return null}function ic(){let t=0;for(const e of this)++t;return t}function rc(){return!this.node()}function sc(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],s=0,l=r.length,a;s<l;++s)(a=r[s])&&t.call(a,a.__data__,s,r);return this}function lc(t){return function(){this.removeAttribute(t)}}function ac(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oc(t,e){return function(){this.setAttribute(t,e)}}function uc(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fc(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function cc(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hc(t,e){var n=yn(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?ac:lc:typeof e=="function"?n.local?cc:fc:n.local?uc:oc)(n,e))}function Gs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dc(t){return function(){this.style.removeProperty(t)}}function pc(t,e,n){return function(){this.style.setProperty(t,e,n)}}function gc(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function mc(t,e,n){return arguments.length>1?this.each((e==null?dc:typeof e=="function"?gc:pc)(t,e,n??"")):ut(this.node(),t)}function ut(t,e){return t.style.getPropertyValue(e)||Gs(t).getComputedStyle(t,null).getPropertyValue(e)}function _c(t){return function(){delete this[t]}}function bc(t,e){return function(){this[t]=e}}function vc(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function yc(t,e){return arguments.length>1?this.each((e==null?_c:typeof e=="function"?vc:bc)(t,e)):this.node()[t]}function Xs(t){return t.trim().split(/^|\s+/)}function hi(t){return t.classList||new Ks(t)}function Ks(t){this._node=t,this._names=Xs(t.getAttribute("class")||"")}Ks.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ys(t,e){for(var n=hi(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Ws(t,e){for(var n=hi(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function kc(t){return function(){Ys(this,t)}}function wc(t){return function(){Ws(this,t)}}function Tc(t,e){return function(){(e.apply(this,arguments)?Ys:Ws)(this,t)}}function Ec(t,e){var n=Xs(t+"");if(arguments.length<2){for(var i=hi(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Tc:e?kc:wc)(n,e))}function Ac(){this.textContent=""}function Sc(t){return function(){this.textContent=t}}function Ic(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Nc(t){return arguments.length?this.each(t==null?Ac:(typeof t=="function"?Ic:Sc)(t)):this.node().textContent}function Mc(){this.innerHTML=""}function Cc(t){return function(){this.innerHTML=t}}function Pc(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function xc(t){return arguments.length?this.each(t==null?Mc:(typeof t=="function"?Pc:Cc)(t)):this.node().innerHTML}function Dc(){this.nextSibling&&this.parentNode.appendChild(this)}function Fc(){return this.each(Dc)}function Lc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oc(){return this.each(Lc)}function Bc(t){var e=typeof t=="function"?t:zs(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Rc(){return null}function Hc(t,e){var n=typeof t=="function"?t:zs(t),i=e==null?Rc:typeof e=="function"?e:ci(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function zc(){var t=this.parentNode;t&&t.removeChild(this)}function Vc(){return this.each(zc)}function qc(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Uc(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jc(t){return this.select(t?Uc:qc)}function Gc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Xc(t){return function(e){t.call(this,e,this.__data__)}}function Kc(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Yc(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,s;n<r;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Wc(t,e,n){return function(){var i=this.__on,r,s=Xc(e);if(i){for(var l=0,a=i.length;l<a;++l)if((r=i[l]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=e;return}}this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function Jc(t,e,n){var i=Kc(t+""),r,s=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var o=0,u=a.length,h;o<u;++o)for(r=0,h=a[o];r<s;++r)if((l=i[r]).type===h.type&&l.name===h.name)return h.value}return}for(a=e?Wc:Yc,r=0;r<s;++r)this.each(a(i[r],e,n));return this}function Js(t,e,n){var i=Gs(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Zc(t,e){return function(){return Js(this,t,e)}}function Qc(t,e){return function(){return Js(this,t,e.apply(this,arguments))}}function $c(t,e){return this.each((typeof e=="function"?Qc:Zc)(t,e))}function*eh(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length,l;r<s;++r)(l=i[r])&&(yield l)}var Zs=[null];function ye(t,e){this._groups=t,this._parents=e}function Dt(){return new ye([[document.documentElement]],Zs)}function th(){return this}ye.prototype=Dt.prototype={constructor:ye,select:If,selectAll:Pf,selectChild:Lf,selectChildren:Hf,filter:zf,data:Xf,enter:Vf,exit:Yf,join:Wf,merge:Jf,selection:th,order:Zf,sort:Qf,call:ec,nodes:tc,node:nc,size:ic,empty:rc,each:sc,attr:hc,style:mc,property:yc,classed:Ec,text:Nc,html:xc,raise:Fc,lower:Oc,append:Bc,insert:Hc,remove:Vc,clone:jc,datum:Gc,on:Jc,dispatch:$c,[Symbol.iterator]:eh};function _e(t){return typeof t=="string"?new ye([[document.querySelector(t)]],[document.documentElement]):new ye([[t]],Zs)}function di(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qs(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ft(){}var Nt=.7,an=1/Nt,st="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nh=/^#([0-9a-f]{3,8})$/,ih=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),rh=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),sh=new RegExp(`^rgba\\(${st},${st},${st},${Mt}\\)$`),lh=new RegExp(`^rgba\\(${xe},${xe},${xe},${Mt}\\)$`),ah=new RegExp(`^hsl\\(${Mt},${xe},${xe}\\)$`),oh=new RegExp(`^hsla\\(${Mt},${xe},${xe},${Mt}\\)$`),Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};di(Ft,Ge,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hr,formatHex:Hr,formatHex8:uh,formatHsl:fh,formatRgb:zr,toString:zr});function Hr(){return this.rgb().formatHex()}function uh(){return this.rgb().formatHex8()}function fh(){return $s(this).formatHsl()}function zr(){return this.rgb().formatRgb()}function Ge(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nh.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Vr(e):n===3?new ge(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ih.exec(t))?new ge(e[1],e[2],e[3],1):(e=rh.exec(t))?new ge(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sh.exec(t))?Vt(e[1],e[2],e[3],e[4]):(e=lh.exec(t))?Vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ah.exec(t))?jr(e[1],e[2]/100,e[3]/100,1):(e=oh.exec(t))?jr(e[1],e[2]/100,e[3]/100,e[4]):Rr.hasOwnProperty(t)?Vr(Rr[t]):t==="transparent"?new ge(NaN,NaN,NaN,0):null}function Vr(t){return new ge(t>>16&255,t>>8&255,t&255,1)}function Vt(t,e,n,i){return i<=0&&(t=e=n=NaN),new ge(t,e,n,i)}function ch(t){return t instanceof Ft||(t=Ge(t)),t?(t=t.rgb(),new ge(t.r,t.g,t.b,t.opacity)):new ge}function Xn(t,e,n,i){return arguments.length===1?ch(t):new ge(t,e,n,i??1)}function ge(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}di(ge,Xn,Qs(Ft,{brighter(t){return t=t==null?an:Math.pow(an,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nt:Math.pow(Nt,t),new ge(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ge(Ue(this.r),Ue(this.g),Ue(this.b),on(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qr,formatHex:qr,formatHex8:hh,formatRgb:Ur,toString:Ur}));function qr(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function hh(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ur(){const t=on(this.opacity);return`${t===1?"rgb(":"rgba("}${Ue(this.r)}, ${Ue(this.g)}, ${Ue(this.b)}${t===1?")":`, ${t})`}`}function on(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ue(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qe(t){return t=Ue(t),(t<16?"0":"")+t.toString(16)}function jr(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ne(t,e,n,i)}function $s(t){if(t instanceof Ne)return new Ne(t.h,t.s,t.l,t.opacity);if(t instanceof Ft||(t=Ge(t)),!t)return new Ne;if(t instanceof Ne)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),l=NaN,a=s-r,o=(s+r)/2;return a?(e===s?l=(n-i)/a+(n<i)*6:n===s?l=(i-e)/a+2:l=(e-n)/a+4,a/=o<.5?s+r:2-s-r,l*=60):a=o>0&&o<1?0:l,new Ne(l,a,o,t.opacity)}function dh(t,e,n,i){return arguments.length===1?$s(t):new Ne(t,e,n,i??1)}function Ne(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}di(Ne,dh,Qs(Ft,{brighter(t){return t=t==null?an:Math.pow(an,t),new Ne(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nt:Math.pow(Nt,t),new Ne(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ge(Cn(t>=240?t-240:t+120,r,i),Cn(t,r,i),Cn(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Ne(Gr(this.h),qt(this.s),qt(this.l),on(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=on(this.opacity);return`${t===1?"hsl(":"hsla("}${Gr(this.h)}, ${qt(this.s)*100}%, ${qt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Gr(t){return t=(t||0)%360,t<0?t+360:t}function qt(t){return Math.max(0,Math.min(1,t||0))}function Cn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pi=t=>()=>t;function ph(t,e){return function(n){return t+n*e}}function gh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function mh(t){return(t=+t)==1?el:function(e,n){return n-e?gh(e,n,t):pi(isNaN(e)?n:e)}}function el(t,e){var n=e-t;return n?ph(t,n):pi(isNaN(t)?e:t)}const un=function t(e){var n=mh(e);function i(r,s){var l=n((r=Xn(r)).r,(s=Xn(s)).r),a=n(r.g,s.g),o=n(r.b,s.b),u=el(r.opacity,s.opacity);return function(h){return r.r=l(h),r.g=a(h),r.b=o(h),r.opacity=u(h),r+""}}return i.gamma=t,i}(1);function _h(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=t[r]*(1-s)+e[r]*s;return i}}function bh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vh(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),s=new Array(n),l;for(l=0;l<i;++l)r[l]=gi(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(a){for(l=0;l<i;++l)s[l]=r[l](a);return s}}function yh(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Ie(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kh(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=gi(t[r],e[r]):i[r]=e[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var Kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pn=new RegExp(Kn.source,"g");function wh(t){return function(){return t}}function Th(t){return function(e){return t(e)+""}}function tl(t,e){var n=Kn.lastIndex=Pn.lastIndex=0,i,r,s,l=-1,a=[],o=[];for(t=t+"",e=e+"";(i=Kn.exec(t))&&(r=Pn.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),a[l]?a[l]+=s:a[++l]=s),(i=i[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,o.push({i:l,x:Ie(i,r)})),n=Pn.lastIndex;return n<e.length&&(s=e.slice(n),a[l]?a[l]+=s:a[++l]=s),a.length<2?o[0]?Th(o[0].x):wh(e):(e=o.length,function(u){for(var h=0,f;h<e;++h)a[(f=o[h]).i]=f.x(u);return a.join("")})}function gi(t,e){var n=typeof e,i;return e==null||n==="boolean"?pi(e):(n==="number"?Ie:n==="string"?(i=Ge(e))?(e=i,un):tl:e instanceof Ge?un:e instanceof Date?yh:bh(e)?_h:Array.isArray(e)?vh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kh:Ie)(t,e)}function Eh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Xr=180/Math.PI,Yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nl(t,e,n,i,r,s){var l,a,o;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(o=t*n+e*i)&&(n-=t*o,i-=e*o),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,o/=a),t*i<e*n&&(t=-t,e=-e,o=-o,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*Xr,skewX:Math.atan(o)*Xr,scaleX:l,scaleY:a}}var Ut;function Ah(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yn:nl(e.a,e.b,e.c,e.d,e.e,e.f)}function Sh(t){return t==null||(Ut||(Ut=document.createElementNS("http://www.w3.org/2000/svg","g")),Ut.setAttribute("transform",t),!(t=Ut.transform.baseVal.consolidate()))?Yn:(t=t.matrix,nl(t.a,t.b,t.c,t.d,t.e,t.f))}function il(t,e,n,i){function r(u){return u.length?u.pop()+" ":""}function s(u,h,f,c,d,p){if(u!==f||h!==c){var b=d.push("translate(",null,e,null,n);p.push({i:b-4,x:Ie(u,f)},{i:b-2,x:Ie(h,c)})}else(f||c)&&d.push("translate("+f+e+c+n)}function l(u,h,f,c){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),c.push({i:f.push(r(f)+"rotate(",null,i)-2,x:Ie(u,h)})):h&&f.push(r(f)+"rotate("+h+i)}function a(u,h,f,c){u!==h?c.push({i:f.push(r(f)+"skewX(",null,i)-2,x:Ie(u,h)}):h&&f.push(r(f)+"skewX("+h+i)}function o(u,h,f,c,d,p){if(u!==f||h!==c){var b=d.push(r(d)+"scale(",null,",",null,")");p.push({i:b-4,x:Ie(u,f)},{i:b-2,x:Ie(h,c)})}else(f!==1||c!==1)&&d.push(r(d)+"scale("+f+","+c+")")}return function(u,h){var f=[],c=[];return u=t(u),h=t(h),s(u.translateX,u.translateY,h.translateX,h.translateY,f,c),l(u.rotate,h.rotate,f,c),a(u.skewX,h.skewX,f,c),o(u.scaleX,u.scaleY,h.scaleX,h.scaleY,f,c),u=h=null,function(d){for(var p=-1,b=c.length,m;++p<b;)f[(m=c[p]).i]=m.x(d);return f.join("")}}}var Ih=il(Ah,"px, ","px)","deg)"),Nh=il(Sh,", ",")",")"),ft=0,kt=0,mt=0,rl=1e3,fn,wt,cn=0,Xe=0,kn=0,Ct=typeof performance=="object"&&performance.now?performance:Date,sl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mi(){return Xe||(sl(Mh),Xe=Ct.now()+kn)}function Mh(){Xe=0}function hn(){this._call=this._time=this._next=null}hn.prototype=ll.prototype={constructor:hn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?mi():+n)+(e==null?0:+e),!this._next&&wt!==this&&(wt?wt._next=this:fn=this,wt=this),this._call=t,this._time=n,Wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wn())}};function ll(t,e,n){var i=new hn;return i.restart(t,e,n),i}function Ch(){mi(),++ft;for(var t=fn,e;t;)(e=Xe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ft}function Kr(){Xe=(cn=Ct.now())+kn,ft=kt=0;try{Ch()}finally{ft=0,xh(),Xe=0}}function Ph(){var t=Ct.now(),e=t-cn;e>rl&&(kn-=e,cn=t)}function xh(){for(var t,e=fn,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fn=n);wt=t,Wn(i)}function Wn(t){if(!ft){kt&&(kt=clearTimeout(kt));var e=t-Xe;e>24?(t<1/0&&(kt=setTimeout(Kr,t-Ct.now()-kn)),mt&&(mt=clearInterval(mt))):(mt||(cn=Ct.now(),mt=setInterval(Ph,rl)),ft=1,sl(Kr))}}function Yr(t,e,n){var i=new hn;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Dh=Hs("start","end","cancel","interrupt"),Fh=[],al=0,Wr=1,Jn=2,$t=3,Jr=4,Zn=5,en=6;function wn(t,e,n,i,r,s){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Lh(t,n,{name:e,index:i,group:r,on:Dh,tween:Fh,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:al})}function _i(t,e){var n=Ce(t,e);if(n.state>al)throw new Error("too late; already scheduled");return n}function Fe(t,e){var n=Ce(t,e);if(n.state>$t)throw new Error("too late; already running");return n}function Ce(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Lh(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=ll(s,0,n.time);function s(u){n.state=Wr,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var h,f,c,d;if(n.state!==Wr)return o();for(h in i)if(d=i[h],d.name===n.name){if(d.state===$t)return Yr(l);d.state===Jr?(d.state=en,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[h]):+h<e&&(d.state=en,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[h])}if(Yr(function(){n.state===$t&&(n.state=Jr,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Jn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Jn){for(n.state=$t,r=new Array(c=n.tween.length),h=0,f=-1;h<c;++h)(d=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(r[++f]=d);r.length=f+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(o),n.state=Zn,1),f=-1,c=r.length;++f<c;)r[f].call(t,h);n.state===Zn&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){n.state=en,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function Oh(t,e){var n=t.__transition,i,r,s=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){s=!1;continue}r=i.state>Jn&&i.state<Zn,i.state=en,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}s&&delete t.__transition}}function Bh(t){return this.each(function(){Oh(this,t)})}function Rh(t,e){var n,i;return function(){var r=Fe(this,t),s=r.tween;if(s!==n){i=n=s;for(var l=0,a=i.length;l<a;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function Hh(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=Fe(this,t),l=s.tween;if(l!==i){r=(i=l).slice();for(var a={name:e,value:n},o=0,u=r.length;o<u;++o)if(r[o].name===e){r[o]=a;break}o===u&&r.push(a)}s.tween=r}}function zh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ce(this.node(),n).tween,r=0,s=i.length,l;r<s;++r)if((l=i[r]).name===t)return l.value;return null}return this.each((e==null?Rh:Hh)(n,t,e))}function bi(t,e,n){var i=t._id;return t.each(function(){var r=Fe(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return Ce(r,i).value[e]}}function ol(t,e){var n;return(typeof e=="number"?Ie:e instanceof Ge?un:(n=Ge(e))?(e=n,un):tl)(t,e)}function Vh(t){return function(){this.removeAttribute(t)}}function qh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Uh(t,e,n){var i,r=n+"",s;return function(){var l=this.getAttribute(t);return l===r?null:l===i?s:s=e(i=l,n)}}function jh(t,e,n){var i,r=n+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===r?null:l===i?s:s=e(i=l,n)}}function Gh(t,e,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttribute(t):(l=this.getAttribute(t),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=e(i=l,a)))}}function Xh(t,e,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=e(i=l,a)))}}function Kh(t,e){var n=yn(t),i=n==="transform"?Nh:ol;return this.attrTween(t,typeof e=="function"?(n.local?Xh:Gh)(n,i,bi(this,"attr."+t,e)):e==null?(n.local?qh:Vh)(n):(n.local?jh:Uh)(n,i,e))}function Yh(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Jh(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Wh(t,s)),n}return r._value=e,r}function Zh(t,e){var n,i;function r(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Yh(t,s)),n}return r._value=e,r}function Qh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=yn(t);return this.tween(n,(i.local?Jh:Zh)(i,e))}function $h(t,e){return function(){_i(this,t).delay=+e.apply(this,arguments)}}function ed(t,e){return e=+e,function(){_i(this,t).delay=e}}function td(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$h:ed)(e,t)):Ce(this.node(),e).delay}function nd(t,e){return function(){Fe(this,t).duration=+e.apply(this,arguments)}}function id(t,e){return e=+e,function(){Fe(this,t).duration=e}}function rd(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nd:id)(e,t)):Ce(this.node(),e).duration}function sd(t,e){if(typeof e!="function")throw new Error;return function(){Fe(this,t).ease=e}}function ld(t){var e=this._id;return arguments.length?this.each(sd(e,t)):Ce(this.node(),e).ease}function ad(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Fe(this,t).ease=n}}function od(t){if(typeof t!="function")throw new Error;return this.each(ad(this._id,t))}function ud(t){typeof t!="function"&&(t=qs(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s=e[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&a.push(o);return new Oe(i,this._parents,this._name,this._id)}function fd(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,s=Math.min(i,r),l=new Array(i),a=0;a<s;++a)for(var o=e[a],u=n[a],h=o.length,f=l[a]=new Array(h),c,d=0;d<h;++d)(c=o[d]||u[d])&&(f[d]=c);for(;a<i;++a)l[a]=e[a];return new Oe(l,this._parents,this._name,this._id)}function cd(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hd(t,e,n){var i,r,s=cd(e)?_i:Fe;return function(){var l=s(this,t),a=l.on;a!==i&&(r=(i=a).copy()).on(e,n),l.on=r}}function dd(t,e){var n=this._id;return arguments.length<2?Ce(this.node(),n).on.on(t):this.each(hd(n,t,e))}function pd(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function gd(){return this.on("end.remove",pd(this._id))}function md(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ci(t));for(var i=this._groups,r=i.length,s=new Array(r),l=0;l<r;++l)for(var a=i[l],o=a.length,u=s[l]=new Array(o),h,f,c=0;c<o;++c)(h=a[c])&&(f=t.call(h,h.__data__,c,a))&&("__data__"in h&&(f.__data__=h.__data__),u[c]=f,wn(u[c],e,n,c,u,Ce(h,n)));return new Oe(s,this._parents,e,n)}function _d(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Vs(t));for(var i=this._groups,r=i.length,s=[],l=[],a=0;a<r;++a)for(var o=i[a],u=o.length,h,f=0;f<u;++f)if(h=o[f]){for(var c=t.call(h,h.__data__,f,o),d,p=Ce(h,n),b=0,m=c.length;b<m;++b)(d=c[b])&&wn(d,e,n,b,c,p);s.push(c),l.push(h)}return new Oe(s,l,e,n)}var bd=Dt.prototype.constructor;function vd(){return new bd(this._groups,this._parents)}function yd(t,e){var n,i,r;return function(){var s=ut(this,t),l=(this.style.removeProperty(t),ut(this,t));return s===l?null:s===n&&l===i?r:r=e(n=s,i=l)}}function ul(t){return function(){this.style.removeProperty(t)}}function kd(t,e,n){var i,r=n+"",s;return function(){var l=ut(this,t);return l===r?null:l===i?s:s=e(i=l,n)}}function wd(t,e,n){var i,r,s;return function(){var l=ut(this,t),a=n(this),o=a+"";return a==null&&(o=a=(this.style.removeProperty(t),ut(this,t))),l===o?null:l===i&&o===r?s:(r=o,s=e(i=l,a))}}function Td(t,e){var n,i,r,s="style."+e,l="end."+s,a;return function(){var o=Fe(this,t),u=o.on,h=o.value[s]==null?a||(a=ul(e)):void 0;(u!==n||r!==h)&&(i=(n=u).copy()).on(l,r=h),o.on=i}}function Ed(t,e,n){var i=(t+="")=="transform"?Ih:ol;return e==null?this.styleTween(t,yd(t,i)).on("end.style."+t,ul(t)):typeof e=="function"?this.styleTween(t,wd(t,i,bi(this,"style."+t,e))).each(Td(this._id,t)):this.styleTween(t,kd(t,i,e),n).on("end.style."+t,null)}function Ad(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Sd(t,e,n){var i,r;function s(){var l=e.apply(this,arguments);return l!==r&&(i=(r=l)&&Ad(t,l,n)),i}return s._value=e,s}function Id(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Sd(t,e,n??""))}function Nd(t){return function(){this.textContent=t}}function Md(t){return function(){var e=t(this);this.textContent=e??""}}function Cd(t){return this.tween("text",typeof t=="function"?Md(bi(this,"text",t)):Nd(t==null?"":t+""))}function Pd(t){return function(e){this.textContent=t.call(this,e)}}function xd(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Pd(r)),e}return i._value=t,i}function Dd(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,xd(t))}function Fd(){for(var t=this._name,e=this._id,n=fl(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)if(o=l[u]){var h=Ce(o,e);wn(o,t,n,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Oe(i,this._parents,t,n)}function Ld(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(s,l){var a={value:l},o={value:function(){--r===0&&s()}};n.each(function(){var u=Fe(this,i),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(o)),u.on=e}),r===0&&s()})}var Od=0;function Oe(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function fl(){return++Od}var Le=Dt.prototype;Oe.prototype={constructor:Oe,select:md,selectAll:_d,selectChild:Le.selectChild,selectChildren:Le.selectChildren,filter:ud,merge:fd,selection:vd,transition:Fd,call:Le.call,nodes:Le.nodes,node:Le.node,size:Le.size,empty:Le.empty,each:Le.each,on:dd,attr:Kh,attrTween:Qh,style:Ed,styleTween:Id,text:Cd,textTween:Dd,remove:gd,tween:zh,delay:td,duration:rd,ease:ld,easeVarying:od,end:Ld,[Symbol.iterator]:Le[Symbol.iterator]};function Bd(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Rd={time:null,delay:0,duration:250,ease:Bd};function Hd(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function zd(t){var e,n;t instanceof Oe?(e=t._id,t=t._name):(e=fl(),(n=Rd).time=mi(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&wn(o,t,e,u,l,n||Hd(o,e));return new Oe(i,this._parents,t,e)}Dt.prototype.interrupt=Bh;Dt.prototype.transition=zd;const Qn=Math.PI,$n=2*Qn,Ve=1e-6,Vd=$n-Ve;function cl(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qd(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cl;const n=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class Ud{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cl:qd(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,s,l){this._append`C${+e},${+n},${+i},${+r},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,i,r,s){if(e=+e,n=+n,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,a=this._y1,o=i-e,u=r-n,h=l-e,f=a-n,c=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(c>Ve)if(!(Math.abs(f*o-u*h)>Ve)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let d=i-l,p=r-a,b=o*o+u*u,m=d*d+p*p,y=Math.sqrt(b),v=Math.sqrt(c),g=s*Math.tan((Qn-Math.acos((b+c-m)/(2*y*v)))/2),T=g/v,E=g/y;Math.abs(T-1)>Ve&&this._append`L${e+T*h},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*d>h*p)},${this._x1=e+E*o},${this._y1=n+E*u}`}}arc(e,n,i,r,s,l){if(e=+e,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),o=i*Math.sin(r),u=e+a,h=n+o,f=1^l,c=l?r-s:s-r;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Ve||Math.abs(this._y1-h)>Ve)&&this._append`L${u},${h}`,i&&(c<0&&(c=c%$n+$n),c>Vd?this._append`A${i},${i},0,1,${f},${e-a},${n-o}A${i},${i},0,1,${f},${this._x1=u},${this._y1=h}`:c>Ve&&this._append`A${i},${i},0,${+(c>=Qn)},${f},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function jd(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function ct(t){return t=dn(Math.abs(t)),t?t[1]:NaN}function Gd(t,e){return function(n,i){for(var r=n.length,s=[],l=0,a=t[0],o=0;r>0&&a>0&&(o+a+1>i&&(a=Math.max(1,i-o)),s.push(n.substring(r-=a,r+a)),!((o+=a+1)>i));)a=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Xd(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pn(t){if(!(e=Kd.exec(t)))throw new Error("invalid format: "+t);var e;return new vi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pn.prototype=vi.prototype;function vi(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yd(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var hl;function Wd(t,e){var n=dn(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(hl=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+dn(t,Math.max(0,e+s-1))[0]}function Zr(t,e){var n=dn(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Qr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jd,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Zr(t*100,e),r:Zr,s:Wd,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $r(t){return t}var es=Array.prototype.map,ts=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jd(t){var e=t.grouping===void 0||t.thousands===void 0?$r:Gd(es.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?$r:Xd(es.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",o=t.nan===void 0?"NaN":t.nan+"";function u(f){f=pn(f);var c=f.fill,d=f.align,p=f.sign,b=f.symbol,m=f.zero,y=f.width,v=f.comma,g=f.precision,T=f.trim,E=f.type;E==="n"?(v=!0,E="g"):Qr[E]||(g===void 0&&(g=12),T=!0,E="g"),(m||c==="0"&&d==="=")&&(m=!0,c="0",d="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",I=b==="$"?i:/[%p]/.test(E)?l:"",D=Qr[E],x=/[defgprs%]/.test(E);g=g===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function L(B){var te=k,ie=I,ke,Be,q;if(E==="c")ie=D(B)+ie,B="";else{B=+B;var K=B<0||1/B<0;if(B=isNaN(B)?o:D(Math.abs(B),g),T&&(B=Yd(B)),K&&+B==0&&p!=="+"&&(K=!1),te=(K?p==="("?p:a:p==="-"||p==="("?"":p)+te,ie=(E==="s"?ts[8+hl/3]:"")+ie+(K&&p==="("?")":""),x){for(ke=-1,Be=B.length;++ke<Be;)if(q=B.charCodeAt(ke),48>q||q>57){ie=(q===46?r+B.slice(ke+1):B.slice(ke))+ie,B=B.slice(0,ke);break}}}v&&!m&&(B=e(B,1/0));var ee=te.length+B.length+ie.length,re=ee<y?new Array(y-ee+1).join(c):"";switch(v&&m&&(B=e(re+B,re.length?y-ie.length:1/0),re=""),d){case"<":B=te+B+ie+re;break;case"=":B=te+re+B+ie;break;case"^":B=re.slice(0,ee=re.length>>1)+te+B+ie+re.slice(ee);break;default:B=re+te+B+ie;break}return s(B)}return L.toString=function(){return f+""},L}function h(f,c){var d=u((f=pn(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(ct(c)/3)))*3,b=Math.pow(10,-p),m=ts[8+p/3];return function(y){return d(b*y)+m}}return{format:u,formatPrefix:h}}var jt,dl,pl;Zd({thousands:",",grouping:[3],currency:["$",""]});function Zd(t){return jt=Jd(t),dl=jt.format,pl=jt.formatPrefix,jt}function Qd(t){return Math.max(0,-ct(Math.abs(t)))}function $d(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ct(e)/3)))*3-ct(Math.abs(t)))}function ep(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ct(e)-ct(t))+1}function yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const ns=Symbol("implicit");function ki(){var t=new qn,e=[],n=[],i=ns;function r(s){let l=t.get(s);if(l===void 0){if(i!==ns)return i;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new qn;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ki(e,n).unknown(i)},yi.apply(r,arguments),r}function gl(){var t=ki().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,s,l,a=!1,o=0,u=0,h=.5;delete t.unknown;function f(){var c=e().length,d=r<i,p=d?r:i,b=d?i:r;s=(b-p)/Math.max(1,c-o+u*2),a&&(s=Math.floor(s)),p+=(b-p-s*(c-o))*h,l=s*(1-o),a&&(p=Math.round(p),l=Math.round(l));var m=hf(c).map(function(y){return p+s*y});return n(d?m.reverse():m)}return t.domain=function(c){return arguments.length?(e(c),f()):e()},t.range=function(c){return arguments.length?([i,r]=c,i=+i,r=+r,f()):[i,r]},t.rangeRound=function(c){return[i,r]=c,i=+i,r=+r,a=!0,f()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(c){return arguments.length?(a=!!c,f()):a},t.padding=function(c){return arguments.length?(o=Math.min(1,u=+c),f()):o},t.paddingInner=function(c){return arguments.length?(o=Math.min(1,c),f()):o},t.paddingOuter=function(c){return arguments.length?(u=+c,f()):u},t.align=function(c){return arguments.length?(h=Math.max(0,Math.min(1,c)),f()):h},t.copy=function(){return gl(e(),[i,r]).round(a).paddingInner(o).paddingOuter(u).align(h)},yi.apply(f(),arguments)}function ml(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ml(e())},t}function tp(){return ml(gl.apply(null,arguments).paddingInner(1))}function np(t){return function(){return t}}function ip(t){return+t}var is=[0,1];function it(t){return t}function ei(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:np(isNaN(e)?NaN:.5)}function rp(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function sp(t,e,n){var i=t[0],r=t[1],s=e[0],l=e[1];return r<i?(i=ei(r,i),s=n(l,s)):(i=ei(i,r),s=n(s,l)),function(a){return s(i(a))}}function lp(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),l=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<i;)r[l]=ei(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(a){var o=$u(t,a,1,i)-1;return s[o](r[o](a))}}function ap(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function op(){var t=is,e=is,n=gi,i,r,s,l=it,a,o,u;function h(){var c=Math.min(t.length,e.length);return l!==it&&(l=rp(t[0],t[c-1])),a=c>2?lp:sp,o=u=null,f}function f(c){return c==null||isNaN(c=+c)?s:(o||(o=a(t.map(i),e,n)))(i(l(c)))}return f.invert=function(c){return l(r((u||(u=a(e,t.map(i),Ie)))(c)))},f.domain=function(c){return arguments.length?(t=Array.from(c,ip),h()):t.slice()},f.range=function(c){return arguments.length?(e=Array.from(c),h()):e.slice()},f.rangeRound=function(c){return e=Array.from(c),n=Eh,h()},f.clamp=function(c){return arguments.length?(l=c?!0:it,h()):l!==it},f.interpolate=function(c){return arguments.length?(n=c,h()):n},f.unknown=function(c){return arguments.length?(s=c,f):s},function(c,d){return i=c,r=d,h()}}function up(){return op()(it,it)}function fp(t,e,n,i){var r=ff(t,e,n),s;switch(i=pn(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(s=$d(r,l))&&(i.precision=s),pl(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=ep(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Qd(r))&&(i.precision=s-(i.type==="%")*2);break}}return dl(i)}function cp(t){var e=t.domain;return t.ticks=function(n){var i=e();return uf(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return fp(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,s=i.length-1,l=i[r],a=i[s],o,u,h=10;for(a<l&&(u=l,l=a,a=u,u=r,r=s,s=u);h-- >0;){if(u=Un(l,a,n),u===o)return i[r]=l,i[s]=a,e(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;o=u}return t},t}function _l(){var t=up();return t.copy=function(){return ap(t,_l())},yi.apply(t,arguments),cp(t)}function et(t){return function(){return t}}function hp(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Ud(e)}function dp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bl(t){this._context=t}bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pp(t){return new bl(t)}function gp(t){return t[0]}function mp(t){return t[1]}function _p(t,e){var n=et(!0),i=null,r=pp,s=null,l=hp(a);t=typeof t=="function"?t:t===void 0?gp:et(t),e=typeof e=="function"?e:e===void 0?mp:et(e);function a(o){var u,h=(o=dp(o)).length,f,c=!1,d;for(i==null&&(s=r(d=l())),u=0;u<=h;++u)!(u<h&&n(f=o[u],u,o))===c&&((c=!c)?s.lineStart():s.lineEnd()),c&&s.point(+t(f,u,o),+e(f,u,o));if(d)return s=null,d+""||null}return a.x=function(o){return arguments.length?(t=typeof o=="function"?o:et(+o),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:et(+o),a):e},a.defined=function(o){return arguments.length?(n=typeof o=="function"?o:et(!!o),a):n},a.curve=function(o){return arguments.length?(r=o,i!=null&&(s=r(i)),a):r},a.context=function(o){return arguments.length?(o==null?i=s=null:s=r(i=o),a):i},a}function Tt(t,e,n){this.k=t,this.x=e,this.y=n}Tt.prototype={constructor:Tt,scale:function(t){return t===1?this:new Tt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Tt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Tt.prototype;function ht(t,e){return["All",...new Set(e.map(i=>i[t]))]}function bp(t,e,n){return t.filter(r=>r["Treatment group"]===e&&r[n]==="1").map(r=>r["Bee Id"])}function vp(t){let e,n,i,r,s,l,a,o;function u(f){t[5](f)}let h={name:"error-bar-show",size:"sm",$$slots:{default:[kp]},$$scope:{ctx:t}};return t[2]!==void 0&&(h.checked=t[2]),n=new gs({props:h}),pe.push(()=>be(n,"checked",u)),{c(){e=N("div"),Y(n.$$.fragment),r=z(),s=N("div"),this.h()},l(f){e=M(f,"DIV",{id:!0});var c=C(e);W(n.$$.fragment,c),r=V(c),s=M(c,"DIV",{id:!0,class:!0}),C(s).forEach(_),c.forEach(_),this.h()},h(){w(s,"id",l="tooltip-"+fe(t[1])),w(s,"class","text-sm"),w(e,"id",a="line-graph-"+fe(t[1]))},m(f,c){A(f,e,c),J(n,e,null),S(e,r),S(e,s),o=!0},p(f,c){const d={};c&536870912&&(d.$$scope={dirty:c,ctx:f}),!i&&c&4&&(i=!0,d.checked=f[2],ve(()=>i=!1)),n.$set(d),(!o||c&2&&l!==(l="tooltip-"+fe(f[1])))&&w(s,"id",l),(!o||c&2&&a!==(a="line-graph-"+fe(f[1])))&&w(e,"id",a)},i(f){o||(P(n.$$.fragment,f),o=!0)},o(f){F(n.$$.fragment,f),o=!1},d(f){f&&_(e),Z(n)}}}function yp(t){let e,n;return{c(){e=N("p"),n=j("No data passed")},l(i){e=M(i,"P",{});var r=C(e);n=G(r,"No data passed"),r.forEach(_)},m(i,r){A(i,e,r),S(e,n)},p:R,i:R,o:R,d(i){i&&_(e)}}}function kp(t){let e;return{c(){e=j("Error bars")},l(n){e=G(n,"Error bars")},m(n,i){A(n,e,i)},d(n){n&&_(e)}}}function wp(t){let e,n,i,r;const s=[yp,vp],l=[];function a(o,u){return o[0].data==null||o[0].labels==null?0:1}return e=a(t),n=l[e]=s[e](t),{c(){n.c(),i=$()},l(o){n.l(o),i=$()},m(o,u){l[e].m(o,u),A(o,i,u),r=!0},p(o,[u]){let h=e;e=a(o),e===h?l[e].p(o,u):(se(),F(l[h],1,1,()=>{l[h]=null}),le(),n=l[e],n?n.p(o,u):(n=l[e]=s[e](o),n.c()),P(n,1),n.m(i.parentNode,i))},i(o){r||(P(n),r=!0)},o(o){F(n),r=!1},d(o){l[e].d(o),o&&_(i)}}}function Tp(t,e,n){let{dataObject:i=void 0}=e,{selected:r=void 0}=e,{name:s}=e,{rawData:l=void 0}=e;var a={top:10,right:30,bottom:30,left:60},o=800-a.left-a.right,u=600-a.top-a.bottom;let h,f,c,d,p,b=!0,m=!1;function y(q){if(m){let K;h.selectAll(".data").remove(),q==="All"?K=i.data:K=i.data.filter(ee=>ee["Treatment group"]===r),ie(K)}}var v=function(q,K){p.style("opacity",1),_e(this).style("stroke","black").style("opacity",1)};let g=function(q,K){let ee=bp(l,K["Treatment group"],K.cue),re="";for(let U of ee)re+=`<li>${U}</li>`;let H=`<p><span class="tooltip-label font-medium">Mean:</span> <span class="tooltip-value font-light">${K.mean}</span></p>
            <p><span class="tooltip-label font-medium">Standard Deviation:</span> <span class="tooltip-value font-light">${K.stdDeviation}</span></p>
            <p><span class="tooltip-label font-medium">Standard Error:</span> <span class="tooltip-value font-light">${K.stdError}</span></p>
            <hr/>
            <p><span class="tooltip-label font-medium">Bees: </span>
                <ul class="indent-2">${re}</ul>
            </p>`;p.html(H).style("left",q.pageX+70+"px").style("top",q.pageY+"px")},T=function(q,K){p.html("").style("opacity",0),_e(this).style("stroke","none").style("opacity",.8)},E=function(q,K){let ee=_e(`div#line-graph-${fe(s)}`);ee.select("g.labels-data").selectAll("text").style("font-weight","lighter"),_e(this).style("font-weight","bold"),ee.selectAll("path.line-data").attr("stroke-width",.5),ee.selectAll(".error-data").selectAll("line").attr("stroke-width",.5)},k=function(q,K){let ee=_e(`div#line-graph-${fe(s)}`),re=ee.selectAll("g.line-data"),H=`path#${fe(K)}-path`;re.selectAll(H).attr("stroke-width",2.5),ee.selectAll(".error-data").selectAll(`.${fe(K)}`).attr("stroke-width",2)},I=function(q,K){let ee=_e(`div#line-graph-${fe(s)}`);ee.select("g.labels-data").selectAll("text").style("font-weight","normal"),_e(this).style("font-weight","normal"),ee.selectAll("path.line-data").attr("stroke-width",1.5),ee.selectAll(".error-data").selectAll("line").attr("stroke-width",1)},D=function(q,K){n(3,r=K)},x=function(q,K){E(q,K[0]),_e(`div#line-graph-${fe(s)}`).selectAll("text").filter(function(){return _e(this).text()==K[0]}).style("font-weight","bold")},L=function(q,K){k(q,K[0])},B=function(q,K){_e(`div#line-graph-${fe(s)}`).selectAll("text").attr("font-weight","normal"),I(q,K[0])},te=function(q,K){D(q,K[0])};function ie(q){let K=rf(q,O=>O["Treatment group"]);h.append("g").attr("class","line-data data").selectAll(".line-data").data(K).join("path").on("mouseover",x).on("mousemove",L).on("mouseleave",B).on("click",te).attr("fill","none").attr("stroke",function(O){return f(O[0])}).attr("stroke-width",1.5).attr("id",function(O){return`${fe(O[0])}-path`}).attr("class","line-data").attr("d",function(O){return _p().x(function(me){return c(me.cue)}).y(function(me){return d(me.mean)})(O[1])});let re=h.append("g").attr("class","point-data data");re.selectAll("dot").data(q).enter().append("circle").attr("cx",function(O){return c(O.cue)}).attr("cy",function(O){return d(O.mean)}).attr("r",5).attr("fill",function(O){return f(O["Treatment group"])}).on("mouseover",v).on("mousemove",g).on("mouseleave",T);let H=re.append("g").attr("class","error-data data");H.selectAll("line-error").data(q).attr("class","error").enter().append("line").attr("x1",function(O){return c(O.cue)}).attr("x2",function(O){return c(O.cue)}).attr("y1",function(O){return d(O.mean+O.stdError)}).attr("y2",function(O){return d(O.mean-O.stdError)}).attr("stroke",function(O){return f(O["Treatment group"])}).attr("class",function(O){return fe(O["Treatment group"])}),H.selectAll("line-error").data(q).attr("class","error").enter().append("line").attr("x1",function(O){return c(O.cue)-5}).attr("x2",function(O){return c(O.cue)+5}).attr("y1",function(O){return d(O.mean-O.stdError)}).attr("y2",function(O){return d(O.mean-O.stdError)}).attr("stroke",function(O){return f(O["Treatment group"])}).attr("class",function(O){return fe(O["Treatment group"])}),H.selectAll("line-error").data(q).attr("class","error").enter().append("line").attr("x1",function(O){return c(O.cue)-5}).attr("x2",function(O){return c(O.cue)+5}).attr("y1",function(O){return d(O.mean+O.stdError)}).attr("y2",function(O){return d(O.mean+O.stdError)}).attr("stroke",function(O){return f(O["Treatment group"])}).attr("class",function(O){return fe(O["Treatment group"])});let U=h.append("g").attr("class","labels-data data");U.selectAll("dots-labels").data(new Set(q.map(O=>O["Treatment group"]))).enter().append("circle").attr("cx",o-270).attr("cy",function(O,me){return 50+me*30}).attr("r",7).style("fill",function(O){return f(O)}),U.selectAll("labels").data(new Set(q.map(O=>O["Treatment group"]))).enter().append("text").attr("x",o-250).attr("y",function(O,me){return 50+me*30}).style("fill",function(O){return f(O)}).text(function(O){return O}).attr("text-anchor","left").style("alignment-baseline","middle").on("mouseover",E).on("mousemove",k).on("mouseleave",I).on("click",D)}function ke(q){let ee=_e(`div#line-graph-${fe(s)}`).selectAll(".error-data");q?ee.selectAll("line").attr("opacity",1):ee.selectAll("line").attr("opacity",0)}Ze(async()=>{h=_e(`#line-graph-${fe(s)}`).append("svg").attr("width",o+a.left+a.right).attr("height",u+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")"),p=_e(`#tooltip-${fe(s)}`).append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px").style("position","absolute"),c=tp().domain(i.data.map(q=>q.cue)).range([0,o]),h.append("g").attr("transform","translate(0,"+u+")").call(vf(c)),d=_l().domain([0,cf(i.data.map(q=>q.mean))]).range([u,0]),h.append("g").call(yf(d)),f=ki().domain(i.data.map(q=>q["Treatment group"])).range(["#e41a1c","#377eb8","#4daf4a"]),m=!0,y(r)});function Be(q){b=q,n(2,b)}return t.$$set=q=>{"dataObject"in q&&n(0,i=q.dataObject),"selected"in q&&n(3,r=q.selected),"name"in q&&n(1,s=q.name),"rawData"in q&&n(4,l=q.rawData)},t.$$.update=()=>{t.$$.dirty&8&&y(r),t.$$.dirty&4&&ke(b)},[i,s,b,r,l,Be]}class Ep extends ce{constructor(e){super(),he(this,e,Tp,wp,ue,{dataObject:0,selected:3,name:1,rawData:4})}}function rs(t,e,n){const i=t.slice();return i[12]=e[n],i[13]=e,i[14]=n,i}function ss(t){let e,n,i=t[0],r=[];for(let l=0;l<i.length;l+=1)r[l]=ls(rs(t,i,l));const s=l=>F(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$()},l(l){for(let a=0;a<r.length;a+=1)r[a].l(l);e=$()},m(l,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(l,a);A(l,e,a),n=!0},p(l,a){if(a&7){i=l[0];let o;for(o=0;o<i.length;o+=1){const u=rs(l,i,o);r[o]?(r[o].p(u,a),P(r[o],1)):(r[o]=ls(u),r[o].c(),P(r[o],1),r[o].m(e.parentNode,e))}for(se(),o=i.length;o<r.length;o+=1)s(o);le()}},i(l){if(!n){for(let a=0;a<i.length;a+=1)P(r[a]);n=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)F(r[a]);n=!1},d(l){Ae(r,l),l&&_(e)}}}function Ap(t){let e,n;return{c(){e=N("span"),n=j("Data table")},l(i){e=M(i,"SPAN",{});var r=C(e);n=G(r,"Data table"),r.forEach(_)},m(i,r){A(i,e,r),S(e,n)},p:R,d(i){i&&_(e)}}}function Sp(t){let e,n;return{c(){e=N("span"),n=j("Summary Data")},l(i){e=M(i,"SPAN",{});var r=C(e);n=G(r,"Summary Data"),r.forEach(_)},m(i,r){A(i,e,r),S(e,n)},p:R,d(i){i&&_(e)}}}function Ip(t){let e,n;return{c(){e=N("span"),n=j("Visualisation")},l(i){e=M(i,"SPAN",{});var r=C(e);n=G(r,"Visualisation"),r.forEach(_)},m(i,r){A(i,e,r),S(e,n)},p:R,d(i){i&&_(e)}}}function Np(t){let e,n;return{c(){e=N("span"),n=j("Experimental Details")},l(i){e=M(i,"SPAN",{});var r=C(e);n=G(r,"Experimental Details"),r.forEach(_)},m(i,r){A(i,e,r),S(e,n)},p:R,d(i){i&&_(e)}}}function Mp(t){let e,n,i,r,s,l,a,o,u,h,f,c,d;function p(k){t[8](k,t[14])}let b={name:"tab1",value:0,$$slots:{default:[Ap]},$$scope:{ctx:t}};t[2][t[14]]!==void 0&&(b.group=t[2][t[14]]),e=new Ot({props:b}),pe.push(()=>be(e,"group",p));function m(k){t[9](k,t[14])}let y={name:"tab2",value:1,$$slots:{default:[Sp]},$$scope:{ctx:t}};t[2][t[14]]!==void 0&&(y.group=t[2][t[14]]),r=new Ot({props:y}),pe.push(()=>be(r,"group",m));function v(k){t[10](k,t[14])}let g={name:"tab2",value:2,$$slots:{default:[Ip]},$$scope:{ctx:t}};t[2][t[14]]!==void 0&&(g.group=t[2][t[14]]),a=new Ot({props:g}),pe.push(()=>be(a,"group",v));function T(k){t[11](k,t[14])}let E={name:"tab2",value:3,$$slots:{default:[Np]},$$scope:{ctx:t}};return t[2][t[14]]!==void 0&&(E.group=t[2][t[14]]),h=new Ot({props:E}),pe.push(()=>be(h,"group",T)),{c(){Y(e.$$.fragment),i=z(),Y(r.$$.fragment),l=z(),Y(a.$$.fragment),u=z(),Y(h.$$.fragment),c=z()},l(k){W(e.$$.fragment,k),i=V(k),W(r.$$.fragment,k),l=V(k),W(a.$$.fragment,k),u=V(k),W(h.$$.fragment,k),c=V(k)},m(k,I){J(e,k,I),A(k,i,I),J(r,k,I),A(k,l,I),J(a,k,I),A(k,u,I),J(h,k,I),A(k,c,I),d=!0},p(k,I){t=k;const D={};I&32768&&(D.$$scope={dirty:I,ctx:t}),!n&&I&4&&(n=!0,D.group=t[2][t[14]],ve(()=>n=!1)),e.$set(D);const x={};I&32768&&(x.$$scope={dirty:I,ctx:t}),!s&&I&4&&(s=!0,x.group=t[2][t[14]],ve(()=>s=!1)),r.$set(x);const L={};I&32768&&(L.$$scope={dirty:I,ctx:t}),!o&&I&4&&(o=!0,L.group=t[2][t[14]],ve(()=>o=!1)),a.$set(L);const B={};I&32768&&(B.$$scope={dirty:I,ctx:t}),!f&&I&4&&(f=!0,B.group=t[2][t[14]],ve(()=>f=!1)),h.$set(B)},i(k){d||(P(e.$$.fragment,k),P(r.$$.fragment,k),P(a.$$.fragment,k),P(h.$$.fragment,k),d=!0)},o(k){F(e.$$.fragment,k),F(r.$$.fragment,k),F(a.$$.fragment,k),F(h.$$.fragment,k),d=!1},d(k){Z(e,k),k&&_(i),Z(r,k),k&&_(l),Z(a,k),k&&_(u),Z(h,k),k&&_(c)}}}function Cp(t){let e,n;return e=new ti({props:{content:t[12].desc.content}}),{c(){Y(e.$$.fragment)},l(i){W(e.$$.fragment,i)},m(i,r){J(e,i,r),n=!0},p(i,r){const s={};r&1&&(s.content=i[12].desc.content),e.$set(s)},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function Pp(t){let e,n,i,r,s,l;function a(f){t[6](f,t[14])}let o={groups:ht("Treatment group",t[12].data),name:"Treatment group"};t[1][t[14]]!==void 0&&(o.selected=t[1][t[14]]),e=new fi({props:o}),pe.push(()=>be(e,"selected",a));function u(f){t[7](f,t[14])}let h={dataObject:{data:t[12].summaryData,labels:t[12].summaryColumns},name:t[12].desc.metadata.title,rawData:t[12].data};return t[1][t[14]]!==void 0&&(h.selected=t[1][t[14]]),r=new Ep({props:h}),pe.push(()=>be(r,"selected",u)),{c(){Y(e.$$.fragment),i=z(),Y(r.$$.fragment)},l(f){W(e.$$.fragment,f),i=V(f),W(r.$$.fragment,f)},m(f,c){J(e,f,c),A(f,i,c),J(r,f,c),l=!0},p(f,c){t=f;const d={};c&1&&(d.groups=ht("Treatment group",t[12].data)),!n&&c&2&&(n=!0,d.selected=t[1][t[14]],ve(()=>n=!1)),e.$set(d);const p={};c&1&&(p.dataObject={data:t[12].summaryData,labels:t[12].summaryColumns}),c&1&&(p.name=t[12].desc.metadata.title),c&1&&(p.rawData=t[12].data),!s&&c&2&&(s=!0,p.selected=t[1][t[14]],ve(()=>s=!1)),r.$set(p)},i(f){l||(P(e.$$.fragment,f),P(r.$$.fragment,f),l=!0)},o(f){F(e.$$.fragment,f),F(r.$$.fragment,f),l=!1},d(f){Z(e,f),f&&_(i),Z(r,f)}}}function xp(t){let e,n,i,r,s;function l(o){t[5](o,t[14])}let a={groups:ht("Treatment group",t[12].data),name:"Treatment group"};return t[1][t[14]]!==void 0&&(a.selected=t[1][t[14]]),e=new fi({props:a}),pe.push(()=>be(e,"selected",l)),r=new Os({props:{tableObject:{data:t[12].summaryData,columns:t[12].summaryColumns},selected:t[1][t[14]]}}),{c(){Y(e.$$.fragment),i=z(),Y(r.$$.fragment)},l(o){W(e.$$.fragment,o),i=V(o),W(r.$$.fragment,o)},m(o,u){J(e,o,u),A(o,i,u),J(r,o,u),s=!0},p(o,u){t=o;const h={};u&1&&(h.groups=ht("Treatment group",t[12].data)),!n&&u&2&&(n=!0,h.selected=t[1][t[14]],ve(()=>n=!1)),e.$set(h);const f={};u&1&&(f.tableObject={data:t[12].summaryData,columns:t[12].summaryColumns}),u&2&&(f.selected=t[1][t[14]]),r.$set(f)},i(o){s||(P(e.$$.fragment,o),P(r.$$.fragment,o),s=!0)},o(o){F(e.$$.fragment,o),F(r.$$.fragment,o),s=!1},d(o){Z(e,o),o&&_(i),Z(r,o)}}}function Dp(t){let e,n,i,r,s;function l(o){t[4](o,t[14])}let a={groups:ht("Treatment group",t[12].data),name:"Treatment group"};return t[1][t[14]]!==void 0&&(a.selected=t[1][t[14]]),e=new fi({props:a}),pe.push(()=>be(e,"selected",l)),r=new Os({props:{tableObject:{data:t[12].data,columns:t[12].columns},selected:t[1][t[14]]}}),{c(){Y(e.$$.fragment),i=z(),Y(r.$$.fragment)},l(o){W(e.$$.fragment,o),i=V(o),W(r.$$.fragment,o)},m(o,u){J(e,o,u),A(o,i,u),J(r,o,u),s=!0},p(o,u){t=o;const h={};u&1&&(h.groups=ht("Treatment group",t[12].data)),!n&&u&2&&(n=!0,h.selected=t[1][t[14]],ve(()=>n=!1)),e.$set(h);const f={};u&1&&(f.tableObject={data:t[12].data,columns:t[12].columns}),u&2&&(f.selected=t[1][t[14]]),r.$set(f)},i(o){s||(P(e.$$.fragment,o),P(r.$$.fragment,o),s=!0)},o(o){F(e.$$.fragment,o),F(r.$$.fragment,o),s=!1},d(o){Z(e,o),o&&_(i),Z(r,o)}}}function Fp(t){let e,n,i,r;const s=[Dp,xp,Pp,Cp],l=[];function a(o,u){return o[2][o[14]]===0?0:o[2][o[14]]===1?1:o[2][o[14]]===2?2:o[2][o[14]]===3?3:-1}return~(e=a(t))&&(n=l[e]=s[e](t)),{c(){n&&n.c(),i=z()},l(o){n&&n.l(o),i=V(o)},m(o,u){~e&&l[e].m(o,u),A(o,i,u),r=!0},p(o,u){let h=e;e=a(o),e===h?~e&&l[e].p(o,u):(n&&(se(),F(l[h],1,1,()=>{l[h]=null}),le()),~e?(n=l[e],n?n.p(o,u):(n=l[e]=s[e](o),n.c()),P(n,1),n.m(i.parentNode,i)):n=null)},i(o){r||(P(n),r=!0)},o(o){F(n),r=!1},d(o){~e&&l[e].d(o),o&&_(i)}}}function ls(t){let e,n=t[12].desc.metadata.title+"",i,r,s,l;return s=new Jl({props:{$$slots:{panel:[Fp],default:[Mp]},$$scope:{ctx:t}}}),{c(){e=N("h2"),i=j(n),r=z(),Y(s.$$.fragment)},l(a){e=M(a,"H2",{});var o=C(e);i=G(o,n),o.forEach(_),r=V(a),W(s.$$.fragment,a)},m(a,o){A(a,e,o),S(e,i),A(a,r,o),J(s,a,o),l=!0},p(a,o){(!l||o&1)&&n!==(n=a[12].desc.metadata.title+"")&&oe(i,n);const u={};o&32775&&(u.$$scope={dirty:o,ctx:a}),s.$set(u)},i(a){l||(P(s.$$.fragment,a),l=!0)},o(a){F(s.$$.fragment,a),l=!1},d(a){a&&_(e),a&&_(r),Z(s,a)}}}function Lp(t){let e,n,i=t[3]&&ss(t);return{c(){i&&i.c(),e=$()},l(r){i&&i.l(r),e=$()},m(r,s){i&&i.m(r,s),A(r,e,s),n=!0},p(r,[s]){r[3]?i?(i.p(r,s),s&8&&P(i,1)):(i=ss(r),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(se(),F(i,1,1,()=>{i=null}),le())},i(r){n||(P(i),n=!0)},o(r){F(i),n=!1},d(r){i&&i.d(r),r&&_(e)}}}function Op(t,e,n){let{datasets:i}=e,r=[],s=[],l=!1;Ze(async()=>{for(let b=0;b<i.length;b++)r.push("All"),s.push(0);n(3,l=!0)});function a(b,m){t.$$.not_equal(r[m],b)&&(r[m]=b,n(1,r))}function o(b,m){t.$$.not_equal(r[m],b)&&(r[m]=b,n(1,r))}function u(b,m){t.$$.not_equal(r[m],b)&&(r[m]=b,n(1,r))}function h(b,m){t.$$.not_equal(r[m],b)&&(r[m]=b,n(1,r))}function f(b,m){t.$$.not_equal(s[m],b)&&(s[m]=b,n(2,s))}function c(b,m){t.$$.not_equal(s[m],b)&&(s[m]=b,n(2,s))}function d(b,m){t.$$.not_equal(s[m],b)&&(s[m]=b,n(2,s))}function p(b,m){t.$$.not_equal(s[m],b)&&(s[m]=b,n(2,s))}return t.$$set=b=>{"datasets"in b&&n(0,i=b.datasets)},[i,r,s,l,a,o,u,h,f,c,d,p]}class Bp extends ce{constructor(e){super(),he(this,e,Op,Lp,ue,{datasets:0})}}function as(t,e,n){const i=t.slice();return i[3]=e[n][0],i[4]=e[n][1],i}function os(t){let e,n=t[3]+"",i,r,s,l;return s=new ti({props:{content:t[4].content}}),{c(){e=N("h2"),i=j(n),r=z(),Y(s.$$.fragment)},l(a){e=M(a,"H2",{});var o=C(e);i=G(o,n),o.forEach(_),r=V(a),W(s.$$.fragment,a)},m(a,o){A(a,e,o),S(e,i),A(a,r,o),J(s,a,o),l=!0},p(a,o){(!l||o&1)&&n!==(n=a[3]+"")&&oe(i,n);const u={};o&1&&(u.content=a[4].content),s.$set(u)},i(a){l||(P(s.$$.fragment,a),l=!0)},o(a){F(s.$$.fragment,a),l=!1},d(a){a&&_(e),a&&_(r),Z(s,a)}}}function us(t){let e,n,i=t[4].type==="md"&&os(t);return{c(){i&&i.c(),e=$()},l(r){i&&i.l(r),e=$()},m(r,s){i&&i.m(r,s),A(r,e,s),n=!0},p(r,s){r[4].type==="md"?i?(i.p(r,s),s&1&&P(i,1)):(i=os(r),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(se(),F(i,1,1,()=>{i=null}),le())},i(r){n||(P(i),n=!0)},o(r){F(i),n=!1},d(r){i&&i.d(r),r&&_(e)}}}function Rp(t){let e,n,i,r,s;return r=new Vu({props:{buzzwords:t[0].view.buzzwords,listTags:t[0].view.buzzwordTags,listAuthors:t[0].view.buzzwordAuthors}}),{c(){e=N("h3"),n=j("Buzzwords"),i=z(),Y(r.$$.fragment)},l(l){e=M(l,"H3",{});var a=C(e);n=G(a,"Buzzwords"),a.forEach(_),i=V(l),W(r.$$.fragment,l)},m(l,a){A(l,e,a),S(e,n),A(l,i,a),J(r,l,a),s=!0},p(l,a){const o={};a&1&&(o.buzzwords=l[0].view.buzzwords),a&1&&(o.listTags=l[0].view.buzzwordTags),a&1&&(o.listAuthors=l[0].view.buzzwordAuthors),r.$set(o)},i(l){s||(P(r.$$.fragment,l),s=!0)},o(l){F(r.$$.fragment,l),s=!1},d(l){l&&_(e),l&&_(i),Z(r,l)}}}function Hp(t){let e,n,i,r,s,l,a,o,u,h;r=new Ta({props:{audioPath:t[1]}});let f="mei"in t[0].view&&fs(t);return{c(){e=N("h3"),n=j("Binaural recording test"),i=z(),Y(r.$$.fragment),s=z(),l=N("h3"),a=j("MEI engraving and playback test"),o=z(),f&&f.c(),u=$()},l(c){e=M(c,"H3",{});var d=C(e);n=G(d,"Binaural recording test"),d.forEach(_),i=V(c),W(r.$$.fragment,c),s=V(c),l=M(c,"H3",{});var p=C(l);a=G(p,"MEI engraving and playback test"),p.forEach(_),o=V(c),f&&f.l(c),u=$()},m(c,d){A(c,e,d),S(e,n),A(c,i,d),J(r,c,d),A(c,s,d),A(c,l,d),S(l,a),A(c,o,d),f&&f.m(c,d),A(c,u,d),h=!0},p(c,d){"mei"in c[0].view?f?(f.p(c,d),d&1&&P(f,1)):(f=fs(c),f.c(),P(f,1),f.m(u.parentNode,u)):f&&(se(),F(f,1,1,()=>{f=null}),le())},i(c){h||(P(r.$$.fragment,c),P(f),h=!0)},o(c){F(r.$$.fragment,c),F(f),h=!1},d(c){c&&_(e),c&&_(i),Z(r,c),c&&_(s),c&&_(l),c&&_(o),f&&f.d(c),c&&_(u)}}}function zp(t){let e,n,i,r={ctx:t,current:null,token:null,hasCatch:!1,pending:jp,then:Up,catch:qp,value:2,blocks:[,,,]};return Ai(n=t[0].view.datasets,r),{c(){e=$(),r.block.c()},l(s){e=$(),r.block.l(s)},m(s,l){A(s,e,l),r.block.m(s,r.anchor=l),r.mount=()=>e.parentNode,r.anchor=e,i=!0},p(s,l){t=s,r.ctx=t,l&1&&n!==(n=t[0].view.datasets)&&Ai(n,r)||Ml(r,t,l)},i(s){i||(P(r.block),i=!0)},o(s){for(let l=0;l<3;l+=1){const a=r.blocks[l];F(a)}i=!1},d(s){s&&_(e),r.block.d(s),r.token=null,r=null}}}function Vp(t){let e,n,i,r,s;return r=new ya({props:{path:"https://raw.githubusercontent.com/NewcastleRSE/beeing-human-tei-data/dev/1623_consolidated.xml"}}),{c(){e=N("h3"),n=j("Test"),i=z(),Y(r.$$.fragment)},l(l){e=M(l,"H3",{});var a=C(e);n=G(a,"Test"),a.forEach(_),i=V(l),W(r.$$.fragment,l)},m(l,a){A(l,e,a),S(e,n),A(l,i,a),J(r,l,a),s=!0},p:R,i(l){s||(P(r.$$.fragment,l),s=!0)},o(l){F(r.$$.fragment,l),s=!1},d(l){l&&_(e),l&&_(i),Z(r,l)}}}function fs(t){let e,n;return e=new wu({props:{meiSvg:t[0].view.mei.svg,meiMidi:t[0].view.mei.midi,timeMap:t[0].view.mei.timeMap}}),{c(){Y(e.$$.fragment)},l(i){W(e.$$.fragment,i)},m(i,r){J(e,i,r),n=!0},p(i,r){const s={};r&1&&(s.meiSvg=i[0].view.mei.svg),r&1&&(s.meiMidi=i[0].view.mei.midi),r&1&&(s.timeMap=i[0].view.mei.timeMap),e.$set(s)},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function qp(t){return{c:R,l:R,m:R,p:R,i:R,o:R,d:R}}function Up(t){let e,n;return e=new Bp({props:{datasets:t[2]}}),{c(){Y(e.$$.fragment)},l(i){W(e.$$.fragment,i)},m(i,r){J(e,i,r),n=!0},p(i,r){const s={};r&1&&(s.datasets=i[2]),e.$set(s)},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){Z(e,i)}}}function jp(t){return{c:R,l:R,m:R,p:R,i:R,o:R,d:R}}function Gp(t){let e,n,i,r,s=t[0].view.title+"",l,a,o,u,h,f,c,d=Object.entries(t[0].view.sections),p=[];for(let g=0;g<d.length;g+=1)p[g]=us(as(t,d,g));const b=g=>F(p[g],1,1,()=>{p[g]=null}),m=[Vp,zp,Hp,Rp],y=[];function v(g,T){return g[0].view.slug==="literature"?0:g[0].view.slug==="science"?1:g[0].view.slug==="music"?2:g[0].view.slug==="connections"?3:-1}return~(u=v(t))&&(h=y[u]=m[u](t)),{c(){e=N("h1"),n=j("View page"),i=z(),r=N("h1"),l=j(s),a=z();for(let g=0;g<p.length;g+=1)p[g].c();o=z(),h&&h.c(),f=$()},l(g){e=M(g,"H1",{});var T=C(e);n=G(T,"View page"),T.forEach(_),i=V(g),r=M(g,"H1",{});var E=C(r);l=G(E,s),E.forEach(_),a=V(g);for(let k=0;k<p.length;k+=1)p[k].l(g);o=V(g),h&&h.l(g),f=$()},m(g,T){A(g,e,T),S(e,n),A(g,i,T),A(g,r,T),S(r,l),A(g,a,T);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(g,T);A(g,o,T),~u&&y[u].m(g,T),A(g,f,T),c=!0},p(g,[T]){if((!c||T&1)&&s!==(s=g[0].view.title+"")&&oe(l,s),T&1){d=Object.entries(g[0].view.sections);let k;for(k=0;k<d.length;k+=1){const I=as(g,d,k);p[k]?(p[k].p(I,T),P(p[k],1)):(p[k]=us(I),p[k].c(),P(p[k],1),p[k].m(o.parentNode,o))}for(se(),k=d.length;k<p.length;k+=1)b(k);le()}let E=u;u=v(g),u===E?~u&&y[u].p(g,T):(h&&(se(),F(y[E],1,1,()=>{y[E]=null}),le()),~u?(h=y[u],h?h.p(g,T):(h=y[u]=m[u](g),h.c()),P(h,1),h.m(f.parentNode,f)):h=null)},i(g){if(!c){for(let T=0;T<d.length;T+=1)P(p[T]);P(h),c=!0}},o(g){p=p.filter(Boolean);for(let T=0;T<p.length;T+=1)F(p[T]);F(h),c=!1},d(g){g&&_(e),g&&_(i),g&&_(r),g&&_(a),Ae(p,g),g&&_(o),~u&&y[u].d(g),g&&_(f)}}}function Xp(t,e,n){let{data:i}=e,r=`${ps}/content/music/media/virtualbarbershop.mp3`;return t.$$set=s=>{"data"in s&&n(0,i=s.data)},[i,r]}class Zp extends ce{constructor(e){super(),he(this,e,Xp,Gp,ue,{data:0})}}export{Zp as component};
