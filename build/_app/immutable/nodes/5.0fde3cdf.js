import{S as q,i as F,s as V,k as v,a as T,D as ue,l as E,h,c as I,m as N,n as $,G as k,b as g,g as _,v as R,d as A,f as U,o as ge,a2 as be,y as D,z as B,A as O,B as j,q as x,r as C,u as X,a3 as Z,J as P,I as ie,K as we,a1 as he,H as _e,e as H,E as ye}from"../chunks/index.b4c0a2ee.js";import{P as Ae,I as ve}from"../chunks/InjectMD.9af2ae20.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.fe7672a9.js";import{b as Y}from"../chunks/paths.17cb4c11.js";const Ee={namespaces:{tei:"http://www.tei-c.org/ns/1.0",teieg:"http://www.tei-c.org/ns/Examples",rng:"http://relaxng.org/ns/structure/1.0"},tei:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],ref:[["[target]",['<a href="$rw@target">',"</a>"]]],graphic:function(r){let e=new Image;return e.src=this.rw(r.getAttribute("url")),r.hasAttribute("width")&&e.setAttribute("width",r.getAttribute("width")),r.hasAttribute("height")&&e.setAttribute("height",r.getAttribute("height")),e},list:[["[type=gloss]",function(r){const e=r.ownerDocument;let i=e.createElement("dl");for(let t of Array.from(r.children))if(t.nodeType==1){if(t.localName=="tei-label"){let n=e.createElement("dt");n.innerHTML=t.innerHTML,i.appendChild(n)}if(t.localName=="tei-item"){let n=e.createElement("dd");n.innerHTML=t.innerHTML,i.appendChild(n)}}return i}]],note:[["[place=end]",function(r){const e=r.ownerDocument;this.noteIndex?this.noteIndex++:this.noteIndex=1;let i="_note_"+this.noteIndex,t=e.createElement("a");t.setAttribute("id","src"+i),t.setAttribute("href","#"+i),t.innerHTML=this.noteIndex;let n=e.createElement("sup");n.appendChild(t);let s=e.querySelector("ol.notes");s||(s=e.createElement("ol"),s.setAttribute("class","notes"),this.dom.appendChild(s));let l=e.createElement("li");return l.id=i,l.innerHTML=r.innerHTML,s.appendChild(l),n}],["_",["(",")"]]],teiHeader:function(r){this.hideContent(r,!1)},title:[["tei-titlestmt>tei-title",function(r){const e=r.ownerDocument;let i=e.createElement("title");i.innerHTML=r.innerText,e.querySelector("head").appendChild(i)}]]},teieg:{egXML:function(r){let i=r.ownerDocument.createElement("pre"),t=this.serialize(r,!0).replace(/</g,"&lt;"),n=t.match(/^[\t ]+/);return n&&(t=t.replace(new RegExp("^"+n[0],"mg"),"")),i.innerHTML=t,i}}};function $e(r,e){let i=1,t=r;for(;t&&t.previousElementSibling!==null&&(!e||t.previousElementSibling.localName==e)&&(i++,t=t.previousElementSibling,!!t.previousElementSibling););return i}function Te(r){const e=r.ownerDocument;let i=t=>{let n=t.nodeType===1?e.createElement(t.nodeName):t.cloneNode(!0);if(t.attributes)for(let s of Array.from(t.attributes))s.name!=="data-processed"&&n.setAttribute(s.name,s.value);for(let s of Array.from(t.childNodes))if(s.nodeType==1){if(!t.hasAttribute("data-empty"))if(s.hasAttribute("data-original")){for(let l of Array.from(s.childNodes)){let o=n.appendChild(i(l));o.nodeType===1&&o.hasAttribute("data-origid")&&(o.setAttribute("id",o.getAttribute("data-origid")),o.removeAttribute("data-origid"))}return n}else n.appendChild(i(s))}else n.appendChild(s.cloneNode());return n};return i(r)}function Ie(r){return r.replace(/ .*$/,"")}function me(r,e=!0){const i=r.ownerDocument;if(r.childNodes.length>0){let t=i.createElement("span");r.appendChild(t),t.setAttribute("hidden",""),t.setAttribute("data-original","");for(let n of Array.from(r.childNodes))if(n!==t){if(n.nodeType===1){n.setAttribute("data-processed","");for(let s of n.querySelectorAll("*"))s.setAttribute("data-processed","")}t.appendChild(r.removeChild(n))}if(e)for(let n of Array.from(t.querySelectorAll("*")))n.hasAttribute("id")&&(n.setAttribute("data-origid",n.getAttribute("id")),n.removeAttribute("id"))}}function Ne(r){return this.rw(this.first(r))}function ke(r,e){let i="";for(let t=0;t<e;t++)i+=r;return i}function Me(r){let e=this.prefixDefs[r.substring(0,r.indexOf(":"))];return r.replace(new RegExp(e.matchPattern),e.replacementPattern)}function xe(r){return this.prefixDefs[r]}function Ce(r){return r.match(/^(?:http|mailto|file|\/|#).*$/)?r:this.base+this.utilities.first(r)}function J(r,e,i){let t="",n=s=>!/[^\t\n\r ]/.test(s);if(!e&&r.nodeType==1){typeof i=="string"&&i!==""?t+=`
`+i+"<":t+="<",t+=r.getAttribute("data-origname");let s=r.hasAttribute("data-origatts")?r.getAttribute("data-origatts").split(" "):[];for(let l of Array.from(r.attributes))!l.name.startsWith("data-")&&!["id","lang","class"].includes(l.name)&&(t+=" "+s.find(function(o){return o.toLowerCase()==l.name})+'="'+l.value+'"'),l.name=="data-xmlns"&&(t+=' xmlns="'+l.value+'"');r.childNodes.length>0?t+=">":t+="/>"}for(let s of Array.from(r.childNodes))switch(s.nodeType){case 1:typeof i=="string"?t+=J(s,!1,i+"  "):t+=J(s,!1,i);break;case 7:t+="<?"+s.nodeValue+"?>";break;case 8:t+="<!--"+s.nodeValue+"-->";break;default:if(e&&n(s.nodeValue)&&(t+=s.nodeValue.replace(/^\s*\n/,"")),typeof i=="string"&&n(s.nodeValue))break;t+=s.nodeValue}return!e&&r.childNodes.length>0&&(typeof i=="string"?t+=`
`+i+"</":t+="</",t+=r.getAttribute("data-origname")+">"),t}function Se(r){return r.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}function K(r){return r.includes(":"),r.replace(/:/,"-").toLowerCase()}function pe(r,e=null,i=!1){try{window.customElements.define(K(r),class extends HTMLElement{constructor(){super(),this.matches(":defined")||(e&&e.call(this),this.setAttribute("data-processed",""))}connectedCallback(){this.hasAttribute("data-processed")||(e&&e.call(this),this.setAttribute("data-processed",""))}})}catch(t){i&&(console.log(K(r)+" couldn't be registered or is already registered."),console.log(t))}}const W=Object.freeze(Object.defineProperty({__proto__:null,copyAndReset:Te,defineCustomElement:pe,first:Ie,getOrdinality:$e,getPrefixDef:xe,hideContent:me,normalizeURI:Ne,repeat:ke,resolveURI:Me,rw:Ce,serialize:J,tagName:K,unEscapeEntities:Se},Symbol.toStringTag,{value:"Module"}));function He(r){if(r.namespaces)for(let e of Object.keys(r.namespaces))!this.namespaces.has(r.namespaces[e])&&!Array.from(this.namespaces.values()).includes(e)&&this.namespaces.set(r.namespaces[e],e);for(let e of this.namespaces.values())if(r[e])for(let i of Object.keys(r[e]))this.behaviors[`${e}:${i}`]=r[e][i];if(r.functions)for(let e of Object.keys(r.functions))this.utilities[e]=r.functions[e];r.handlers&&console.log("Behavior handlers are no longer used."),r.fallbacks&&console.log("Fallback behaviors are no longer used.")}function Pe(r,e,i){let t;if(r===Object(r))for(let n of Object.keys(r))this.namespaces.has(r[n])||(this.namespaces.set(r[n],n),t=n);else t=r;this.behaviors[`${t}:${e}`]=i}function Le(r,e){let i;if(r===Object(r))for(let t of Object.keys(r))this.namespaces.has(r[t])||(this.namespaces.set(r[t],t),i=t);else i=r;delete this.behaviors[`${i}:${e}`]}function De(r,e){const i=r.documentElement;let t=1,n=function(l){return e.has(l.namespaceURI?l.namespaceURI:"")||e.set(l.namespaceURI,"ns"+t++),e.get(l.namespaceURI?l.namespaceURI:"")+":"+l.localName};const s=new Set(Array.from(i.querySelectorAll("*"),n));return s.add(n(i)),s}function Be(r){return Array.from(r.querySelectorAll("*[data-origname]"),e=>e.localName.replace(/(\w+)-.+/,"$1:")+e.getAttribute("data-origname"))}class L{constructor(e){this.options=e||{},this.document=this.options.documentObject?this.options.documentObject:void 0,this.document===void 0&&(typeof window<"u"&&window.document?this.document=window.document:typeof global<"u"&&global.document&&(this.document=global.document)),this.addBehaviors=He.bind(this),this.addBehavior=Pe.bind(this),this.removeBehavior=Le.bind(this),this.utilities={};for(const i of Object.keys(W))["getPrefixDef","rw","resolveURI"].includes(i)?this.utilities[i]=W[i].bind(this):this.utilities[i]=W[i];if(this.els=[],this.namespaces=new Map,this.behaviors={},this.hasStyle=!1,this.prefixDefs=[],this.debug=this.options.debug===!0,this.discardContent=this.options.discardContent===!0,this.options.base)this.base=this.options.base;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch{this.base=""}this.options.omitDefaultBehaviors||this.addBehaviors(Ee),this.options.ignoreFragmentId&&window&&window.removeEventListener("ceteiceanload",L.restorePosition)}getHTML5(e,i,t){return window&&window.location.href.startsWith(this.base)&&e.indexOf("/")>=0&&(this.base=e.replace(/\/[^\/]*$/,"/")),new Promise(function(s,l){let o=new XMLHttpRequest;o.open("GET",e),o.send(),o.onload=function(){this.status>=200&&this.status<300?s(this.response):l(this.statusText)},o.onerror=function(){l(this.statusText)}}).catch(function(s){console.log("Could not get XML file."),this.debug&&console.log(s)}).then(s=>this.makeHTML5(s,i,t))}makeHTML5(e,i,t){return this.XML_dom=new DOMParser().parseFromString(e,"text/xml"),this.domToHTML5(this.XML_dom,i,t)}preprocess(e,i,t){this.els=De(e,this.namespaces);let n=s=>{let l;if(this.namespaces.has(s.namespaceURI?s.namespaceURI:"")){let o=this.namespaces.get(s.namespaceURI?s.namespaceURI:"");l=this.document.createElement(`${o}-${s.localName}`)}else l=this.document.importNode(s,!1);for(let o of Array.from(s.attributes))o.name=="xmlns"?l.setAttribute("data-xmlns",o.value):l.setAttribute(o.name,o.value),o.name=="xml:id"&&l.setAttribute("id",o.value),o.name=="xml:lang"&&l.setAttribute("lang",o.value),o.name=="rendition"&&l.setAttribute("class",o.value.replace(/#/g,""));if(l.setAttribute("data-origname",s.localName),s.hasAttributes()&&l.setAttribute("data-origatts",s.getAttributeNames().join(" ")),s.childNodes.length==0&&l.setAttribute("data-empty",""),s.localName=="head"){let o=e.evaluate("count(ancestor::*[tei:head])",s,function(a){if(a=="tei")return"http://www.tei-c.org/ns/1.0"},1,null);l.setAttribute("data-level",o.numberValue)}if(s.localName=="tagsDecl"){let o=this.document.createElement("style");for(let a of Array.from(s.childNodes))if(a.nodeType==1&&a.localName=="rendition"&&a.getAttribute("scheme")=="css"){let f="";a.hasAttribute("selector")?(f+=a.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+`{
`,f+=a.textContent):(f+="."+a.getAttribute("xml:id")+`{
`,f+=a.textContent),f+=`
}
`,o.appendChild(this.document.createTextNode(f))}o.childNodes.length>0&&(l.appendChild(o),this.hasStyle=!0)}s.localName=="prefixDef"&&(this.prefixDefs.push(s.getAttribute("ident")),this.prefixDefs[s.getAttribute("ident")]={matchPattern:s.getAttribute("matchPattern"),replacementPattern:s.getAttribute("replacementPattern")});for(let o of Array.from(s.childNodes))o.nodeType==1?l.appendChild(n(o)):l.appendChild(o.cloneNode());return t&&t(l,s),l};if(this.dom=n(e.documentElement),this.utilities.dom=this.dom,i)i(this.dom,this),window&&window.dispatchEvent(G);else return typeof window<"u"&&window.dispatchEvent(G),this.dom}domToHTML5(e,i,t){if(this.preprocess(e,null,t),this.applyBehaviors(),this.done=!0,i)i(this.dom,this),window&&window.dispatchEvent(G);else return typeof window<"u"&&window.dispatchEvent(G),this.dom}processPage(){this.els=Be(this.document),this.applyBehaviors()}unsetNamespace(e){this.namespaces.delete(e)}setBaseUrl(e){this.base=e}append(e,i){let t=this;if(i){let n=e.call(t.utilities,i);n&&!t.childExists(i.firstElementChild,n.nodeName)&&t.appendBasic(i,n)}else return function(){if(!this.hasAttribute("data-processed")){let n=e.call(t.utilities,this);n&&!t.childExists(this.firstElementChild,n.nodeName)&&t.appendBasic(this,n)}}}appendBasic(e,i){this.discardContent?e.innerHTML="":me(e,!0),e.appendChild(i)}bName(e){return e.tagName.substring(0,e.tagName.indexOf("-")).toLowerCase()+":"+e.getAttribute("data-origname")}childExists(e,i){return e&&e.nodeName==i?!0:e&&e.nextElementSibling&&this.childExists(e.nextElementSibling,i)}decorator(e){if(Array.isArray(e)&&e.length==0)return function(t){};if(Array.isArray(e)&&!Array.isArray(e[0]))return this.applyDecorator(e);let i=this;return function(t){for(let n of e)if(t.matches(n[0])||n[0]==="_")return Array.isArray(n[1])?i.decorator(n[1]).call(this,t):n[1].call(this,t)}}applyDecorator(e){let i=this;return function(t){let n=[];for(let s=0;s<e.length;s++)n.push(i.template(e[s],t));return i.insert(t,n)}}getFallback(e,i){if(e[i])return e[i]instanceof Function?e[i]:this.decorator(e[i])}getHandler(e,i){if(e[i])return e[i]instanceof Function?this.append(e[i]):this.append(this.decorator(e[i]))}insert(e,i){let t=this.document.createElement("span");for(let n of Array.from(e.childNodes))n.nodeType===1&&!n.hasAttribute("data-processed")&&this.processElement(n);if(i[0].match("<[^>]+>")&&i[1]&&i[1].match("<[^>]+>"))t.innerHTML=i[0]+e.innerHTML+(i[1]?i[1]:"");else{t.innerHTML=i[0],t.setAttribute("data-before",i[0].replace(/<[^>]+>/g,"").length);for(let n of Array.from(e.childNodes))t.appendChild(n.cloneNode(!0));i.length>1&&(t.innerHTML+=i[1],t.setAttribute("data-after",i[1].replace(/<[^>]+>/g,"").length))}return t}processElement(e){if(e.hasAttribute("data-origname")&&!e.hasAttribute("data-processed")){let i=this.getFallback(this.bName(e));i&&(this.append(i,e),e.setAttribute("data-processed",""))}for(let i of Array.from(e.childNodes))i.nodeType===1&&this.processElement(i)}template(e,i){let t=e;if(e.search(/\$(\w*)(@([a-zA-Z:]+))/)){let n=/\$(\w*)@([a-zA-Z:]+)/g,s;for(;s=n.exec(e);)i.hasAttribute(s[2])?s[1]&&this.utilities[s[1]]?t=t.replace(s[0],this.utilities[s[1]](i.getAttribute(s[2]))):t=t.replace(s[0],i.getAttribute(s[2])):t=t.replace(s[0],"")}return t}applyBehaviors(){typeof window<"u"&&window.customElements?this.define.call(this,this.els):this.fallback.call(this,this.els)}define(e){for(let i of e){const t=this.getHandler(this.behaviors,i);pe(i,t,this.debug)}}fallback(e){for(let i of e){let t=this.getFallback(this.behaviors,i);if(t)for(let n of Array.from((this.dom&&!this.done?this.dom:this.document).getElementsByTagName(K(i))))n.hasAttribute("data-processed")||this.append(t,n)}}static savePosition(){window.sessionStorage.setItem(window.location+"-scroll",window.scrollY)}static restorePosition(){if(window.location.hash)setTimeout(function(){let e=this.document.querySelector(window.decodeURI(window.location.hash));e&&e.scrollIntoView()},100);else{let e;(e=window.sessionStorage.getItem(window.location+"-scroll"))&&setTimeout(function(){window.scrollTo(0,e)},100)}}}try{if(typeof window<"u"){window.CETEI=L,window.addEventListener("beforeunload",L.savePosition);var G=new Event("ceteiceanload");window.addEventListener("ceteiceanload",L.restorePosition)}}catch(r){console.log(r)}let Oe={tei:{note:[["[type=gloss]",function(r){this.noteIndex?this.noteIndex++:this.noteIndex=1;let e="note"+this.noteIndex,i=document.createElement("a");i.setAttribute("id","src"+e),i.setAttribute("href","#"+e),i.innerHTML=this.noteIndex;let t=document.createElement("sup");t.appendChild(i);let n=this.dom.querySelector("ol.notes");n||(n=document.createElement("ol"),n.setAttribute("class","notes"),this.dom.appendChild(n));let s=document.createElement("li");return s.id=e,s.innerHTML='<a href="#src'+e+'">^</a> '+r.innerHTML,n.appendChild(s),t}],["[type=side-note]",function(r){r.style.fontSize="0.75em",r.style.marginLeft="1em",r.style.fontStyle="italic"}]]}};const{document:ne}=be;function re(r){let e,i;return e=new Ae({}),{c(){D(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){O(e,t,n),i=!0},i(t){i||(_(e.$$.fragment,t),i=!0)},o(t){A(e.$$.fragment,t),i=!1},d(t){j(e,t)}}}function se(r){let e,i;return{c(){e=v("p"),i=x(r[1]),this.h()},l(t){e=E(t,"P",{"data-testid":!0});var n=N(e);i=C(n,r[1]),n.forEach(h),this.h()},h(){$(e,"data-testid","error-message")},m(t,n){g(t,e,n),k(e,i)},p(t,n){n&2&&X(i,t[1])},d(t){t&&h(e)}}}function je(r){let e,i,t,n,s,l=!r[0]&&re(),o=r[1]&&se(r);return{c(){e=v("link"),i=T(),t=v("div"),l&&l.c(),n=T(),o&&o.c(),this.h()},l(a){const f=ue("svelte-1rxmp49",ne.head);e=E(f,"LINK",{rel:!0,type:!0,href:!0}),f.forEach(h),i=I(a),t=E(a,"DIV",{id:!0,"data-testid":!0});var m=N(t);l&&l.l(m),n=I(m),o&&o.l(m),m.forEach(h),this.h()},h(){$(e,"rel","stylesheet"),$(e,"type","text/css"),$(e,"href",Y+"/additional-style/TEIstyle.css"),$(t,"id","TEI-container"),$(t,"data-testid","TEI-container")},m(a,f){k(ne.head,e),g(a,i,f),g(a,t,f),l&&l.m(t,null),k(t,n),o&&o.m(t,null),s=!0},p(a,[f]){a[0]?l&&(R(),A(l,1,1,()=>{l=null}),U()):l?f&1&&_(l,1):(l=re(),l.c(),_(l,1),l.m(t,n)),a[1]?o?o.p(a,f):(o=se(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i(a){s||(_(l),s=!0)},o(a){A(l),s=!1},d(a){h(e),a&&h(i),a&&h(t),l&&l.d(),o&&o.d()}}}function Re(r,e,i){let t=!1,n,{path:s=""}=e;return ge(async()=>{try{if(s==="")throw"No path specified";var l=new L;l.addBehaviors(Oe),l.getHTML5(s,function(o){document.getElementById("TEI-container").appendChild(o)}),i(0,t=!0)}catch(o){i(1,n=o.toString()),i(0,t=!0);return}}),r.$$set=l=>{"path"in l&&i(2,s=l.path)},[t,n,s]}class Ue extends q{constructor(e){super(),F(this,e,Re,je,V,{path:2})}}function qe(r){let e,i,t;return{c(){e=v("audio"),i=v("source"),this.h()},l(n){e=E(n,"AUDIO",{});var s=N(e);i=E(s,"SOURCE",{src:!0,type:!0}),s.forEach(h),this.h()},h(){Z(i.src,t=r[0])||$(i,"src",t),$(i,"type","audio/mpeg"),e.controls=!0},m(n,s){g(n,e,s),k(e,i)},p(n,[s]){s&1&&!Z(i.src,t=n[0])&&$(i,"src",t)},i:P,o:P,d(n){n&&h(e)}}}function Fe(r,e,i){let{audioPath:t}=e;return r.$$set=n=>{"audioPath"in n&&i(0,t=n.audioPath)},[t]}class Ve extends q{constructor(e){super(),F(this,e,Fe,qe,V,{audioPath:0})}}function ze(r){let e,i,t,n,s,l,o,a,f,m;return{c(){e=v("script"),t=T(),n=v("button"),s=x("Play"),l=T(),o=v("button"),a=x("Stop"),this.h()},l(u){const d=ue("svelte-7awyd0",document.head);e=E(d,"SCRIPT",{src:!0});var w=N(e);w.forEach(h),d.forEach(h),t=I(u),n=E(u,"BUTTON",{id:!0});var p=N(n);s=C(p,"Play"),p.forEach(h),l=I(u),o=E(u,"BUTTON",{id:!0});var z=N(o);a=C(z,"Stop"),z.forEach(h),this.h()},h(){Z(e.src,i="https://www.midijs.net/lib/midi.js")||$(e,"src",i),$(n,"id","playMIDI"),$(o,"id","stopMIDI")},m(u,d){k(document.head,e),g(u,t,d),g(u,n,d),k(n,s),g(u,l,d),g(u,o,d),k(o,a),f||(m=[ie(n,"click",r[0]),ie(o,"click",r[1])],f=!0)},p:P,i:P,o:P,d(u){h(e),u&&h(t),u&&h(n),u&&h(l),u&&h(o),f=!1,we(m)}}}function Ge(r,e,i){let{midiFile:t=void 0}=e;const n=function(){console.log("start"),MIDIjs.play(t)},s=function(){console.log("stop"),MIDIjs.stop()};return r.$$set=l=>{"midiFile"in l&&i(2,t=l.midiFile)},[n,s,t]}class Ke extends q{constructor(e){super(),F(this,e,Ge,ze,V,{midiFile:2})}}function oe(r,e,i){const t=r.slice();return t[2]=e[i],t}function le(r){let e,i=r[2]+"",t;return{c(){e=new _e(!1),t=H(),this.h()},l(n){e=ye(n,!1),t=H(),this.h()},h(){e.a=t},m(n,s){e.m(i,n,s),g(n,t,s)},p(n,s){s&1&&i!==(i=n[2]+"")&&e.p(i)},d(n){n&&h(t),n&&e.d()}}}function We(r){let e,i,t,n;e=new Ke({props:{midiFile:r[1]}});let s=r[0],l=[];for(let o=0;o<s.length;o+=1)l[o]=le(oe(r,s,o));return{c(){D(e.$$.fragment),i=T(),t=v("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){B(e.$$.fragment,o),i=I(o),t=E(o,"DIV",{id:!0});var a=N(t);for(let f=0;f<l.length;f+=1)l[f].l(a);a.forEach(h),this.h()},h(){$(t,"id","MEI-container")},m(o,a){O(e,o,a),g(o,i,a),g(o,t,a);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);n=!0},p(o,[a]){const f={};if(a&2&&(f.midiFile=o[1]),e.$set(f),a&1){s=o[0];let m;for(m=0;m<s.length;m+=1){const u=oe(o,s,m);l[m]?l[m].p(u,a):(l[m]=le(u),l[m].c(),l[m].m(t,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=s.length}},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){A(e.$$.fragment,o),n=!1},d(o){j(e,o),o&&h(i),o&&h(t),he(l,o)}}}function Ze(r,e,i){let{meiSvg:t=void 0}=e,{meiMidi:n=void 0}=e;return r.$$set=s=>{"meiSvg"in s&&i(0,t=s.meiSvg),"meiMidi"in s&&i(1,n=s.meiMidi)},[t,n]}class Je extends q{constructor(e){super(),F(this,e,Ze,We,V,{meiSvg:0,meiMidi:1})}}function ae(r,e,i){const t=r.slice();return t[1]=e[i][0],t[2]=e[i][1],t}function fe(r){let e,i=r[1]+"",t,n,s,l;return s=new ve({props:{content:r[2].content}}),{c(){e=v("h2"),t=x(i),n=T(),D(s.$$.fragment)},l(o){e=E(o,"H2",{});var a=N(e);t=C(a,i),a.forEach(h),n=I(o),B(s.$$.fragment,o)},m(o,a){g(o,e,a),k(e,t),g(o,n,a),O(s,o,a),l=!0},p(o,a){(!l||a&1)&&i!==(i=o[1]+"")&&X(t,i);const f={};a&1&&(f.content=o[2].content),s.$set(f)},i(o){l||(_(s.$$.fragment,o),l=!0)},o(o){A(s.$$.fragment,o),l=!1},d(o){o&&h(e),o&&h(n),j(s,o)}}}function ce(r){let e,i,t=r[2].type==="md"&&fe(r);return{c(){t&&t.c(),e=H()},l(n){t&&t.l(n),e=H()},m(n,s){t&&t.m(n,s),g(n,e,s),i=!0},p(n,s){n[2].type==="md"?t?(t.p(n,s),s&1&&_(t,1)):(t=fe(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(R(),A(t,1,1,()=>{t=null}),U())},i(n){i||(_(t),i=!0)},o(n){A(t),i=!1},d(n){t&&t.d(n),n&&h(e)}}}function Xe(r){let e,i,t,n,s,l,o,a,f,m;n=new Ve({props:{audioPath:Y+"/content/music/media/virtualbarbershop.mp3"}});let u="mei"in r[0].view&&de(r);return{c(){e=v("h3"),i=x("Binaural recording test"),t=T(),D(n.$$.fragment),s=T(),l=v("h3"),o=x("MEI engraving and playback test"),a=T(),u&&u.c(),f=H()},l(d){e=E(d,"H3",{});var w=N(e);i=C(w,"Binaural recording test"),w.forEach(h),t=I(d),B(n.$$.fragment,d),s=I(d),l=E(d,"H3",{});var p=N(l);o=C(p,"MEI engraving and playback test"),p.forEach(h),a=I(d),u&&u.l(d),f=H()},m(d,w){g(d,e,w),k(e,i),g(d,t,w),O(n,d,w),g(d,s,w),g(d,l,w),k(l,o),g(d,a,w),u&&u.m(d,w),g(d,f,w),m=!0},p(d,w){"mei"in d[0].view?u?(u.p(d,w),w&1&&_(u,1)):(u=de(d),u.c(),_(u,1),u.m(f.parentNode,f)):u&&(R(),A(u,1,1,()=>{u=null}),U())},i(d){m||(_(n.$$.fragment,d),_(u),m=!0)},o(d){A(n.$$.fragment,d),A(u),m=!1},d(d){d&&h(e),d&&h(t),j(n,d),d&&h(s),d&&h(l),d&&h(a),u&&u.d(d),d&&h(f)}}}function Ye(r){let e,i,t,n,s;return n=new Ue({props:{path:Y+"/content/literature/data/Coopers_hill_1655.xml"}}),{c(){e=v("h3"),i=x("Test"),t=T(),D(n.$$.fragment)},l(l){e=E(l,"H3",{});var o=N(e);i=C(o,"Test"),o.forEach(h),t=I(l),B(n.$$.fragment,l)},m(l,o){g(l,e,o),k(e,i),g(l,t,o),O(n,l,o),s=!0},p:P,i(l){s||(_(n.$$.fragment,l),s=!0)},o(l){A(n.$$.fragment,l),s=!1},d(l){l&&h(e),l&&h(t),j(n,l)}}}function de(r){let e,i;return e=new Je({props:{meiSvg:r[0].view.mei.svg,meiMidi:r[0].view.mei.midi}}),{c(){D(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){O(e,t,n),i=!0},p(t,n){const s={};n&1&&(s.meiSvg=t[0].view.mei.svg),n&1&&(s.meiMidi=t[0].view.mei.midi),e.$set(s)},i(t){i||(_(e.$$.fragment,t),i=!0)},o(t){A(e.$$.fragment,t),i=!1},d(t){j(e,t)}}}function Qe(r){let e,i,t,n,s=r[0].view.title+"",l,o,a,f,m,u,d,w=Object.entries(r[0].view.sections),p=[];for(let c=0;c<w.length;c+=1)p[c]=ce(ae(r,w,c));const z=c=>A(p[c],1,1,()=>{p[c]=null}),Q=[Ye,Xe],S=[];function ee(c,b){return c[0].view.slug==="literature"?0:c[0].view.slug==="music"?1:-1}return~(f=ee(r))&&(m=S[f]=Q[f](r)),{c(){e=v("h1"),i=x("View page"),t=T(),n=v("h1"),l=x(s),o=T();for(let c=0;c<p.length;c+=1)p[c].c();a=T(),m&&m.c(),u=H()},l(c){e=E(c,"H1",{});var b=N(e);i=C(b,"View page"),b.forEach(h),t=I(c),n=E(c,"H1",{});var M=N(n);l=C(M,s),M.forEach(h),o=I(c);for(let y=0;y<p.length;y+=1)p[y].l(c);a=I(c),m&&m.l(c),u=H()},m(c,b){g(c,e,b),k(e,i),g(c,t,b),g(c,n,b),k(n,l),g(c,o,b);for(let M=0;M<p.length;M+=1)p[M]&&p[M].m(c,b);g(c,a,b),~f&&S[f].m(c,b),g(c,u,b),d=!0},p(c,[b]){if((!d||b&1)&&s!==(s=c[0].view.title+"")&&X(l,s),b&1){w=Object.entries(c[0].view.sections);let y;for(y=0;y<w.length;y+=1){const te=ae(c,w,y);p[y]?(p[y].p(te,b),_(p[y],1)):(p[y]=ce(te),p[y].c(),_(p[y],1),p[y].m(a.parentNode,a))}for(R(),y=w.length;y<p.length;y+=1)z(y);U()}let M=f;f=ee(c),f===M?~f&&S[f].p(c,b):(m&&(R(),A(S[M],1,1,()=>{S[M]=null}),U()),~f?(m=S[f],m?m.p(c,b):(m=S[f]=Q[f](c),m.c()),_(m,1),m.m(u.parentNode,u)):m=null)},i(c){if(!d){for(let b=0;b<w.length;b+=1)_(p[b]);_(m),d=!0}},o(c){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)A(p[b]);A(m),d=!1},d(c){c&&h(e),c&&h(t),c&&h(n),c&&h(o),he(p,c),c&&h(a),~f&&S[f].d(c),c&&h(u)}}}function et(r,e,i){let{data:t}=e;return r.$$set=n=>{"data"in n&&i(0,t=n.data)},[t]}class st extends q{constructor(e){super(),F(this,e,et,Qe,V,{data:0})}}export{st as component};
