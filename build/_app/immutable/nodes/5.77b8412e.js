import{S as X,i as Y,s as $,M as G,k as C,a as L,l as M,m as x,c as O,h as b,X as me,n as S,b as I,G as P,a2 as Ke,I as K,g as E,v as W,d as T,f as J,Y as Le,K as Tt,Z as Ge,a3 as Zt,j as Xt,N as pe,Q as Ct,R as Mt,T as xt,U as Nt,a1 as Oe,P as ve,a4 as Yt,D as Pt,o as De,a5 as $t,y as R,z as U,A as q,B as V,q as z,r as Q,u as se,a6 as Ee,J as oe,e as H,a7 as en,C as tn,F as nn,a8 as We,a9 as rn,w as Je,$ as Ze,a0 as Xe,H as sn,E as on}from"../chunks/index.bc1a75b2.js";import{P as ln,I as an}from"../chunks/InjectMD.b0363a29.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.242dca88.js";import{b as He}from"../chunks/paths.53f21865.js";const cn=t=>({}),Ye=t=>({});function $e(t,e,n){const r=t.slice();return r[23]=e[n],r}function et(t){let e,n;const r=t[15].default,i=Ct(r,t,t[14],null);return{c(){e=C("label"),i&&i.c(),this.h()},l(s){e=M(s,"LABEL",{class:!0,for:!0});var o=x(e);i&&i.l(o),o.forEach(b),this.h()},h(){S(e,"class","range-slider-label "+dn),S(e,"for",t[2])},m(s,o){I(s,e,o),i&&i.m(e,null),n=!0},p(s,o){i&&i.p&&(!n||o&16384)&&Mt(i,r,s,s[14],n?Nt(r,s[14],o,null):xt(s[14]),null),(!n||o&4)&&S(e,"for",s[2])},i(s){n||(E(i,s),n=!0)},o(s){T(i,s),n=!1},d(s){s&&b(e),i&&i.d(s)}}}function tt(t){let e,n,r=t[8],i=[];for(let s=0;s<r.length;s+=1)i[s]=nt($e(t,r,s));return{c(){e=C("datalist");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=M(s,"DATALIST",{id:!0,class:!0});var o=x(e);for(let l=0;l<i.length;l+=1)i[l].l(o);o.forEach(b),this.h()},h(){S(e,"id",n="tickmarks-"+t[2]),S(e,"class","range-slider-ticks")},m(s,o){I(s,e,o);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null)},p(s,o){if(o&256){r=s[8];let l;for(l=0;l<r.length;l+=1){const a=$e(s,r,l);i[l]?i[l].p(a,o):(i[l]=nt(a),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}o&4&&n!==(n="tickmarks-"+s[2])&&S(e,"id",n)},d(s){s&&b(e),Oe(i,s)}}}function nt(t){let e,n,r;return{c(){e=C("option"),this.h()},l(i){e=M(i,"OPTION",{label:!0}),x(e).forEach(b),this.h()},h(){e.__value=n=t[23],e.value=e.__value,S(e,"label",r=t[23])},m(i,s){I(i,e,s)},p(i,s){s&256&&n!==(n=i[23])&&(e.__value=n,e.value=e.__value),s&256&&r!==(r=i[23])&&S(e,"label",r)},d(i){i&&b(e)}}}function it(t){let e,n;const r=t[15].trail,i=Ct(r,t,t[14],Ye);return{c(){e=C("div"),i&&i.c(),this.h()},l(s){e=M(s,"DIV",{class:!0});var o=x(e);i&&i.l(o),o.forEach(b),this.h()},h(){S(e,"class","range-slider-trail")},m(s,o){I(s,e,o),i&&i.m(e,null),n=!0},p(s,o){i&&i.p&&(!n||o&16384)&&Mt(i,r,s,s[14],n?Nt(r,s[14],o,cn):xt(s[14]),Ye)},i(s){n||(E(i,s),n=!0)},o(s){T(i,s),n=!1},d(s){s&&b(e),i&&i.d(s)}}}function fn(t){let e,n,r,i,s,o,l,a,c,f,g,h,m=t[12].default&&et(t),_=[{type:"range"},{id:t[2]},{name:t[1]},{class:s="range-slider-input "+t[9]},{list:o="tickmarks-"+t[2]},{"aria-label":t[7]},{min:t[3]},{max:t[4]},{step:t[5]},t[11]()],A={};for(let d=0;d<_.length;d+=1)A=G(A,_[d]);let k=t[6]&&t[8]&&t[8].length&&tt(t),y=t[12].trail&&it(t);return{c(){e=C("div"),m&&m.c(),n=L(),r=C("div"),i=C("input"),l=L(),k&&k.c(),a=L(),y&&y.c(),this.h()},l(d){e=M(d,"DIV",{class:!0,"data-testid":!0});var u=x(e);m&&m.l(u),n=O(u),r=M(u,"DIV",{class:!0});var v=x(r);i=M(v,"INPUT",{type:!0,id:!0,name:!0,class:!0,list:!0,"aria-label":!0,min:!0,max:!0,step:!0}),l=O(v),k&&k.l(v),v.forEach(b),a=O(u),y&&y.l(u),u.forEach(b),this.h()},h(){me(i,A),S(r,"class","range-content "+hn),S(e,"class",c="range-slider "+t[10]),S(e,"data-testid","range-slider")},m(d,u){I(d,e,u),m&&m.m(e,null),P(e,n),P(e,r),P(r,i),i.autofocus&&i.focus(),Ke(i,t[0]),P(r,l),k&&k.m(r,null),P(e,a),y&&y.m(e,null),f=!0,g||(h=[K(i,"change",t[19]),K(i,"input",t[19]),K(i,"click",t[16]),K(i,"change",t[17]),K(i,"blur",t[18])],g=!0)},p(d,[u]){d[12].default?m?(m.p(d,u),u&4096&&E(m,1)):(m=et(d),m.c(),E(m,1),m.m(e,n)):m&&(W(),T(m,1,1,()=>{m=null}),J()),me(i,A=Le(_,[{type:"range"},(!f||u&4)&&{id:d[2]},(!f||u&2)&&{name:d[1]},(!f||u&512&&s!==(s="range-slider-input "+d[9]))&&{class:s},(!f||u&4&&o!==(o="tickmarks-"+d[2]))&&{list:o},(!f||u&128)&&{"aria-label":d[7]},(!f||u&8)&&{min:d[3]},(!f||u&16)&&{max:d[4]},(!f||u&32)&&{step:d[5]},d[11]()])),u&1&&Ke(i,d[0]),d[6]&&d[8]&&d[8].length?k?k.p(d,u):(k=tt(d),k.c(),k.m(r,null)):k&&(k.d(1),k=null),d[12].trail?y?(y.p(d,u),u&4096&&E(y,1)):(y=it(d),y.c(),E(y,1),y.m(e,null)):y&&(W(),T(y,1,1,()=>{y=null}),J()),(!f||u&1024&&c!==(c="range-slider "+d[10]))&&S(e,"class",c)},i(d){f||(E(m),E(y),f=!0)},o(d){T(m),T(y),f=!1},d(d){d&&b(e),m&&m.d(),k&&k.d(),y&&y.d(),g=!1,Tt(h)}}}const un="space-y-2",dn="",hn="flex justify-center py-2",mn="w-full h-2";function pn(t,e,n){let r,i;const s=["name","id","value","min","max","step","ticked","accent","label"];let o=Ge(e,s),{$$slots:l={},$$scope:a}=e;const c=Zt(l);let{name:f}=e,{id:g=String(Math.random())}=e,{value:h=0}=e,{min:m=0}=e,{max:_=100}=e,{step:A=1}=e,{ticked:k=!1}=e,{accent:y="accent-surface-900 dark:accent-surface-50"}=e,{label:d=""}=e,u;function v(){k!=!1&&n(8,u=Array.from({length:_-m+1},(p,D)=>D+m))}k&&v(),Xt(()=>{v()});function N(){return delete o.class,o}function w(p){ve.call(this,t,p)}function j(p){ve.call(this,t,p)}function B(p){ve.call(this,t,p)}function F(){h=Yt(this.value),n(0,h)}return t.$$set=p=>{n(22,e=G(G({},e),pe(p))),n(21,o=Ge(e,s)),"name"in p&&n(1,f=p.name),"id"in p&&n(2,g=p.id),"value"in p&&n(0,h=p.value),"min"in p&&n(3,m=p.min),"max"in p&&n(4,_=p.max),"step"in p&&n(5,A=p.step),"ticked"in p&&n(6,k=p.ticked),"accent"in p&&n(13,y=p.accent),"label"in p&&n(7,d=p.label),"$$scope"in p&&n(14,a=p.$$scope)},t.$$.update=()=>{n(10,r=`${un} ${e.class??""}`),t.$$.dirty&8192&&n(9,i=`${mn} ${y}`)},e=pe(e),[h,f,g,m,_,A,k,d,u,i,r,N,c,y,a,l,w,j,B,F]}class gn extends X{constructor(e){super(),Y(this,e,pn,fn,$,{name:1,id:2,value:0,min:3,max:4,step:5,ticked:6,accent:13,label:7})}}const bn={namespaces:{tei:"http://www.tei-c.org/ns/1.0",teieg:"http://www.tei-c.org/ns/Examples",rng:"http://relaxng.org/ns/structure/1.0"},tei:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],ref:[["[target]",['<a href="$rw@target">',"</a>"]]],graphic:function(t){let e=new Image;return e.src=this.rw(t.getAttribute("url")),t.hasAttribute("width")&&e.setAttribute("width",t.getAttribute("width")),t.hasAttribute("height")&&e.setAttribute("height",t.getAttribute("height")),e},list:[["[type=gloss]",function(t){const e=t.ownerDocument;let n=e.createElement("dl");for(let r of Array.from(t.children))if(r.nodeType==1){if(r.localName=="tei-label"){let i=e.createElement("dt");i.innerHTML=r.innerHTML,n.appendChild(i)}if(r.localName=="tei-item"){let i=e.createElement("dd");i.innerHTML=r.innerHTML,n.appendChild(i)}}return n}]],note:[["[place=end]",function(t){const e=t.ownerDocument;this.noteIndex?this.noteIndex++:this.noteIndex=1;let n="_note_"+this.noteIndex,r=e.createElement("a");r.setAttribute("id","src"+n),r.setAttribute("href","#"+n),r.innerHTML=this.noteIndex;let i=e.createElement("sup");i.appendChild(r);let s=e.querySelector("ol.notes");s||(s=e.createElement("ol"),s.setAttribute("class","notes"),this.dom.appendChild(s));let o=e.createElement("li");return o.id=n,o.innerHTML=t.innerHTML,s.appendChild(o),i}],["_",["(",")"]]],teiHeader:function(t){this.hideContent(t,!1)},title:[["tei-titlestmt>tei-title",function(t){const e=t.ownerDocument;let n=e.createElement("title");n.innerHTML=t.innerText,e.querySelector("head").appendChild(n)}]]},teieg:{egXML:function(t){let n=t.ownerDocument.createElement("pre"),r=this.serialize(t,!0).replace(/</g,"&lt;"),i=r.match(/^[\t ]+/);return i&&(r=r.replace(new RegExp("^"+i[0],"mg"),"")),n.innerHTML=r,n}}};function _n(t,e){let n=1,r=t;for(;r&&r.previousElementSibling!==null&&(!e||r.previousElementSibling.localName==e)&&(n++,r=r.previousElementSibling,!!r.previousElementSibling););return n}function yn(t){const e=t.ownerDocument;let n=r=>{let i=r.nodeType===1?e.createElement(r.nodeName):r.cloneNode(!0);if(r.attributes)for(let s of Array.from(r.attributes))s.name!=="data-processed"&&i.setAttribute(s.name,s.value);for(let s of Array.from(r.childNodes))if(s.nodeType==1){if(!r.hasAttribute("data-empty"))if(s.hasAttribute("data-original")){for(let o of Array.from(s.childNodes)){let l=i.appendChild(n(o));l.nodeType===1&&l.hasAttribute("data-origid")&&(l.setAttribute("id",l.getAttribute("data-origid")),l.removeAttribute("data-origid"))}return i}else i.appendChild(n(s))}else i.appendChild(s.cloneNode());return i};return n(t)}function wn(t){return t.replace(/ .*$/,"")}function jt(t,e=!0){const n=t.ownerDocument;if(t.childNodes.length>0){let r=n.createElement("span");t.appendChild(r),r.setAttribute("hidden",""),r.setAttribute("data-original","");for(let i of Array.from(t.childNodes))if(i!==r){if(i.nodeType===1){i.setAttribute("data-processed","");for(let s of i.querySelectorAll("*"))s.setAttribute("data-processed","")}r.appendChild(t.removeChild(i))}if(e)for(let i of Array.from(r.querySelectorAll("*")))i.hasAttribute("id")&&(i.setAttribute("data-origid",i.getAttribute("id")),i.removeAttribute("id"))}}function vn(t){return this.rw(this.first(t))}function In(t,e){let n="";for(let r=0;r<e;r++)n+=t;return n}function kn(t){let e=this.prefixDefs[t.substring(0,t.indexOf(":"))];return t.replace(new RegExp(e.matchPattern),e.replacementPattern)}function An(t){return this.prefixDefs[t]}function En(t){return t.match(/^(?:http|mailto|file|\/|#).*$/)?t:this.base+this.utilities.first(t)}function Se(t,e,n){let r="",i=s=>!/[^\t\n\r ]/.test(s);if(!e&&t.nodeType==1){typeof n=="string"&&n!==""?r+=`
`+n+"<":r+="<",r+=t.getAttribute("data-origname");let s=t.hasAttribute("data-origatts")?t.getAttribute("data-origatts").split(" "):[];for(let o of Array.from(t.attributes))!o.name.startsWith("data-")&&!["id","lang","class"].includes(o.name)&&(r+=" "+s.find(function(l){return l.toLowerCase()==o.name})+'="'+o.value+'"'),o.name=="data-xmlns"&&(r+=' xmlns="'+o.value+'"');t.childNodes.length>0?r+=">":r+="/>"}for(let s of Array.from(t.childNodes))switch(s.nodeType){case 1:typeof n=="string"?r+=Se(s,!1,n+"  "):r+=Se(s,!1,n);break;case 7:r+="<?"+s.nodeValue+"?>";break;case 8:r+="<!--"+s.nodeValue+"-->";break;default:if(e&&i(s.nodeValue)&&(r+=s.nodeValue.replace(/^\s*\n/,"")),typeof n=="string"&&i(s.nodeValue))break;r+=s.nodeValue}return!e&&t.childNodes.length>0&&(typeof n=="string"?r+=`
`+n+"</":r+="</",r+=t.getAttribute("data-origname")+">"),r}function Sn(t){return t.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}function ge(t){return t.includes(":"),t.replace(/:/,"-").toLowerCase()}function Lt(t,e=null,n=!1){try{window.customElements.define(ge(t),class extends HTMLElement{constructor(){super(),this.matches(":defined")||(e&&e.call(this),this.setAttribute("data-processed",""))}connectedCallback(){this.hasAttribute("data-processed")||(e&&e.call(this),this.setAttribute("data-processed",""))}})}catch(r){n&&(console.log(ge(t)+" couldn't be registered or is already registered."),console.log(r))}}const Ie=Object.freeze(Object.defineProperty({__proto__:null,copyAndReset:yn,defineCustomElement:Lt,first:wn,getOrdinality:_n,getPrefixDef:An,hideContent:jt,normalizeURI:vn,repeat:In,resolveURI:kn,rw:En,serialize:Se,tagName:ge,unEscapeEntities:Sn},Symbol.toStringTag,{value:"Module"}));function Tn(t){if(t.namespaces)for(let e of Object.keys(t.namespaces))!this.namespaces.has(t.namespaces[e])&&!Array.from(this.namespaces.values()).includes(e)&&this.namespaces.set(t.namespaces[e],e);for(let e of this.namespaces.values())if(t[e])for(let n of Object.keys(t[e]))this.behaviors[`${e}:${n}`]=t[e][n];if(t.functions)for(let e of Object.keys(t.functions))this.utilities[e]=t.functions[e];t.handlers&&console.log("Behavior handlers are no longer used."),t.fallbacks&&console.log("Fallback behaviors are no longer used.")}function Cn(t,e,n){let r;if(t===Object(t))for(let i of Object.keys(t))this.namespaces.has(t[i])||(this.namespaces.set(t[i],i),r=i);else r=t;this.behaviors[`${r}:${e}`]=n}function Mn(t,e){let n;if(t===Object(t))for(let r of Object.keys(t))this.namespaces.has(t[r])||(this.namespaces.set(t[r],r),n=r);else n=t;delete this.behaviors[`${n}:${e}`]}function xn(t,e){const n=t.documentElement;let r=1,i=function(o){return e.has(o.namespaceURI?o.namespaceURI:"")||e.set(o.namespaceURI,"ns"+r++),e.get(o.namespaceURI?o.namespaceURI:"")+":"+o.localName};const s=new Set(Array.from(n.querySelectorAll("*"),i));return s.add(i(n)),s}function Nn(t){return Array.from(t.querySelectorAll("*[data-origname]"),e=>e.localName.replace(/(\w+)-.+/,"$1:")+e.getAttribute("data-origname"))}class te{constructor(e){this.options=e||{},this.document=this.options.documentObject?this.options.documentObject:void 0,this.document===void 0&&(typeof window<"u"&&window.document?this.document=window.document:typeof global<"u"&&global.document&&(this.document=global.document)),this.addBehaviors=Tn.bind(this),this.addBehavior=Cn.bind(this),this.removeBehavior=Mn.bind(this),this.utilities={};for(const n of Object.keys(Ie))["getPrefixDef","rw","resolveURI"].includes(n)?this.utilities[n]=Ie[n].bind(this):this.utilities[n]=Ie[n];if(this.els=[],this.namespaces=new Map,this.behaviors={},this.hasStyle=!1,this.prefixDefs=[],this.debug=this.options.debug===!0,this.discardContent=this.options.discardContent===!0,this.options.base)this.base=this.options.base;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch{this.base=""}this.options.omitDefaultBehaviors||this.addBehaviors(bn),this.options.ignoreFragmentId&&window&&window.removeEventListener("ceteiceanload",te.restorePosition)}getHTML5(e,n,r){return window&&window.location.href.startsWith(this.base)&&e.indexOf("/")>=0&&(this.base=e.replace(/\/[^\/]*$/,"/")),new Promise(function(s,o){let l=new XMLHttpRequest;l.open("GET",e),l.send(),l.onload=function(){this.status>=200&&this.status<300?s(this.response):o(this.statusText)},l.onerror=function(){o(this.statusText)}}).catch(function(s){console.log("Could not get XML file."),this.debug&&console.log(s)}).then(s=>this.makeHTML5(s,n,r))}makeHTML5(e,n,r){return this.XML_dom=new DOMParser().parseFromString(e,"text/xml"),this.domToHTML5(this.XML_dom,n,r)}preprocess(e,n,r){this.els=xn(e,this.namespaces);let i=s=>{let o;if(this.namespaces.has(s.namespaceURI?s.namespaceURI:"")){let l=this.namespaces.get(s.namespaceURI?s.namespaceURI:"");o=this.document.createElement(`${l}-${s.localName}`)}else o=this.document.importNode(s,!1);for(let l of Array.from(s.attributes))l.name=="xmlns"?o.setAttribute("data-xmlns",l.value):o.setAttribute(l.name,l.value),l.name=="xml:id"&&o.setAttribute("id",l.value),l.name=="xml:lang"&&o.setAttribute("lang",l.value),l.name=="rendition"&&o.setAttribute("class",l.value.replace(/#/g,""));if(o.setAttribute("data-origname",s.localName),s.hasAttributes()&&o.setAttribute("data-origatts",s.getAttributeNames().join(" ")),s.childNodes.length==0&&o.setAttribute("data-empty",""),s.localName=="head"){let l=e.evaluate("count(ancestor::*[tei:head])",s,function(a){if(a=="tei")return"http://www.tei-c.org/ns/1.0"},1,null);o.setAttribute("data-level",l.numberValue)}if(s.localName=="tagsDecl"){let l=this.document.createElement("style");for(let a of Array.from(s.childNodes))if(a.nodeType==1&&a.localName=="rendition"&&a.getAttribute("scheme")=="css"){let c="";a.hasAttribute("selector")?(c+=a.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+`{
`,c+=a.textContent):(c+="."+a.getAttribute("xml:id")+`{
`,c+=a.textContent),c+=`
}
`,l.appendChild(this.document.createTextNode(c))}l.childNodes.length>0&&(o.appendChild(l),this.hasStyle=!0)}s.localName=="prefixDef"&&(this.prefixDefs.push(s.getAttribute("ident")),this.prefixDefs[s.getAttribute("ident")]={matchPattern:s.getAttribute("matchPattern"),replacementPattern:s.getAttribute("replacementPattern")});for(let l of Array.from(s.childNodes))l.nodeType==1?o.appendChild(i(l)):o.appendChild(l.cloneNode());return r&&r(o,s),o};if(this.dom=i(e.documentElement),this.utilities.dom=this.dom,n)n(this.dom,this),window&&window.dispatchEvent(ce);else return typeof window<"u"&&window.dispatchEvent(ce),this.dom}domToHTML5(e,n,r){if(this.preprocess(e,null,r),this.applyBehaviors(),this.done=!0,n)n(this.dom,this),window&&window.dispatchEvent(ce);else return typeof window<"u"&&window.dispatchEvent(ce),this.dom}processPage(){this.els=Nn(this.document),this.applyBehaviors()}unsetNamespace(e){this.namespaces.delete(e)}setBaseUrl(e){this.base=e}append(e,n){let r=this;if(n){let i=e.call(r.utilities,n);i&&!r.childExists(n.firstElementChild,i.nodeName)&&r.appendBasic(n,i)}else return function(){if(!this.hasAttribute("data-processed")){let i=e.call(r.utilities,this);i&&!r.childExists(this.firstElementChild,i.nodeName)&&r.appendBasic(this,i)}}}appendBasic(e,n){this.discardContent?e.innerHTML="":jt(e,!0),e.appendChild(n)}bName(e){return e.tagName.substring(0,e.tagName.indexOf("-")).toLowerCase()+":"+e.getAttribute("data-origname")}childExists(e,n){return e&&e.nodeName==n?!0:e&&e.nextElementSibling&&this.childExists(e.nextElementSibling,n)}decorator(e){if(Array.isArray(e)&&e.length==0)return function(r){};if(Array.isArray(e)&&!Array.isArray(e[0]))return this.applyDecorator(e);let n=this;return function(r){for(let i of e)if(r.matches(i[0])||i[0]==="_")return Array.isArray(i[1])?n.decorator(i[1]).call(this,r):i[1].call(this,r)}}applyDecorator(e){let n=this;return function(r){let i=[];for(let s=0;s<e.length;s++)i.push(n.template(e[s],r));return n.insert(r,i)}}getFallback(e,n){if(e[n])return e[n]instanceof Function?e[n]:this.decorator(e[n])}getHandler(e,n){if(e[n])return e[n]instanceof Function?this.append(e[n]):this.append(this.decorator(e[n]))}insert(e,n){let r=this.document.createElement("span");for(let i of Array.from(e.childNodes))i.nodeType===1&&!i.hasAttribute("data-processed")&&this.processElement(i);if(n[0].match("<[^>]+>")&&n[1]&&n[1].match("<[^>]+>"))r.innerHTML=n[0]+e.innerHTML+(n[1]?n[1]:"");else{r.innerHTML=n[0],r.setAttribute("data-before",n[0].replace(/<[^>]+>/g,"").length);for(let i of Array.from(e.childNodes))r.appendChild(i.cloneNode(!0));n.length>1&&(r.innerHTML+=n[1],r.setAttribute("data-after",n[1].replace(/<[^>]+>/g,"").length))}return r}processElement(e){if(e.hasAttribute("data-origname")&&!e.hasAttribute("data-processed")){let n=this.getFallback(this.bName(e));n&&(this.append(n,e),e.setAttribute("data-processed",""))}for(let n of Array.from(e.childNodes))n.nodeType===1&&this.processElement(n)}template(e,n){let r=e;if(e.search(/\$(\w*)(@([a-zA-Z:]+))/)){let i=/\$(\w*)@([a-zA-Z:]+)/g,s;for(;s=i.exec(e);)n.hasAttribute(s[2])?s[1]&&this.utilities[s[1]]?r=r.replace(s[0],this.utilities[s[1]](n.getAttribute(s[2]))):r=r.replace(s[0],n.getAttribute(s[2])):r=r.replace(s[0],"")}return r}applyBehaviors(){typeof window<"u"&&window.customElements?this.define.call(this,this.els):this.fallback.call(this,this.els)}define(e){for(let n of e){const r=this.getHandler(this.behaviors,n);Lt(n,r,this.debug)}}fallback(e){for(let n of e){let r=this.getFallback(this.behaviors,n);if(r)for(let i of Array.from((this.dom&&!this.done?this.dom:this.document).getElementsByTagName(ge(n))))i.hasAttribute("data-processed")||this.append(r,i)}}static savePosition(){window.sessionStorage.setItem(window.location+"-scroll",window.scrollY)}static restorePosition(){if(window.location.hash)setTimeout(function(){let e=this.document.querySelector(window.decodeURI(window.location.hash));e&&e.scrollIntoView()},100);else{let e;(e=window.sessionStorage.getItem(window.location+"-scroll"))&&setTimeout(function(){window.scrollTo(0,e)},100)}}}try{if(typeof window<"u"){window.CETEI=te,window.addEventListener("beforeunload",te.savePosition);var ce=new Event("ceteiceanload");window.addEventListener("ceteiceanload",te.restorePosition)}}catch(t){console.log(t)}let Pn={tei:{note:[["[type=gloss]",function(t){this.noteIndex?this.noteIndex++:this.noteIndex=1;let e="note"+this.noteIndex,n=document.createElement("a");n.setAttribute("id","src"+e),n.setAttribute("href","#"+e),n.innerHTML=this.noteIndex;let r=document.createElement("sup");r.appendChild(n);let i=this.dom.querySelector("ol.notes");i||(i=document.createElement("ol"),i.setAttribute("class","notes"),this.dom.appendChild(i));let s=document.createElement("li");return s.id=e,s.innerHTML='<a href="#src'+e+'">^</a> '+t.innerHTML,i.appendChild(s),r}],["[type=side-note]",function(t){t.style.fontSize="0.75em",t.style.marginLeft="1em",t.style.fontStyle="italic"}]]}};const{document:rt}=$t;function st(t){let e,n;return e=new ln({}),{c(){R(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,i){q(e,r,i),n=!0},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function ot(t){let e,n;return{c(){e=C("p"),n=z(t[1]),this.h()},l(r){e=M(r,"P",{"data-testid":!0});var i=x(e);n=Q(i,t[1]),i.forEach(b),this.h()},h(){S(e,"data-testid","error-message")},m(r,i){I(r,e,i),P(e,n)},p(r,i){i&2&&se(n,r[1])},d(r){r&&b(e)}}}function jn(t){let e,n,r,i,s,o=!t[0]&&st(),l=t[1]&&ot(t);return{c(){e=C("link"),n=L(),r=C("div"),o&&o.c(),i=L(),l&&l.c(),this.h()},l(a){const c=Pt("svelte-1rxmp49",rt.head);e=M(c,"LINK",{rel:!0,type:!0,href:!0}),c.forEach(b),n=O(a),r=M(a,"DIV",{id:!0,"data-testid":!0});var f=x(r);o&&o.l(f),i=O(f),l&&l.l(f),f.forEach(b),this.h()},h(){S(e,"rel","stylesheet"),S(e,"type","text/css"),S(e,"href",He+"/additional-style/TEIstyle.css"),S(r,"id","TEI-container"),S(r,"data-testid","TEI-container")},m(a,c){P(rt.head,e),I(a,n,c),I(a,r,c),o&&o.m(r,null),P(r,i),l&&l.m(r,null),s=!0},p(a,[c]){a[0]?o&&(W(),T(o,1,1,()=>{o=null}),J()):o?c&1&&E(o,1):(o=st(),o.c(),E(o,1),o.m(r,i)),a[1]?l?l.p(a,c):(l=ot(a),l.c(),l.m(r,null)):l&&(l.d(1),l=null)},i(a){s||(E(o),s=!0)},o(a){T(o),s=!1},d(a){b(e),a&&b(n),a&&b(r),o&&o.d(),l&&l.d()}}}function Ln(t,e,n){let r=!1,i,{path:s=""}=e;return De(async()=>{try{if(s==="")throw"No path specified";var o=new te;o.addBehaviors(Pn),o.getHTML5(s,function(l){document.getElementById("TEI-container").appendChild(l)}),n(0,r=!0)}catch(l){n(1,i=l.toString()),n(0,r=!0);return}}),t.$$set=o=>{"path"in o&&n(2,s=o.path)},[r,i,s]}class On extends X{constructor(e){super(),Y(this,e,Ln,jn,$,{path:2})}}function Dn(t){let e,n,r;return{c(){e=C("audio"),n=C("source"),this.h()},l(i){e=M(i,"AUDIO",{});var s=x(e);n=M(s,"SOURCE",{src:!0,type:!0}),s.forEach(b),this.h()},h(){Ee(n.src,r=t[0])||S(n,"src",r),S(n,"type","audio/mpeg"),e.controls=!0},m(i,s){I(i,e,s),P(e,n)},p(i,[s]){s&1&&!Ee(n.src,r=i[0])&&S(n,"src",r)},i:oe,o:oe,d(i){i&&b(e)}}}function Hn(t,e,n){let{audioPath:r}=e;return t.$$set=i=>{"audioPath"in i&&n(0,r=i.audioPath)},[r]}class Fn extends X{constructor(e){super(),Y(this,e,Hn,Dn,$,{audioPath:0})}}const re=/^[a-z0-9]+(-[a-z0-9]+)*$/,_e=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const l=i.pop(),a=i.pop(),c={provider:i.length>0?i[0]:r,prefix:a,name:l};return e&&!de(c)?null:c}const s=i[0],o=s.split("-");if(o.length>1){const l={provider:r,prefix:o.shift(),name:o.join("-")};return e&&!de(l)?null:l}if(n&&r===""){const l={provider:r,prefix:"",name:s};return e&&!de(l,n)?null:l}return null},de=(t,e)=>t?!!((t.provider===""||t.provider.match(re))&&(e&&t.prefix===""||t.prefix.match(re))&&t.name.match(re)):!1,Ot=Object.freeze({left:0,top:0,width:16,height:16}),be=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ye=Object.freeze({...Ot,...be}),Te=Object.freeze({...ye,body:"",hidden:!1});function Bn(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function lt(t,e){const n=Bn(t,e);for(const r in Te)r in be?r in t&&!(r in n)&&(n[r]=be[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function Rn(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const l=r[o]&&r[o].parent,a=l&&s(l);a&&(i[o]=[l].concat(a))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function Un(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(l){s=lt(r[l]||i[l],s)}return o(e),n.forEach(o),lt(t,s)}function Dt(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(i=>{e(i,null),n.push(i)});const r=Rn(t);for(const i in r){const s=r[i];s&&(e(i,Un(t,i,s)),n.push(i))}return n}const qn={provider:"",aliases:{},not_found:{},...Ot};function ke(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function Ht(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!ke(t,qn))return null;const n=e.icons;for(const i in n){const s=n[i];if(!i.match(re)||typeof s.body!="string"||!ke(s,Te))return null}const r=e.aliases||Object.create(null);for(const i in r){const s=r[i],o=s.parent;if(!i.match(re)||typeof o!="string"||!n[o]&&!r[o]||!ke(s,Te))return null}return e}const at=Object.create(null);function Vn(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Z(t,e){const n=at[t]||(at[t]=Object.create(null));return n[e]||(n[e]=Vn(t,e))}function Fe(t,e){return Ht(e)?Dt(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function zn(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let le=!1;function Ft(t){return typeof t=="boolean"&&(le=t),le}function Qn(t){const e=typeof t=="string"?_e(t,!0,le):t;if(e){const n=Z(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function Kn(t,e){const n=_e(t,!0,le);if(!n)return!1;const r=Z(n.provider,n.prefix);return zn(r,n.name,e)}function Gn(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),le&&!e&&!t.prefix){let i=!1;return Ht(t)&&(t.prefix="",Dt(t,(s,o)=>{o&&Kn(s,o)&&(i=!0)})),i}const n=t.prefix;if(!de({provider:e,prefix:n,name:"a"}))return!1;const r=Z(e,n);return!!Fe(r,t)}const Bt=Object.freeze({width:null,height:null}),Rt=Object.freeze({...Bt,...be}),Wn=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Jn=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ct(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Wn);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=Jn.test(s);for(;;){if(o){const l=parseFloat(s);isNaN(l)?i.push(s):i.push(Math.ceil(l*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}const Zn=t=>t==="unset"||t==="undefined"||t==="none";function Xn(t,e){const n={...ye,...t},r={...Rt,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(_=>{const A=[],k=_.hFlip,y=_.vFlip;let d=_.rotate;k?y?d+=2:(A.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),A.push("scale(-1 1)"),i.top=i.left=0):y&&(A.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),A.push("scale(1 -1)"),i.top=i.left=0);let u;switch(d<0&&(d-=Math.floor(d/4)*4),d=d%4,d){case 1:u=i.height/2+i.top,A.unshift("rotate(90 "+u.toString()+" "+u.toString()+")");break;case 2:A.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:u=i.width/2+i.left,A.unshift("rotate(-90 "+u.toString()+" "+u.toString()+")");break}d%2===1&&(i.left!==i.top&&(u=i.left,i.left=i.top,i.top=u),i.width!==i.height&&(u=i.width,i.width=i.height,i.height=u)),A.length&&(s='<g transform="'+A.join(" ")+'">'+s+"</g>")});const o=r.width,l=r.height,a=i.width,c=i.height;let f,g;o===null?(g=l===null?"1em":l==="auto"?c:l,f=ct(g,a/c)):(f=o==="auto"?a:o,g=l===null?ct(f,c/a):l==="auto"?c:l);const h={},m=(_,A)=>{Zn(A)||(h[_]=A.toString())};return m("width",f),m("height",g),h.viewBox=i.left.toString()+" "+i.top.toString()+" "+a.toString()+" "+c.toString(),{attributes:h,body:s}}const Yn=/\sid="(\S+)"/g,$n="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ei=0;function ti(t,e=$n){const n=[];let r;for(;r=Yn.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const o=typeof e=="function"?e(s):e+(ei++).toString(),l=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}const Ce=Object.create(null);function ni(t,e){Ce[t]=e}function Me(t){return Ce[t]||Ce[""]}function Be(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const Re=Object.create(null),ie=["https://api.simplesvg.com","https://api.unisvg.com"],he=[];for(;ie.length>0;)ie.length===1||Math.random()>.5?he.push(ie.shift()):he.push(ie.pop());Re[""]=Be({resources:["https://api.iconify.design"].concat(he)});function ii(t,e){const n=Be(e);return n===null?!1:(Re[t]=n,!0)}function Ue(t){return Re[t]}const ri=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let ft=ri();function si(t,e){const n=Ue(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const s=e+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function oi(t){return t===404}const li=(t,e,n)=>{const r=[],i=si(t,e),s="icons";let o={type:s,provider:t,prefix:e,icons:[]},l=0;return n.forEach((a,c)=>{l+=a.length+1,l>=i&&c>0&&(r.push(o),o={type:s,provider:t,prefix:e,icons:[]},l=a.length),o.icons.push(a)}),r.push(o),r};function ai(t){if(typeof t=="string"){const e=Ue(t);if(e)return e.path}return"/"}const ci=(t,e,n)=>{if(!ft){n("abort",424);return}let r=ai(e.provider);switch(e.type){case"icons":{const s=e.prefix,l=e.icons.join(","),a=new URLSearchParams({icons:l});r+=s+".json?"+a.toString();break}case"custom":{const s=e.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;ft(t+r).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{n(oi(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},fi={prepare:li,send:ci};function ui(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return t.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,o=i.prefix,l=i.name,a=n[s]||(n[s]=Object.create(null)),c=a[o]||(a[o]=Z(s,o));let f;l in c.icons?f=e.loaded:o===""||c.missing.has(l)?f=e.missing:f=e.pending;const g={provider:s,prefix:o,name:l};f.push(g)}),e}function Ut(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==e))})}function di(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,i=t.prefix;e.forEach(s=>{const o=s.icons,l=o.pending.length;o.pending=o.pending.filter(a=>{if(a.prefix!==i)return!0;const c=a.name;if(t.icons[c])o.loaded.push({provider:r,prefix:i,name:c});else if(t.missing.has(c))o.missing.push({provider:r,prefix:i,name:c});else return n=!0,!0;return!1}),o.pending.length!==l&&(n||Ut([t],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let hi=0;function mi(t,e,n){const r=hi++,i=Ut.bind(null,n,r);if(!e.pending.length)return i;const s={id:r,icons:e,callback:t,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function pi(t,e=!0,n=!1){const r=[];return t.forEach(i=>{const s=typeof i=="string"?_e(i,e,n):i;s&&r.push(s)}),r}var gi={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function bi(t,e,n,r){const i=t.resources.length,s=t.random?Math.floor(Math.random()*i):t.index;let o;if(t.random){let w=t.resources.slice(0);for(o=[];w.length>1;){const j=Math.floor(Math.random()*w.length);o.push(w[j]),w=w.slice(0,j).concat(w.slice(j+1))}o=o.concat(w)}else o=t.resources.slice(s).concat(t.resources.slice(0,s));const l=Date.now();let a="pending",c=0,f,g=null,h=[],m=[];typeof r=="function"&&m.push(r);function _(){g&&(clearTimeout(g),g=null)}function A(){a==="pending"&&(a="aborted"),_(),h.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),h=[]}function k(w,j){j&&(m=[]),typeof w=="function"&&m.push(w)}function y(){return{startTime:l,payload:e,status:a,queriesSent:c,queriesPending:h.length,subscribe:k,abort:A}}function d(){a="failed",m.forEach(w=>{w(void 0,f)})}function u(){h.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),h=[]}function v(w,j,B){const F=j!=="success";switch(h=h.filter(p=>p!==w),a){case"pending":break;case"failed":if(F||!t.dataAfterTimeout)return;break;default:return}if(j==="abort"){f=B,d();return}if(F){f=B,h.length||(o.length?N():d());return}if(_(),u(),!t.random){const p=t.resources.indexOf(w.resource);p!==-1&&p!==t.index&&(t.index=p)}a="completed",m.forEach(p=>{p(B)})}function N(){if(a!=="pending")return;_();const w=o.shift();if(w===void 0){if(h.length){g=setTimeout(()=>{_(),a==="pending"&&(u(),d())},t.timeout);return}d();return}const j={status:"pending",resource:w,callback:(B,F)=>{v(j,B,F)}};h.push(j),c++,g=setTimeout(N,t.rotate),n(w,e,j.callback)}return setTimeout(N),y}function qt(t){const e={...gi,...t};let n=[];function r(){n=n.filter(l=>l().status==="pending")}function i(l,a,c){const f=bi(e,l,a,(g,h)=>{r(),c&&c(g,h)});return n.push(f),f}function s(l){return n.find(a=>l(a))||null}return{query:i,find:s,setIndex:l=>{e.index=l},getIndex:()=>e.index,cleanup:r}}function ut(){}const Ae=Object.create(null);function _i(t){if(!Ae[t]){const e=Ue(t);if(!e)return;const n=qt(e),r={config:e,redundancy:n};Ae[t]=r}return Ae[t]}function yi(t,e,n){let r,i;if(typeof t=="string"){const s=Me(t);if(!s)return n(void 0,424),ut;i=s.send;const o=_i(t);o&&(r=o.redundancy)}else{const s=Be(t);if(s){r=qt(s);const o=t.resources?t.resources[0]:"",l=Me(o);l&&(i=l.send)}}return!r||!i?(n(void 0,424),ut):r.query(e,i,n)().abort}const dt="iconify2",ae="iconify",Vt=ae+"-count",ht=ae+"-version",zt=36e5,wi=168;function xe(t,e){try{return t.getItem(e)}catch{}}function qe(t,e,n){try{return t.setItem(e,n),!0}catch{}}function mt(t,e){try{t.removeItem(e)}catch{}}function Ne(t,e){return qe(t,Vt,e.toString())}function Pe(t){return parseInt(xe(t,Vt))||0}const we={local:!0,session:!0},Qt={local:new Set,session:new Set};let Ve=!1;function vi(t){Ve=t}let fe=typeof window>"u"?{}:window;function Kt(t){const e=t+"Storage";try{if(fe&&fe[e]&&typeof fe[e].length=="number")return fe[e]}catch{}we[t]=!1}function Gt(t,e){const n=Kt(t);if(!n)return;const r=xe(n,ht);if(r!==dt){if(r){const l=Pe(n);for(let a=0;a<l;a++)mt(n,ae+a.toString())}qe(n,ht,dt),Ne(n,0);return}const i=Math.floor(Date.now()/zt)-wi,s=l=>{const a=ae+l.toString(),c=xe(n,a);if(typeof c=="string"){try{const f=JSON.parse(c);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>i&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&e(f,l))return!0}catch{}mt(n,a)}};let o=Pe(n);for(let l=o-1;l>=0;l--)s(l)||(l===o-1?(o--,Ne(n,o)):Qt[t].add(l))}function Wt(){if(!Ve){vi(!0);for(const t in we)Gt(t,e=>{const n=e.data,r=e.provider,i=n.prefix,s=Z(r,i);if(!Fe(s,n).length)return!1;const o=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function Ii(t,e){const n=t.lastModifiedCached;if(n&&n>=e)return n===e;if(t.lastModifiedCached=e,n)for(const r in we)Gt(r,i=>{const s=i.data;return i.provider!==t.provider||s.prefix!==t.prefix||s.lastModified===e});return!0}function ki(t,e){Ve||Wt();function n(r){let i;if(!we[r]||!(i=Kt(r)))return;const s=Qt[r];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=Pe(i),!Ne(i,o+1))return;const l={cached:Math.floor(Date.now()/zt),provider:t.provider,data:e};return qe(i,ae+o.toString(),JSON.stringify(l))}e.lastModified&&!Ii(t,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),n("local")||n("session"))}function pt(){}function Ai(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,di(t)}))}function Ei(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,i=t.iconsToLoad;delete t.iconsToLoad;let s;if(!i||!(s=Me(n)))return;s.prepare(n,r,i).forEach(l=>{yi(n,l,a=>{if(typeof a!="object")l.icons.forEach(c=>{t.missing.add(c)});else try{const c=Fe(t,a);if(!c.length)return;const f=t.pendingIcons;f&&c.forEach(g=>{f.delete(g)}),ki(t,a)}catch(c){console.error(c)}Ai(t)})})}))}const Si=(t,e)=>{const n=pi(t,!0,Ft()),r=ui(n);if(!r.pending.length){let a=!0;return e&&setTimeout(()=>{a&&e(r.loaded,r.missing,r.pending,pt)}),()=>{a=!1}}const i=Object.create(null),s=[];let o,l;return r.pending.forEach(a=>{const{provider:c,prefix:f}=a;if(f===l&&c===o)return;o=c,l=f,s.push(Z(c,f));const g=i[c]||(i[c]=Object.create(null));g[f]||(g[f]=[])}),r.pending.forEach(a=>{const{provider:c,prefix:f,name:g}=a,h=Z(c,f),m=h.pendingIcons||(h.pendingIcons=new Set);m.has(g)||(m.add(g),i[c][f].push(g))}),s.forEach(a=>{const{provider:c,prefix:f}=a;i[c][f].length&&Ei(a,i[c][f])}),e?mi(e,r,s):pt};function Ti(t,e){const n={...t};for(const r in e){const i=e[r],s=typeof i;r in Bt?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const Ci=/[\s,]+/;function Mi(t,e){e.split(Ci).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function xi(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(t);return isNaN(i)?0:r(i)}else if(n!==t){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(t.slice(0,t.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return e}function Ni(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function Pi(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function ji(t){return"data:image/svg+xml,"+Pi(t)}function Li(t){return'url("'+ji(t)+'")'}const gt={...Rt,inline:!1},Oi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Di={display:"inline-block"},je={"background-color":"currentColor"},Jt={"background-color":"transparent"},bt={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},_t={"-webkit-mask":je,mask:je,background:Jt};for(const t in _t){const e=_t[t];for(const n in bt)e[t+"-"+n]=bt[n]}function Hi(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}function Fi(t,e){const n=Ti(gt,e),r=e.mode||"svg",i=r==="svg"?{...Oi}:{};t.body.indexOf("xlink:")===-1&&delete i["xmlns:xlink"];let s=typeof e.style=="string"?e.style:"";for(let y in e){const d=e[y];if(d!==void 0)switch(y){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[y]=d===!0||d==="true"||d===1;break;case"flip":typeof d=="string"&&Mi(n,d);break;case"color":s=s+(s.length>0&&s.trim().slice(-1)!==";"?";":"")+"color: "+d+"; ";break;case"rotate":typeof d=="string"?n[y]=xi(d):typeof d=="number"&&(n[y]=d);break;case"ariaHidden":case"aria-hidden":d!==!0&&d!=="true"&&delete i["aria-hidden"];break;default:if(y.slice(0,3)==="on:")break;gt[y]===void 0&&(i[y]=d)}}const o=Xn(t,n),l=o.attributes;if(n.inline&&(s="vertical-align: -0.125em; "+s),r==="svg"){Object.assign(i,l),s!==""&&(i.style=s);let y=0,d=e.id;return typeof d=="string"&&(d=d.replace(/-/g,"_")),{svg:!0,attributes:i,body:ti(o.body,d?()=>d+"ID"+y++:"iconifySvelte")}}const{body:a,width:c,height:f}=t,g=r==="mask"||(r==="bg"?!1:a.indexOf("currentColor")!==-1),h=Ni(a,{...l,width:c+"",height:f+""}),_={"--svg":Li(h)},A=y=>{const d=l[y];d&&(_[y]=Hi(d))};A("width"),A("height"),Object.assign(_,Di,g?je:Jt);let k="";for(const y in _)k+=y+": "+_[y]+";";return i.style=k+s,{svg:!1,attributes:i}}Ft(!0);ni("",fi);if(typeof document<"u"&&typeof window<"u"){Wt();const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Gn(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const i=e[n];if(typeof i!="object"||!i||i.resources===void 0)continue;ii(n,i)||console.error(r)}catch{console.error(r)}}}}function Bi(t,e,n,r,i){function s(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof t=="object"&&t!==null&&typeof t.body=="string")return e.name="",s(),{data:{...ye,...t}};let o;if(typeof t!="string"||(o=_e(t,!1,!0))===null)return s(),null;const l=Qn(o);if(!l)return n&&(!e.loading||e.loading.name!==t)&&(s(),e.name="",e.loading={name:t,abort:Si([o],r)}),null;s(),e.name!==t&&(e.name=t,i&&!e.destroyed&&i(t));const a=["iconify"];return o.prefix!==""&&a.push("iconify--"+o.prefix),o.provider!==""&&a.push("iconify--"+o.provider),{data:l,classes:a}}function Ri(t,e){return t?Fi({...ye,...t},e):null}function yt(t){let e;function n(s,o){return s[0].svg?qi:Ui}let r=n(t),i=r(t);return{c(){i.c(),e=H()},l(s){i.l(s),e=H()},m(s,o){i.m(s,o),I(s,e,o)},p(s,o){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&b(e)}}}function Ui(t){let e,n=[t[0].attributes],r={};for(let i=0;i<n.length;i+=1)r=G(r,n[i]);return{c(){e=C("span"),this.h()},l(i){e=M(i,"SPAN",{}),x(e).forEach(b),this.h()},h(){me(e,r)},m(i,s){I(i,e,s)},p(i,s){me(e,r=Le(n,[s&1&&i[0].attributes]))},d(i){i&&b(e)}}}function qi(t){let e,n=t[0].body+"",r=[t[0].attributes],i={};for(let s=0;s<r.length;s+=1)i=G(i,r[s]);return{c(){e=tn("svg"),this.h()},l(s){e=nn(s,"svg",{});var o=x(e);o.forEach(b),this.h()},h(){We(e,i)},m(s,o){I(s,e,o),e.innerHTML=n},p(s,o){o&1&&n!==(n=s[0].body+"")&&(e.innerHTML=n),We(e,i=Le(r,[o&1&&s[0].attributes]))},d(s){s&&b(e)}}}function Vi(t){let e,n=t[0]&&yt(t);return{c(){n&&n.c(),e=H()},l(r){n&&n.l(r),e=H()},m(r,i){n&&n.m(r,i),I(r,e,i)},p(r,[i]){r[0]?n?n.p(r,i):(n=yt(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:oe,o:oe,d(r){n&&n.d(r),r&&b(e)}}}function zi(t,e,n){const r={name:"",loading:null,destroyed:!1};let i=!1,s=0,o;const l=c=>{typeof e.onLoad=="function"&&e.onLoad(c),rn()("load",{icon:c})};function a(){n(3,s++,s)}return De(()=>{n(2,i=!0)}),en(()=>{n(1,r.destroyed=!0,r),r.loading&&(r.loading.abort(),n(1,r.loading=null,r))}),t.$$set=c=>{n(6,e=G(G({},e),pe(c)))},t.$$.update=()=>{{const c=Bi(e.icon,r,i,a,l);n(0,o=c?Ri(c.data,e):null),o&&c.classes&&n(0,o.attributes.class=(typeof e.class=="string"?e.class+" ":"")+c.classes.join(" "),o)}},e=pe(e),[o,r,i,s]}class wt extends X{constructor(e){super(),Y(this,e,zi,Vi,$,{})}}function Qi(t){let e,n,r,i,s,o,l,a,c,f,g=ue(t[1])+"",h,m,_,A,k,y,d=ue(t[0])+"",u,v,N,w;s=new wt({props:{icon:"material-symbols:play-pause"}}),a=new wt({props:{icon:"material-symbols:stop"}});function j(p){t[5](p)}function B(p){t[6](p)}let F={step:.2};return t[1]!==void 0&&(F.value=t[1]),t[0]!==void 0&&(F.max=t[0]),_=new gn({props:F}),Je.push(()=>Ze(_,"value",j)),Je.push(()=>Ze(_,"max",B)),{c(){e=C("script"),r=L(),i=C("button"),R(s.$$.fragment),o=L(),l=C("button"),R(a.$$.fragment),c=L(),f=C("span"),h=z(g),m=L(),R(_.$$.fragment),y=L(),u=z(d),this.h()},l(p){const D=Pt("svelte-7awyd0",document.head);e=M(D,"SCRIPT",{src:!0});var ne=x(e);ne.forEach(b),D.forEach(b),r=O(p),i=M(p,"BUTTON",{id:!0});var ze=x(i);U(s.$$.fragment,ze),ze.forEach(b),o=O(p),l=M(p,"BUTTON",{id:!0});var Qe=x(l);U(a.$$.fragment,Qe),Qe.forEach(b),c=O(p),f=M(p,"SPAN",{});var ee=x(f);h=Q(ee,g),m=O(ee),U(_.$$.fragment,ee),y=O(ee),u=Q(ee,d),ee.forEach(b),this.h()},h(){Ee(e.src,n="https://www.midijs.net/lib/midi.js")||S(e,"src",n),S(i,"id","playMIDI"),S(l,"id","stopMIDI")},m(p,D){P(document.head,e),I(p,r,D),I(p,i,D),q(s,i,null),I(p,o,D),I(p,l,D),q(a,l,null),I(p,c,D),I(p,f,D),P(f,h),P(f,m),q(_,f,null),P(f,y),P(f,u),v=!0,N||(w=[K(i,"click",t[2]),K(l,"click",t[3])],N=!0)},p(p,[D]){(!v||D&2)&&g!==(g=ue(p[1])+"")&&se(h,g);const ne={};!A&&D&2&&(A=!0,ne.value=p[1],Xe(()=>A=!1)),!k&&D&1&&(k=!0,ne.max=p[0],Xe(()=>k=!1)),_.$set(ne),(!v||D&1)&&d!==(d=ue(p[0])+"")&&se(u,d)},i(p){v||(E(s.$$.fragment,p),E(a.$$.fragment,p),E(_.$$.fragment,p),v=!0)},o(p){T(s.$$.fragment,p),T(a.$$.fragment,p),T(_.$$.fragment,p),v=!1},d(p){b(e),p&&b(r),p&&b(i),V(s),p&&b(o),p&&b(l),V(a),p&&b(c),p&&b(f),V(_),N=!1,Tt(w)}}}function ue(t){let e=Math.floor(t/60),n=Math.floor(t-e*60);return e=e.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),`${e}:${n}`}function Ki(t,e,n){let{midiFile:r=void 0}=e,i,s=!1,o=0,l=0;const a=function(){console.log(i),i?s?(MIDIjs.resume(),s=!1):i.status==="playing"&&(MIDIjs.pause(),s=!0):MIDIjs.play(r)},c=function(){MIDIjs.stop(),i=void 0,n(1,l=0)},f=function(m){i=m,n(1,l=i.time)};De(()=>{MIDIjs.player_callback=f,MIDIjs.get_duration(r,m=>{n(0,o=m)})});function g(m){l=m,n(1,l)}function h(m){o=m,n(0,o)}return t.$$set=m=>{"midiFile"in m&&n(4,r=m.midiFile)},[o,l,a,c,r,g,h]}class Gi extends X{constructor(e){super(),Y(this,e,Ki,Qi,$,{midiFile:4})}}function vt(t,e,n){const r=t.slice();return r[2]=e[n],r}function It(t){let e,n=t[2]+"",r;return{c(){e=new sn(!1),r=H(),this.h()},l(i){e=on(i,!1),r=H(),this.h()},h(){e.a=r},m(i,s){e.m(n,i,s),I(i,r,s)},p(i,s){s&1&&n!==(n=i[2]+"")&&e.p(n)},d(i){i&&b(r),i&&e.d()}}}function Wi(t){let e,n,r,i;e=new Gi({props:{midiFile:t[1]}});let s=t[0],o=[];for(let l=0;l<s.length;l+=1)o[l]=It(vt(t,s,l));return{c(){R(e.$$.fragment),n=L(),r=C("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){U(e.$$.fragment,l),n=O(l),r=M(l,"DIV",{id:!0});var a=x(r);for(let c=0;c<o.length;c+=1)o[c].l(a);a.forEach(b),this.h()},h(){S(r,"id","MEI-container")},m(l,a){q(e,l,a),I(l,n,a),I(l,r,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(r,null);i=!0},p(l,[a]){const c={};if(a&2&&(c.midiFile=l[1]),e.$set(c),a&1){s=l[0];let f;for(f=0;f<s.length;f+=1){const g=vt(l,s,f);o[f]?o[f].p(g,a):(o[f]=It(g),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},i(l){i||(E(e.$$.fragment,l),i=!0)},o(l){T(e.$$.fragment,l),i=!1},d(l){V(e,l),l&&b(n),l&&b(r),Oe(o,l)}}}function Ji(t,e,n){let{meiSvg:r=void 0}=e,{meiMidi:i=void 0}=e;return t.$$set=s=>{"meiSvg"in s&&n(0,r=s.meiSvg),"meiMidi"in s&&n(1,i=s.meiMidi)},[r,i]}class Zi extends X{constructor(e){super(),Y(this,e,Ji,Wi,$,{meiSvg:0,meiMidi:1})}}function kt(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r}function At(t){let e,n=t[1]+"",r,i,s,o;return s=new an({props:{content:t[2].content}}),{c(){e=C("h2"),r=z(n),i=L(),R(s.$$.fragment)},l(l){e=M(l,"H2",{});var a=x(e);r=Q(a,n),a.forEach(b),i=O(l),U(s.$$.fragment,l)},m(l,a){I(l,e,a),P(e,r),I(l,i,a),q(s,l,a),o=!0},p(l,a){(!o||a&1)&&n!==(n=l[1]+"")&&se(r,n);const c={};a&1&&(c.content=l[2].content),s.$set(c)},i(l){o||(E(s.$$.fragment,l),o=!0)},o(l){T(s.$$.fragment,l),o=!1},d(l){l&&b(e),l&&b(i),V(s,l)}}}function Et(t){let e,n,r=t[2].type==="md"&&At(t);return{c(){r&&r.c(),e=H()},l(i){r&&r.l(i),e=H()},m(i,s){r&&r.m(i,s),I(i,e,s),n=!0},p(i,s){i[2].type==="md"?r?(r.p(i,s),s&1&&E(r,1)):(r=At(i),r.c(),E(r,1),r.m(e.parentNode,e)):r&&(W(),T(r,1,1,()=>{r=null}),J())},i(i){n||(E(r),n=!0)},o(i){T(r),n=!1},d(i){r&&r.d(i),i&&b(e)}}}function Xi(t){let e,n,r,i,s,o,l,a,c,f;i=new Fn({props:{audioPath:He+"/content/music/media/virtualbarbershop.mp3"}});let g="mei"in t[0].view&&St(t);return{c(){e=C("h3"),n=z("Binaural recording test"),r=L(),R(i.$$.fragment),s=L(),o=C("h3"),l=z("MEI engraving and playback test"),a=L(),g&&g.c(),c=H()},l(h){e=M(h,"H3",{});var m=x(e);n=Q(m,"Binaural recording test"),m.forEach(b),r=O(h),U(i.$$.fragment,h),s=O(h),o=M(h,"H3",{});var _=x(o);l=Q(_,"MEI engraving and playback test"),_.forEach(b),a=O(h),g&&g.l(h),c=H()},m(h,m){I(h,e,m),P(e,n),I(h,r,m),q(i,h,m),I(h,s,m),I(h,o,m),P(o,l),I(h,a,m),g&&g.m(h,m),I(h,c,m),f=!0},p(h,m){"mei"in h[0].view?g?(g.p(h,m),m&1&&E(g,1)):(g=St(h),g.c(),E(g,1),g.m(c.parentNode,c)):g&&(W(),T(g,1,1,()=>{g=null}),J())},i(h){f||(E(i.$$.fragment,h),E(g),f=!0)},o(h){T(i.$$.fragment,h),T(g),f=!1},d(h){h&&b(e),h&&b(r),V(i,h),h&&b(s),h&&b(o),h&&b(a),g&&g.d(h),h&&b(c)}}}function Yi(t){let e,n,r,i,s;return i=new On({props:{path:He+"/content/literature/data/Coopers_hill_1655.xml"}}),{c(){e=C("h3"),n=z("Test"),r=L(),R(i.$$.fragment)},l(o){e=M(o,"H3",{});var l=x(e);n=Q(l,"Test"),l.forEach(b),r=O(o),U(i.$$.fragment,o)},m(o,l){I(o,e,l),P(e,n),I(o,r,l),q(i,o,l),s=!0},p:oe,i(o){s||(E(i.$$.fragment,o),s=!0)},o(o){T(i.$$.fragment,o),s=!1},d(o){o&&b(e),o&&b(r),V(i,o)}}}function St(t){let e,n;return e=new Zi({props:{meiSvg:t[0].view.mei.svg,meiMidi:t[0].view.mei.midi}}),{c(){R(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,i){q(e,r,i),n=!0},p(r,i){const s={};i&1&&(s.meiSvg=r[0].view.mei.svg),i&1&&(s.meiMidi=r[0].view.mei.midi),e.$set(s)},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){T(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function $i(t){let e,n,r,i,s=t[0].view.title+"",o,l,a,c,f,g,h,m=Object.entries(t[0].view.sections),_=[];for(let u=0;u<m.length;u+=1)_[u]=Et(kt(t,m,u));const A=u=>T(_[u],1,1,()=>{_[u]=null}),k=[Yi,Xi],y=[];function d(u,v){return u[0].view.slug==="literature"?0:u[0].view.slug==="music"?1:-1}return~(c=d(t))&&(f=y[c]=k[c](t)),{c(){e=C("h1"),n=z("View page"),r=L(),i=C("h1"),o=z(s),l=L();for(let u=0;u<_.length;u+=1)_[u].c();a=L(),f&&f.c(),g=H()},l(u){e=M(u,"H1",{});var v=x(e);n=Q(v,"View page"),v.forEach(b),r=O(u),i=M(u,"H1",{});var N=x(i);o=Q(N,s),N.forEach(b),l=O(u);for(let w=0;w<_.length;w+=1)_[w].l(u);a=O(u),f&&f.l(u),g=H()},m(u,v){I(u,e,v),P(e,n),I(u,r,v),I(u,i,v),P(i,o),I(u,l,v);for(let N=0;N<_.length;N+=1)_[N]&&_[N].m(u,v);I(u,a,v),~c&&y[c].m(u,v),I(u,g,v),h=!0},p(u,[v]){if((!h||v&1)&&s!==(s=u[0].view.title+"")&&se(o,s),v&1){m=Object.entries(u[0].view.sections);let w;for(w=0;w<m.length;w+=1){const j=kt(u,m,w);_[w]?(_[w].p(j,v),E(_[w],1)):(_[w]=Et(j),_[w].c(),E(_[w],1),_[w].m(a.parentNode,a))}for(W(),w=m.length;w<_.length;w+=1)A(w);J()}let N=c;c=d(u),c===N?~c&&y[c].p(u,v):(f&&(W(),T(y[N],1,1,()=>{y[N]=null}),J()),~c?(f=y[c],f?f.p(u,v):(f=y[c]=k[c](u),f.c()),E(f,1),f.m(g.parentNode,g)):f=null)},i(u){if(!h){for(let v=0;v<m.length;v+=1)E(_[v]);E(f),h=!0}},o(u){_=_.filter(Boolean);for(let v=0;v<_.length;v+=1)T(_[v]);T(f),h=!1},d(u){u&&b(e),u&&b(r),u&&b(i),u&&b(l),Oe(_,u),u&&b(a),~c&&y[c].d(u),u&&b(g)}}}function er(t,e,n){let{data:r}=e;return t.$$set=i=>{"data"in i&&n(0,r=i.data)},[r]}class sr extends X{constructor(e){super(),Y(this,e,er,$i,$,{data:0})}}export{sr as component};
