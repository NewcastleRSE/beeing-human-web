import{S as re,i as se,s as ae,M as ee,k as P,a as H,l as N,m as O,c as B,h as b,X as Ce,n as A,b as S,G as F,a2 as lt,I as $,g as E,v as te,d as C,f as ne,Y as Ze,K as Jt,Z as ut,a3 as kn,j as _n,N as Pe,Q as Xt,R as Zt,T as Qt,U as Yt,a1 as Qe,P as Fe,a4 as Tn,D as wn,o as Ye,a5 as Sn,y as q,z as K,A as W,B as J,q as X,r as Z,u as ge,a6 as ct,J as be,e as G,a7 as In,C as En,F as xn,a8 as ft,a9 as An,w as dt,$ as ht,aa as Cn,a0 as pt,H as Pn,E as Nn}from"../chunks/index.fb1ad404.js";import{P as Mn,I as Ln}from"../chunks/InjectMD.d09ac773.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.f6dce773.js";import{b as $e}from"../chunks/paths.ddd777e1.js";const On=i=>({}),mt=i=>({});function gt(i,e,t){const n=i.slice();return n[23]=e[t],n}function bt(i){let e,t;const n=i[15].default,r=Xt(n,i,i[14],null);return{c(){e=P("label"),r&&r.c(),this.h()},l(s){e=N(s,"LABEL",{class:!0,for:!0});var a=O(e);r&&r.l(a),a.forEach(b),this.h()},h(){A(e,"class","range-slider-label "+Hn),A(e,"for",i[2])},m(s,a){S(s,e,a),r&&r.m(e,null),t=!0},p(s,a){r&&r.p&&(!t||a&16384)&&Zt(r,n,s,s[14],t?Yt(n,s[14],a,null):Qt(s[14]),null),(!t||a&4)&&A(e,"for",s[2])},i(s){t||(E(r,s),t=!0)},o(s){C(r,s),t=!1},d(s){s&&b(e),r&&r.d(s)}}}function yt(i){let e,t,n=i[8],r=[];for(let s=0;s<n.length;s+=1)r[s]=vt(gt(i,n,s));return{c(){e=P("datalist");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=N(s,"DATALIST",{id:!0,class:!0});var a=O(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(b),this.h()},h(){A(e,"id",t="tickmarks-"+i[2]),A(e,"class","range-slider-ticks")},m(s,a){S(s,e,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(s,a){if(a&256){n=s[8];let o;for(o=0;o<n.length;o+=1){const l=gt(s,n,o);r[o]?r[o].p(l,a):(r[o]=vt(l),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}a&4&&t!==(t="tickmarks-"+s[2])&&A(e,"id",t)},d(s){s&&b(e),Qe(r,s)}}}function vt(i){let e,t,n;return{c(){e=P("option"),this.h()},l(r){e=N(r,"OPTION",{label:!0}),O(e).forEach(b),this.h()},h(){e.__value=t=i[23],e.value=e.__value,A(e,"label",n=i[23])},m(r,s){S(r,e,s)},p(r,s){s&256&&t!==(t=r[23])&&(e.__value=t,e.value=e.__value),s&256&&n!==(n=r[23])&&A(e,"label",n)},d(r){r&&b(e)}}}function kt(i){let e,t;const n=i[15].trail,r=Xt(n,i,i[14],mt);return{c(){e=P("div"),r&&r.c(),this.h()},l(s){e=N(s,"DIV",{class:!0});var a=O(e);r&&r.l(a),a.forEach(b),this.h()},h(){A(e,"class","range-slider-trail")},m(s,a){S(s,e,a),r&&r.m(e,null),t=!0},p(s,a){r&&r.p&&(!t||a&16384)&&Zt(r,n,s,s[14],t?Yt(n,s[14],a,On):Qt(s[14]),mt)},i(s){t||(E(r,s),t=!0)},o(s){C(r,s),t=!1},d(s){s&&b(e),r&&r.d(s)}}}function Dn(i){let e,t,n,r,s,a,o,l,u,c,d,m,p=i[12].default&&bt(i),y=[{type:"range"},{id:i[2]},{name:i[1]},{class:s="range-slider-input "+i[9]},{list:a="tickmarks-"+i[2]},{"aria-label":i[7]},{min:i[3]},{max:i[4]},{step:i[5]},i[11]()],I={};for(let h=0;h<y.length;h+=1)I=ee(I,y[h]);let v=i[6]&&i[8]&&i[8].length&&yt(i),g=i[12].trail&&kt(i);return{c(){e=P("div"),p&&p.c(),t=H(),n=P("div"),r=P("input"),o=H(),v&&v.c(),l=H(),g&&g.c(),this.h()},l(h){e=N(h,"DIV",{class:!0,"data-testid":!0});var f=O(e);p&&p.l(f),t=B(f),n=N(f,"DIV",{class:!0});var w=O(n);r=N(w,"INPUT",{type:!0,id:!0,name:!0,class:!0,list:!0,"aria-label":!0,min:!0,max:!0,step:!0}),o=B(w),v&&v.l(w),w.forEach(b),l=B(f),g&&g.l(f),f.forEach(b),this.h()},h(){Ce(r,I),A(n,"class","range-content "+Bn),A(e,"class",u="range-slider "+i[10]),A(e,"data-testid","range-slider")},m(h,f){S(h,e,f),p&&p.m(e,null),F(e,t),F(e,n),F(n,r),r.autofocus&&r.focus(),lt(r,i[0]),F(n,o),v&&v.m(n,null),F(e,l),g&&g.m(e,null),c=!0,d||(m=[$(r,"change",i[19]),$(r,"input",i[19]),$(r,"click",i[16]),$(r,"change",i[17]),$(r,"blur",i[18])],d=!0)},p(h,[f]){h[12].default?p?(p.p(h,f),f&4096&&E(p,1)):(p=bt(h),p.c(),E(p,1),p.m(e,t)):p&&(te(),C(p,1,1,()=>{p=null}),ne()),Ce(r,I=Ze(y,[{type:"range"},(!c||f&4)&&{id:h[2]},(!c||f&2)&&{name:h[1]},(!c||f&512&&s!==(s="range-slider-input "+h[9]))&&{class:s},(!c||f&4&&a!==(a="tickmarks-"+h[2]))&&{list:a},(!c||f&128)&&{"aria-label":h[7]},(!c||f&8)&&{min:h[3]},(!c||f&16)&&{max:h[4]},(!c||f&32)&&{step:h[5]},h[11]()])),f&1&&lt(r,h[0]),h[6]&&h[8]&&h[8].length?v?v.p(h,f):(v=yt(h),v.c(),v.m(n,null)):v&&(v.d(1),v=null),h[12].trail?g?(g.p(h,f),f&4096&&E(g,1)):(g=kt(h),g.c(),E(g,1),g.m(e,null)):g&&(te(),C(g,1,1,()=>{g=null}),ne()),(!c||f&1024&&u!==(u="range-slider "+h[10]))&&A(e,"class",u)},i(h){c||(E(p),E(g),c=!0)},o(h){C(p),C(g),c=!1},d(h){h&&b(e),p&&p.d(),v&&v.d(),g&&g.d(),d=!1,Jt(m)}}}const Fn="space-y-2",Hn="",Bn="flex justify-center py-2",jn="w-full h-2";function Rn(i,e,t){let n,r;const s=["name","id","value","min","max","step","ticked","accent","label"];let a=ut(e,s),{$$slots:o={},$$scope:l}=e;const u=kn(o);let{name:c}=e,{id:d=String(Math.random())}=e,{value:m=0}=e,{min:p=0}=e,{max:y=100}=e,{step:I=1}=e,{ticked:v=!1}=e,{accent:g="accent-surface-900 dark:accent-surface-50"}=e,{label:h=""}=e,f;function w(){v!=!1&&t(8,f=Array.from({length:y-p+1},(T,vn)=>vn+p))}v&&w(),_n(()=>{w()});function D(){return delete a.class,a}function k(T){Fe.call(this,i,T)}function _(T){Fe.call(this,i,T)}function M(T){Fe.call(this,i,T)}function j(){m=Tn(this.value),t(0,m)}return i.$$set=T=>{t(22,e=ee(ee({},e),Pe(T))),t(21,a=ut(e,s)),"name"in T&&t(1,c=T.name),"id"in T&&t(2,d=T.id),"value"in T&&t(0,m=T.value),"min"in T&&t(3,p=T.min),"max"in T&&t(4,y=T.max),"step"in T&&t(5,I=T.step),"ticked"in T&&t(6,v=T.ticked),"accent"in T&&t(13,g=T.accent),"label"in T&&t(7,h=T.label),"$$scope"in T&&t(14,l=T.$$scope)},i.$$.update=()=>{t(10,n=`${Fn} ${e.class??""}`),i.$$.dirty&8192&&t(9,r=`${jn} ${g}`)},e=Pe(e),[m,c,d,p,y,I,v,h,f,r,n,D,u,g,l,o,k,_,M,j]}class Un extends re{constructor(e){super(),se(this,e,Rn,Dn,ae,{name:1,id:2,value:0,min:3,max:4,step:5,ticked:6,accent:13,label:7})}}const Vn={namespaces:{tei:"http://www.tei-c.org/ns/1.0",teieg:"http://www.tei-c.org/ns/Examples",rng:"http://relaxng.org/ns/structure/1.0"},tei:{eg:["<pre>","</pre>"],ptr:['<a href="$rw@target">$@target</a>'],ref:[["[target]",['<a href="$rw@target">',"</a>"]]],graphic:function(i){let e=new Image;return e.src=this.rw(i.getAttribute("url")),i.hasAttribute("width")&&e.setAttribute("width",i.getAttribute("width")),i.hasAttribute("height")&&e.setAttribute("height",i.getAttribute("height")),e},list:[["[type=gloss]",function(i){const e=i.ownerDocument;let t=e.createElement("dl");for(let n of Array.from(i.children))if(n.nodeType==1){if(n.localName=="tei-label"){let r=e.createElement("dt");r.innerHTML=n.innerHTML,t.appendChild(r)}if(n.localName=="tei-item"){let r=e.createElement("dd");r.innerHTML=n.innerHTML,t.appendChild(r)}}return t}]],note:[["[place=end]",function(i){const e=i.ownerDocument;this.noteIndex?this.noteIndex++:this.noteIndex=1;let t="_note_"+this.noteIndex,n=e.createElement("a");n.setAttribute("id","src"+t),n.setAttribute("href","#"+t),n.innerHTML=this.noteIndex;let r=e.createElement("sup");r.appendChild(n);let s=e.querySelector("ol.notes");s||(s=e.createElement("ol"),s.setAttribute("class","notes"),this.dom.appendChild(s));let a=e.createElement("li");return a.id=t,a.innerHTML=i.innerHTML,s.appendChild(a),r}],["_",["(",")"]]],teiHeader:function(i){this.hideContent(i,!1)},title:[["tei-titlestmt>tei-title",function(i){const e=i.ownerDocument;let t=e.createElement("title");t.innerHTML=i.innerText,e.querySelector("head").appendChild(t)}]]},teieg:{egXML:function(i){let t=i.ownerDocument.createElement("pre"),n=this.serialize(i,!0).replace(/</g,"&lt;"),r=n.match(/^[\t ]+/);return r&&(n=n.replace(new RegExp("^"+r[0],"mg"),"")),t.innerHTML=n,t}}};function Gn(i,e){let t=1,n=i;for(;n&&n.previousElementSibling!==null&&(!e||n.previousElementSibling.localName==e)&&(t++,n=n.previousElementSibling,!!n.previousElementSibling););return t}function zn(i){const e=i.ownerDocument;let t=n=>{let r=n.nodeType===1?e.createElement(n.nodeName):n.cloneNode(!0);if(n.attributes)for(let s of Array.from(n.attributes))s.name!=="data-processed"&&r.setAttribute(s.name,s.value);for(let s of Array.from(n.childNodes))if(s.nodeType==1){if(!n.hasAttribute("data-empty"))if(s.hasAttribute("data-original")){for(let a of Array.from(s.childNodes)){let o=r.appendChild(t(a));o.nodeType===1&&o.hasAttribute("data-origid")&&(o.setAttribute("id",o.getAttribute("data-origid")),o.removeAttribute("data-origid"))}return r}else r.appendChild(t(s))}else r.appendChild(s.cloneNode());return r};return t(i)}function qn(i){return i.replace(/ .*$/,"")}function $t(i,e=!0){const t=i.ownerDocument;if(i.childNodes.length>0){let n=t.createElement("span");i.appendChild(n),n.setAttribute("hidden",""),n.setAttribute("data-original","");for(let r of Array.from(i.childNodes))if(r!==n){if(r.nodeType===1){r.setAttribute("data-processed","");for(let s of r.querySelectorAll("*"))s.setAttribute("data-processed","")}n.appendChild(i.removeChild(r))}if(e)for(let r of Array.from(n.querySelectorAll("*")))r.hasAttribute("id")&&(r.setAttribute("data-origid",r.getAttribute("id")),r.removeAttribute("id"))}}function Kn(i){return this.rw(this.first(i))}function Wn(i,e){let t="";for(let n=0;n<e;n++)t+=i;return t}function Jn(i){let e=this.prefixDefs[i.substring(0,i.indexOf(":"))];return i.replace(new RegExp(e.matchPattern),e.replacementPattern)}function Xn(i){return this.prefixDefs[i]}function Zn(i){return i.match(/^(?:http|mailto|file|\/|#).*$/)?i:this.base+this.utilities.first(i)}function Ue(i,e,t){let n="",r=s=>!/[^\t\n\r ]/.test(s);if(!e&&i.nodeType==1){typeof t=="string"&&t!==""?n+=`
`+t+"<":n+="<",n+=i.getAttribute("data-origname");let s=i.hasAttribute("data-origatts")?i.getAttribute("data-origatts").split(" "):[];for(let a of Array.from(i.attributes))!a.name.startsWith("data-")&&!["id","lang","class"].includes(a.name)&&(n+=" "+s.find(function(o){return o.toLowerCase()==a.name})+'="'+a.value+'"'),a.name=="data-xmlns"&&(n+=' xmlns="'+a.value+'"');i.childNodes.length>0?n+=">":n+="/>"}for(let s of Array.from(i.childNodes))switch(s.nodeType){case 1:typeof t=="string"?n+=Ue(s,!1,t+"  "):n+=Ue(s,!1,t);break;case 7:n+="<?"+s.nodeValue+"?>";break;case 8:n+="<!--"+s.nodeValue+"-->";break;default:if(e&&r(s.nodeValue)&&(n+=s.nodeValue.replace(/^\s*\n/,"")),typeof t=="string"&&r(s.nodeValue))break;n+=s.nodeValue}return!e&&i.childNodes.length>0&&(typeof t=="string"?n+=`
`+t+"</":n+="</",n+=i.getAttribute("data-origname")+">"),n}function Qn(i){return i.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}function Ne(i){return i.includes(":"),i.replace(/:/,"-").toLowerCase()}function en(i,e=null,t=!1){try{window.customElements.define(Ne(i),class extends HTMLElement{constructor(){super(),this.matches(":defined")||(e&&e.call(this),this.setAttribute("data-processed",""))}connectedCallback(){this.hasAttribute("data-processed")||(e&&e.call(this),this.setAttribute("data-processed",""))}})}catch(n){t&&(console.log(Ne(i)+" couldn't be registered or is already registered."),console.log(n))}}const He=Object.freeze(Object.defineProperty({__proto__:null,copyAndReset:zn,defineCustomElement:en,first:qn,getOrdinality:Gn,getPrefixDef:Xn,hideContent:$t,normalizeURI:Kn,repeat:Wn,resolveURI:Jn,rw:Zn,serialize:Ue,tagName:Ne,unEscapeEntities:Qn},Symbol.toStringTag,{value:"Module"}));function Yn(i){if(i.namespaces)for(let e of Object.keys(i.namespaces))!this.namespaces.has(i.namespaces[e])&&!Array.from(this.namespaces.values()).includes(e)&&this.namespaces.set(i.namespaces[e],e);for(let e of this.namespaces.values())if(i[e])for(let t of Object.keys(i[e]))this.behaviors[`${e}:${t}`]=i[e][t];if(i.functions)for(let e of Object.keys(i.functions))this.utilities[e]=i.functions[e];i.handlers&&console.log("Behavior handlers are no longer used."),i.fallbacks&&console.log("Fallback behaviors are no longer used.")}function $n(i,e,t){let n;if(i===Object(i))for(let r of Object.keys(i))this.namespaces.has(i[r])||(this.namespaces.set(i[r],r),n=r);else n=i;this.behaviors[`${n}:${e}`]=t}function ei(i,e){let t;if(i===Object(i))for(let n of Object.keys(i))this.namespaces.has(i[n])||(this.namespaces.set(i[n],n),t=n);else t=i;delete this.behaviors[`${t}:${e}`]}function ti(i,e){const t=i.documentElement;let n=1,r=function(a){return e.has(a.namespaceURI?a.namespaceURI:"")||e.set(a.namespaceURI,"ns"+n++),e.get(a.namespaceURI?a.namespaceURI:"")+":"+a.localName};const s=new Set(Array.from(t.querySelectorAll("*"),r));return s.add(r(t)),s}function ni(i){return Array.from(i.querySelectorAll("*[data-origname]"),e=>e.localName.replace(/(\w+)-.+/,"$1:")+e.getAttribute("data-origname"))}class ue{constructor(e){this.options=e||{},this.document=this.options.documentObject?this.options.documentObject:void 0,this.document===void 0&&(typeof window<"u"&&window.document?this.document=window.document:typeof global<"u"&&global.document&&(this.document=global.document)),this.addBehaviors=Yn.bind(this),this.addBehavior=$n.bind(this),this.removeBehavior=ei.bind(this),this.utilities={};for(const t of Object.keys(He))["getPrefixDef","rw","resolveURI"].includes(t)?this.utilities[t]=He[t].bind(this):this.utilities[t]=He[t];if(this.els=[],this.namespaces=new Map,this.behaviors={},this.hasStyle=!1,this.prefixDefs=[],this.debug=this.options.debug===!0,this.discardContent=this.options.discardContent===!0,this.options.base)this.base=this.options.base;else try{window&&(this.base=window.location.href.replace(/\/[^\/]*$/,"/"))}catch{this.base=""}this.options.omitDefaultBehaviors||this.addBehaviors(Vn),this.options.ignoreFragmentId&&window&&window.removeEventListener("ceteiceanload",ue.restorePosition)}getHTML5(e,t,n){return window&&window.location.href.startsWith(this.base)&&e.indexOf("/")>=0&&(this.base=e.replace(/\/[^\/]*$/,"/")),new Promise(function(s,a){let o=new XMLHttpRequest;o.open("GET",e),o.send(),o.onload=function(){this.status>=200&&this.status<300?s(this.response):a(this.statusText)},o.onerror=function(){a(this.statusText)}}).catch(function(s){console.log("Could not get XML file."),this.debug&&console.log(s)}).then(s=>this.makeHTML5(s,t,n))}makeHTML5(e,t,n){return this.XML_dom=new DOMParser().parseFromString(e,"text/xml"),this.domToHTML5(this.XML_dom,t,n)}preprocess(e,t,n){this.els=ti(e,this.namespaces);let r=s=>{let a;if(this.namespaces.has(s.namespaceURI?s.namespaceURI:"")){let o=this.namespaces.get(s.namespaceURI?s.namespaceURI:"");a=this.document.createElement(`${o}-${s.localName}`)}else a=this.document.importNode(s,!1);for(let o of Array.from(s.attributes))o.name=="xmlns"?a.setAttribute("data-xmlns",o.value):a.setAttribute(o.name,o.value),o.name=="xml:id"&&a.setAttribute("id",o.value),o.name=="xml:lang"&&a.setAttribute("lang",o.value),o.name=="rendition"&&a.setAttribute("class",o.value.replace(/#/g,""));if(a.setAttribute("data-origname",s.localName),s.hasAttributes()&&a.setAttribute("data-origatts",s.getAttributeNames().join(" ")),s.childNodes.length==0&&a.setAttribute("data-empty",""),s.localName=="head"){let o=e.evaluate("count(ancestor::*[tei:head])",s,function(l){if(l=="tei")return"http://www.tei-c.org/ns/1.0"},1,null);a.setAttribute("data-level",o.numberValue)}if(s.localName=="tagsDecl"){let o=this.document.createElement("style");for(let l of Array.from(s.childNodes))if(l.nodeType==1&&l.localName=="rendition"&&l.getAttribute("scheme")=="css"){let u="";l.hasAttribute("selector")?(u+=l.getAttribute("selector").replace(/([^#, >]+\w*)/g,"tei-$1").replace(/#tei-/g,"#")+`{
`,u+=l.textContent):(u+="."+l.getAttribute("xml:id")+`{
`,u+=l.textContent),u+=`
}
`,o.appendChild(this.document.createTextNode(u))}o.childNodes.length>0&&(a.appendChild(o),this.hasStyle=!0)}s.localName=="prefixDef"&&(this.prefixDefs.push(s.getAttribute("ident")),this.prefixDefs[s.getAttribute("ident")]={matchPattern:s.getAttribute("matchPattern"),replacementPattern:s.getAttribute("replacementPattern")});for(let o of Array.from(s.childNodes))o.nodeType==1?a.appendChild(r(o)):a.appendChild(o.cloneNode());return n&&n(a,s),a};if(this.dom=r(e.documentElement),this.utilities.dom=this.dom,t)t(this.dom,this),window&&window.dispatchEvent(ke);else return typeof window<"u"&&window.dispatchEvent(ke),this.dom}domToHTML5(e,t,n){if(this.preprocess(e,null,n),this.applyBehaviors(),this.done=!0,t)t(this.dom,this),window&&window.dispatchEvent(ke);else return typeof window<"u"&&window.dispatchEvent(ke),this.dom}processPage(){this.els=ni(this.document),this.applyBehaviors()}unsetNamespace(e){this.namespaces.delete(e)}setBaseUrl(e){this.base=e}append(e,t){let n=this;if(t){let r=e.call(n.utilities,t);r&&!n.childExists(t.firstElementChild,r.nodeName)&&n.appendBasic(t,r)}else return function(){if(!this.hasAttribute("data-processed")){let r=e.call(n.utilities,this);r&&!n.childExists(this.firstElementChild,r.nodeName)&&n.appendBasic(this,r)}}}appendBasic(e,t){this.discardContent?e.innerHTML="":$t(e,!0),e.appendChild(t)}bName(e){return e.tagName.substring(0,e.tagName.indexOf("-")).toLowerCase()+":"+e.getAttribute("data-origname")}childExists(e,t){return e&&e.nodeName==t?!0:e&&e.nextElementSibling&&this.childExists(e.nextElementSibling,t)}decorator(e){if(Array.isArray(e)&&e.length==0)return function(n){};if(Array.isArray(e)&&!Array.isArray(e[0]))return this.applyDecorator(e);let t=this;return function(n){for(let r of e)if(n.matches(r[0])||r[0]==="_")return Array.isArray(r[1])?t.decorator(r[1]).call(this,n):r[1].call(this,n)}}applyDecorator(e){let t=this;return function(n){let r=[];for(let s=0;s<e.length;s++)r.push(t.template(e[s],n));return t.insert(n,r)}}getFallback(e,t){if(e[t])return e[t]instanceof Function?e[t]:this.decorator(e[t])}getHandler(e,t){if(e[t])return e[t]instanceof Function?this.append(e[t]):this.append(this.decorator(e[t]))}insert(e,t){let n=this.document.createElement("span");for(let r of Array.from(e.childNodes))r.nodeType===1&&!r.hasAttribute("data-processed")&&this.processElement(r);if(t[0].match("<[^>]+>")&&t[1]&&t[1].match("<[^>]+>"))n.innerHTML=t[0]+e.innerHTML+(t[1]?t[1]:"");else{n.innerHTML=t[0],n.setAttribute("data-before",t[0].replace(/<[^>]+>/g,"").length);for(let r of Array.from(e.childNodes))n.appendChild(r.cloneNode(!0));t.length>1&&(n.innerHTML+=t[1],n.setAttribute("data-after",t[1].replace(/<[^>]+>/g,"").length))}return n}processElement(e){if(e.hasAttribute("data-origname")&&!e.hasAttribute("data-processed")){let t=this.getFallback(this.bName(e));t&&(this.append(t,e),e.setAttribute("data-processed",""))}for(let t of Array.from(e.childNodes))t.nodeType===1&&this.processElement(t)}template(e,t){let n=e;if(e.search(/\$(\w*)(@([a-zA-Z:]+))/)){let r=/\$(\w*)@([a-zA-Z:]+)/g,s;for(;s=r.exec(e);)t.hasAttribute(s[2])?s[1]&&this.utilities[s[1]]?n=n.replace(s[0],this.utilities[s[1]](t.getAttribute(s[2]))):n=n.replace(s[0],t.getAttribute(s[2])):n=n.replace(s[0],"")}return n}applyBehaviors(){typeof window<"u"&&window.customElements?this.define.call(this,this.els):this.fallback.call(this,this.els)}define(e){for(let t of e){const n=this.getHandler(this.behaviors,t);en(t,n,this.debug)}}fallback(e){for(let t of e){let n=this.getFallback(this.behaviors,t);if(n)for(let r of Array.from((this.dom&&!this.done?this.dom:this.document).getElementsByTagName(Ne(t))))r.hasAttribute("data-processed")||this.append(n,r)}}static savePosition(){window.sessionStorage.setItem(window.location+"-scroll",window.scrollY)}static restorePosition(){if(window.location.hash)setTimeout(function(){let e=this.document.querySelector(window.decodeURI(window.location.hash));e&&e.scrollIntoView()},100);else{let e;(e=window.sessionStorage.getItem(window.location+"-scroll"))&&setTimeout(function(){window.scrollTo(0,e)},100)}}}try{if(typeof window<"u"){window.CETEI=ue,window.addEventListener("beforeunload",ue.savePosition);var ke=new Event("ceteiceanload");window.addEventListener("ceteiceanload",ue.restorePosition)}}catch(i){console.log(i)}let ii={tei:{note:[["[type=gloss]",function(i){this.noteIndex?this.noteIndex++:this.noteIndex=1;let e="note"+this.noteIndex,t=document.createElement("a");t.setAttribute("id","src"+e),t.setAttribute("href","#"+e),t.innerHTML=this.noteIndex;let n=document.createElement("sup");n.appendChild(t);let r=this.dom.querySelector("ol.notes");r||(r=document.createElement("ol"),r.setAttribute("class","notes"),this.dom.appendChild(r));let s=document.createElement("li");return s.id=e,s.innerHTML='<a href="#src'+e+'">^</a> '+i.innerHTML,r.appendChild(s),n}],["[type=side-note]",function(i){i.style.fontSize="0.75em",i.style.marginLeft="1em",i.style.fontStyle="italic"}]]}};const{document:_t}=Sn;function Tt(i){let e,t;return e=new Mn({}),{c(){q(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function wt(i){let e,t;return{c(){e=P("p"),t=X(i[1]),this.h()},l(n){e=N(n,"P",{"data-testid":!0});var r=O(e);t=Z(r,i[1]),r.forEach(b),this.h()},h(){A(e,"data-testid","error-message")},m(n,r){S(n,e,r),F(e,t)},p(n,r){r&2&&ge(t,n[1])},d(n){n&&b(e)}}}function ri(i){let e,t,n,r,s,a=!i[0]&&Tt(),o=i[1]&&wt(i);return{c(){e=P("link"),t=H(),n=P("div"),a&&a.c(),r=H(),o&&o.c(),this.h()},l(l){const u=wn("svelte-1rxmp49",_t.head);e=N(u,"LINK",{rel:!0,type:!0,href:!0}),u.forEach(b),t=B(l),n=N(l,"DIV",{id:!0,"data-testid":!0});var c=O(n);a&&a.l(c),r=B(c),o&&o.l(c),c.forEach(b),this.h()},h(){A(e,"rel","stylesheet"),A(e,"type","text/css"),A(e,"href",$e+"/additional-style/TEIstyle.css"),A(n,"id","TEI-container"),A(n,"data-testid","TEI-container")},m(l,u){F(_t.head,e),S(l,t,u),S(l,n,u),a&&a.m(n,null),F(n,r),o&&o.m(n,null),s=!0},p(l,[u]){l[0]?a&&(te(),C(a,1,1,()=>{a=null}),ne()):a?u&1&&E(a,1):(a=Tt(),a.c(),E(a,1),a.m(n,r)),l[1]?o?o.p(l,u):(o=wt(l),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i(l){s||(E(a),s=!0)},o(l){C(a),s=!1},d(l){b(e),l&&b(t),l&&b(n),a&&a.d(),o&&o.d()}}}function si(i,e,t){let n=!1,r,{path:s=""}=e;return Ye(async()=>{try{if(s==="")throw"No path specified";var a=new ue;a.addBehaviors(ii),a.getHTML5(s,function(o){document.getElementById("TEI-container").appendChild(o)}),t(0,n=!0)}catch(o){t(1,r=o.toString()),t(0,n=!0);return}}),i.$$set=a=>{"path"in a&&t(2,s=a.path)},[n,r,s]}class ai extends re{constructor(e){super(),se(this,e,si,ri,ae,{path:2})}}function oi(i){let e,t,n;return{c(){e=P("audio"),t=P("source"),this.h()},l(r){e=N(r,"AUDIO",{});var s=O(e);t=N(s,"SOURCE",{src:!0,type:!0}),s.forEach(b),this.h()},h(){ct(t.src,n=i[0])||A(t,"src",n),A(t,"type","audio/mpeg"),e.controls=!0},m(r,s){S(r,e,s),F(e,t)},p(r,[s]){s&1&&!ct(t.src,n=r[0])&&A(t,"src",n)},i:be,o:be,d(r){r&&b(e)}}}function li(i,e,t){let{audioPath:n}=e;return i.$$set=r=>{"audioPath"in r&&t(0,n=r.audioPath)},[n]}class ui extends re{constructor(e){super(),se(this,e,li,oi,ae,{audioPath:0})}}const me=/^[a-z0-9]+(-[a-z0-9]+)*$/,Le=(i,e,t,n="")=>{const r=i.split(":");if(i.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;n=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const o=r.pop(),l=r.pop(),u={provider:r.length>0?r[0]:n,prefix:l,name:o};return e&&!we(u)?null:u}const s=r[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return e&&!we(o)?null:o}if(t&&n===""){const o={provider:n,prefix:"",name:s};return e&&!we(o,t)?null:o}return null},we=(i,e)=>i?!!((i.provider===""||i.provider.match(me))&&(e&&i.prefix===""||i.prefix.match(me))&&i.name.match(me)):!1,tn=Object.freeze({left:0,top:0,width:16,height:16}),Me=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Oe=Object.freeze({...tn,...Me}),Ve=Object.freeze({...Oe,body:"",hidden:!1});function ci(i,e){const t={};!i.hFlip!=!e.hFlip&&(t.hFlip=!0),!i.vFlip!=!e.vFlip&&(t.vFlip=!0);const n=((i.rotate||0)+(e.rotate||0))%4;return n&&(t.rotate=n),t}function St(i,e){const t=ci(i,e);for(const n in Ve)n in Me?n in i&&!(n in t)&&(t[n]=Me[n]):n in e?t[n]=e[n]:n in i&&(t[n]=i[n]);return t}function fi(i,e){const t=i.icons,n=i.aliases||Object.create(null),r=Object.create(null);function s(a){if(t[a])return r[a]=[];if(!(a in r)){r[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(r[a]=[o].concat(l))}return r[a]}return(e||Object.keys(t).concat(Object.keys(n))).forEach(s),r}function di(i,e,t){const n=i.icons,r=i.aliases||Object.create(null);let s={};function a(o){s=St(n[o]||r[o],s)}return a(e),t.forEach(a),St(i,s)}function nn(i,e){const t=[];if(typeof i!="object"||typeof i.icons!="object")return t;i.not_found instanceof Array&&i.not_found.forEach(r=>{e(r,null),t.push(r)});const n=fi(i);for(const r in n){const s=n[r];s&&(e(r,di(i,r,s)),t.push(r))}return t}const hi={provider:"",aliases:{},not_found:{},...tn};function Be(i,e){for(const t in e)if(t in i&&typeof i[t]!=typeof e[t])return!1;return!0}function rn(i){if(typeof i!="object"||i===null)return null;const e=i;if(typeof e.prefix!="string"||!i.icons||typeof i.icons!="object"||!Be(i,hi))return null;const t=e.icons;for(const r in t){const s=t[r];if(!r.match(me)||typeof s.body!="string"||!Be(s,Ve))return null}const n=e.aliases||Object.create(null);for(const r in n){const s=n[r],a=s.parent;if(!r.match(me)||typeof a!="string"||!t[a]&&!n[a]||!Be(s,Ve))return null}return e}const It=Object.create(null);function pi(i,e){return{provider:i,prefix:e,icons:Object.create(null),missing:new Set}}function ie(i,e){const t=It[i]||(It[i]=Object.create(null));return t[e]||(t[e]=pi(i,e))}function et(i,e){return rn(e)?nn(e,(t,n)=>{n?i.icons[t]=n:i.missing.add(t)}):[]}function mi(i,e,t){try{if(typeof t.body=="string")return i.icons[e]={...t},!0}catch{}return!1}let ye=!1;function sn(i){return typeof i=="boolean"&&(ye=i),ye}function gi(i){const e=typeof i=="string"?Le(i,!0,ye):i;if(e){const t=ie(e.provider,e.prefix),n=e.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function bi(i,e){const t=Le(i,!0,ye);if(!t)return!1;const n=ie(t.provider,t.prefix);return mi(n,t.name,e)}function yi(i,e){if(typeof i!="object")return!1;if(typeof e!="string"&&(e=i.provider||""),ye&&!e&&!i.prefix){let r=!1;return rn(i)&&(i.prefix="",nn(i,(s,a)=>{a&&bi(s,a)&&(r=!0)})),r}const t=i.prefix;if(!we({provider:e,prefix:t,name:"a"}))return!1;const n=ie(e,t);return!!et(n,i)}const an=Object.freeze({width:null,height:null}),on=Object.freeze({...an,...Me}),vi=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ki=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Et(i,e,t){if(e===1)return i;if(t=t||100,typeof i=="number")return Math.ceil(i*e*t)/t;if(typeof i!="string")return i;const n=i.split(vi);if(n===null||!n.length)return i;const r=[];let s=n.shift(),a=ki.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?r.push(s):r.push(Math.ceil(o*e*t)/t)}else r.push(s);if(s=n.shift(),s===void 0)return r.join("");a=!a}}const _i=i=>i==="unset"||i==="undefined"||i==="none";function Ti(i,e){const t={...Oe,...i},n={...on,...e},r={left:t.left,top:t.top,width:t.width,height:t.height};let s=t.body;[t,n].forEach(y=>{const I=[],v=y.hFlip,g=y.vFlip;let h=y.rotate;v?g?h+=2:(I.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),I.push("scale(-1 1)"),r.top=r.left=0):g&&(I.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),I.push("scale(1 -1)"),r.top=r.left=0);let f;switch(h<0&&(h-=Math.floor(h/4)*4),h=h%4,h){case 1:f=r.height/2+r.top,I.unshift("rotate(90 "+f.toString()+" "+f.toString()+")");break;case 2:I.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:f=r.width/2+r.left,I.unshift("rotate(-90 "+f.toString()+" "+f.toString()+")");break}h%2===1&&(r.left!==r.top&&(f=r.left,r.left=r.top,r.top=f),r.width!==r.height&&(f=r.width,r.width=r.height,r.height=f)),I.length&&(s='<g transform="'+I.join(" ")+'">'+s+"</g>")});const a=n.width,o=n.height,l=r.width,u=r.height;let c,d;a===null?(d=o===null?"1em":o==="auto"?u:o,c=Et(d,l/u)):(c=a==="auto"?l:a,d=o===null?Et(c,u/l):o==="auto"?u:o);const m={},p=(y,I)=>{_i(I)||(m[y]=I.toString())};return p("width",c),p("height",d),m.viewBox=r.left.toString()+" "+r.top.toString()+" "+l.toString()+" "+u.toString(),{attributes:m,body:s}}const wi=/\sid="(\S+)"/g,Si="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Ii=0;function Ei(i,e=Si){const t=[];let n;for(;n=wi.exec(i);)t.push(n[1]);if(!t.length)return i;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(s=>{const a=typeof e=="function"?e(s):e+(Ii++).toString(),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i=i.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+r+"$3")}),i=i.replace(new RegExp(r,"g"),""),i}const Ge=Object.create(null);function xi(i,e){Ge[i]=e}function ze(i){return Ge[i]||Ge[""]}function tt(i){let e;if(typeof i.resources=="string")e=[i.resources];else if(e=i.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:i.path||"/",maxURL:i.maxURL||500,rotate:i.rotate||750,timeout:i.timeout||5e3,random:i.random===!0,index:i.index||0,dataAfterTimeout:i.dataAfterTimeout!==!1}}const nt=Object.create(null),fe=["https://api.simplesvg.com","https://api.unisvg.com"],Se=[];for(;fe.length>0;)fe.length===1||Math.random()>.5?Se.push(fe.shift()):Se.push(fe.pop());nt[""]=tt({resources:["https://api.iconify.design"].concat(Se)});function Ai(i,e){const t=tt(e);return t===null?!1:(nt[i]=t,!0)}function it(i){return nt[i]}const Ci=()=>{let i;try{if(i=fetch,typeof i=="function")return i}catch{}};let xt=Ci();function Pi(i,e){const t=it(i);if(!t)return 0;let n;if(!t.maxURL)n=0;else{let r=0;t.resources.forEach(a=>{r=Math.max(r,a.length)});const s=e+".json?icons=";n=t.maxURL-r-t.path.length-s.length}return n}function Ni(i){return i===404}const Mi=(i,e,t)=>{const n=[],r=Pi(i,e),s="icons";let a={type:s,provider:i,prefix:e,icons:[]},o=0;return t.forEach((l,u)=>{o+=l.length+1,o>=r&&u>0&&(n.push(a),a={type:s,provider:i,prefix:e,icons:[]},o=l.length),a.icons.push(l)}),n.push(a),n};function Li(i){if(typeof i=="string"){const e=it(i);if(e)return e.path}return"/"}const Oi=(i,e,t)=>{if(!xt){t("abort",424);return}let n=Li(e.provider);switch(e.type){case"icons":{const s=e.prefix,o=e.icons.join(","),l=new URLSearchParams({icons:o});n+=s+".json?"+l.toString();break}case"custom":{const s=e.uri;n+=s.slice(0,1)==="/"?s.slice(1):s;break}default:t("abort",400);return}let r=503;xt(i+n).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{t(Ni(a)?"abort":"next",a)});return}return r=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?t("abort",s):t("next",r)});return}setTimeout(()=>{t("success",s)})}).catch(()=>{t("next",r)})},Di={prepare:Mi,send:Oi};function Fi(i){const e={loaded:[],missing:[],pending:[]},t=Object.create(null);i.sort((r,s)=>r.provider!==s.provider?r.provider.localeCompare(s.provider):r.prefix!==s.prefix?r.prefix.localeCompare(s.prefix):r.name.localeCompare(s.name));let n={provider:"",prefix:"",name:""};return i.forEach(r=>{if(n.name===r.name&&n.prefix===r.prefix&&n.provider===r.provider)return;n=r;const s=r.provider,a=r.prefix,o=r.name,l=t[s]||(t[s]=Object.create(null)),u=l[a]||(l[a]=ie(s,a));let c;o in u.icons?c=e.loaded:a===""||u.missing.has(o)?c=e.missing:c=e.pending;const d={provider:s,prefix:a,name:o};c.push(d)}),e}function ln(i,e){i.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(r=>r.id!==e))})}function Hi(i){i.pendingCallbacksFlag||(i.pendingCallbacksFlag=!0,setTimeout(()=>{i.pendingCallbacksFlag=!1;const e=i.loaderCallbacks?i.loaderCallbacks.slice(0):[];if(!e.length)return;let t=!1;const n=i.provider,r=i.prefix;e.forEach(s=>{const a=s.icons,o=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==r)return!0;const u=l.name;if(i.icons[u])a.loaded.push({provider:n,prefix:r,name:u});else if(i.missing.has(u))a.missing.push({provider:n,prefix:r,name:u});else return t=!0,!0;return!1}),a.pending.length!==o&&(t||ln([i],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let Bi=0;function ji(i,e,t){const n=Bi++,r=ln.bind(null,t,n);if(!e.pending.length)return r;const s={id:n,icons:e,callback:i,abort:r};return t.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),r}function Ri(i,e=!0,t=!1){const n=[];return i.forEach(r=>{const s=typeof r=="string"?Le(r,e,t):r;s&&n.push(s)}),n}var Ui={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Vi(i,e,t,n){const r=i.resources.length,s=i.random?Math.floor(Math.random()*r):i.index;let a;if(i.random){let k=i.resources.slice(0);for(a=[];k.length>1;){const _=Math.floor(Math.random()*k.length);a.push(k[_]),k=k.slice(0,_).concat(k.slice(_+1))}a=a.concat(k)}else a=i.resources.slice(s).concat(i.resources.slice(0,s));const o=Date.now();let l="pending",u=0,c,d=null,m=[],p=[];typeof n=="function"&&p.push(n);function y(){d&&(clearTimeout(d),d=null)}function I(){l==="pending"&&(l="aborted"),y(),m.forEach(k=>{k.status==="pending"&&(k.status="aborted")}),m=[]}function v(k,_){_&&(p=[]),typeof k=="function"&&p.push(k)}function g(){return{startTime:o,payload:e,status:l,queriesSent:u,queriesPending:m.length,subscribe:v,abort:I}}function h(){l="failed",p.forEach(k=>{k(void 0,c)})}function f(){m.forEach(k=>{k.status==="pending"&&(k.status="aborted")}),m=[]}function w(k,_,M){const j=_!=="success";switch(m=m.filter(T=>T!==k),l){case"pending":break;case"failed":if(j||!i.dataAfterTimeout)return;break;default:return}if(_==="abort"){c=M,h();return}if(j){c=M,m.length||(a.length?D():h());return}if(y(),f(),!i.random){const T=i.resources.indexOf(k.resource);T!==-1&&T!==i.index&&(i.index=T)}l="completed",p.forEach(T=>{T(M)})}function D(){if(l!=="pending")return;y();const k=a.shift();if(k===void 0){if(m.length){d=setTimeout(()=>{y(),l==="pending"&&(f(),h())},i.timeout);return}h();return}const _={status:"pending",resource:k,callback:(M,j)=>{w(_,M,j)}};m.push(_),u++,d=setTimeout(D,i.rotate),t(k,e,_.callback)}return setTimeout(D),g}function un(i){const e={...Ui,...i};let t=[];function n(){t=t.filter(o=>o().status==="pending")}function r(o,l,u){const c=Vi(e,o,l,(d,m)=>{n(),u&&u(d,m)});return t.push(c),c}function s(o){return t.find(l=>o(l))||null}return{query:r,find:s,setIndex:o=>{e.index=o},getIndex:()=>e.index,cleanup:n}}function At(){}const je=Object.create(null);function Gi(i){if(!je[i]){const e=it(i);if(!e)return;const t=un(e),n={config:e,redundancy:t};je[i]=n}return je[i]}function zi(i,e,t){let n,r;if(typeof i=="string"){const s=ze(i);if(!s)return t(void 0,424),At;r=s.send;const a=Gi(i);a&&(n=a.redundancy)}else{const s=tt(i);if(s){n=un(s);const a=i.resources?i.resources[0]:"",o=ze(a);o&&(r=o.send)}}return!n||!r?(t(void 0,424),At):n.query(e,r,t)().abort}const Ct="iconify2",ve="iconify",cn=ve+"-count",Pt=ve+"-version",fn=36e5,qi=168;function qe(i,e){try{return i.getItem(e)}catch{}}function rt(i,e,t){try{return i.setItem(e,t),!0}catch{}}function Nt(i,e){try{i.removeItem(e)}catch{}}function Ke(i,e){return rt(i,cn,e.toString())}function We(i){return parseInt(qe(i,cn))||0}const De={local:!0,session:!0},dn={local:new Set,session:new Set};let st=!1;function Ki(i){st=i}let _e=typeof window>"u"?{}:window;function hn(i){const e=i+"Storage";try{if(_e&&_e[e]&&typeof _e[e].length=="number")return _e[e]}catch{}De[i]=!1}function pn(i,e){const t=hn(i);if(!t)return;const n=qe(t,Pt);if(n!==Ct){if(n){const o=We(t);for(let l=0;l<o;l++)Nt(t,ve+l.toString())}rt(t,Pt,Ct),Ke(t,0);return}const r=Math.floor(Date.now()/fn)-qi,s=o=>{const l=ve+o.toString(),u=qe(t,l);if(typeof u=="string"){try{const c=JSON.parse(u);if(typeof c=="object"&&typeof c.cached=="number"&&c.cached>r&&typeof c.provider=="string"&&typeof c.data=="object"&&typeof c.data.prefix=="string"&&e(c,o))return!0}catch{}Nt(t,l)}};let a=We(t);for(let o=a-1;o>=0;o--)s(o)||(o===a-1?(a--,Ke(t,a)):dn[i].add(o))}function mn(){if(!st){Ki(!0);for(const i in De)pn(i,e=>{const t=e.data,n=e.provider,r=t.prefix,s=ie(n,r);if(!et(s,t).length)return!1;const a=t.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,a):a,!0})}}function Wi(i,e){const t=i.lastModifiedCached;if(t&&t>=e)return t===e;if(i.lastModifiedCached=e,t)for(const n in De)pn(n,r=>{const s=r.data;return r.provider!==i.provider||s.prefix!==i.prefix||s.lastModified===e});return!0}function Ji(i,e){st||mn();function t(n){let r;if(!De[n]||!(r=hn(n)))return;const s=dn[n];let a;if(s.size)s.delete(a=Array.from(s).shift());else if(a=We(r),!Ke(r,a+1))return;const o={cached:Math.floor(Date.now()/fn),provider:i.provider,data:e};return rt(r,ve+a.toString(),JSON.stringify(o))}e.lastModified&&!Wi(i,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),t("local")||t("session"))}function Mt(){}function Xi(i){i.iconsLoaderFlag||(i.iconsLoaderFlag=!0,setTimeout(()=>{i.iconsLoaderFlag=!1,Hi(i)}))}function Zi(i,e){i.iconsToLoad?i.iconsToLoad=i.iconsToLoad.concat(e).sort():i.iconsToLoad=e,i.iconsQueueFlag||(i.iconsQueueFlag=!0,setTimeout(()=>{i.iconsQueueFlag=!1;const{provider:t,prefix:n}=i,r=i.iconsToLoad;delete i.iconsToLoad;let s;if(!r||!(s=ze(t)))return;s.prepare(t,n,r).forEach(o=>{zi(t,o,l=>{if(typeof l!="object")o.icons.forEach(u=>{i.missing.add(u)});else try{const u=et(i,l);if(!u.length)return;const c=i.pendingIcons;c&&u.forEach(d=>{c.delete(d)}),Ji(i,l)}catch(u){console.error(u)}Xi(i)})})}))}const Qi=(i,e)=>{const t=Ri(i,!0,sn()),n=Fi(t);if(!n.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(n.loaded,n.missing,n.pending,Mt)}),()=>{l=!1}}const r=Object.create(null),s=[];let a,o;return n.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===o&&u===a)return;a=u,o=c,s.push(ie(u,c));const d=r[u]||(r[u]=Object.create(null));d[c]||(d[c]=[])}),n.pending.forEach(l=>{const{provider:u,prefix:c,name:d}=l,m=ie(u,c),p=m.pendingIcons||(m.pendingIcons=new Set);p.has(d)||(p.add(d),r[u][c].push(d))}),s.forEach(l=>{const{provider:u,prefix:c}=l;r[u][c].length&&Zi(l,r[u][c])}),e?ji(e,n,s):Mt};function Yi(i,e){const t={...i};for(const n in e){const r=e[n],s=typeof r;n in an?(r===null||r&&(s==="string"||s==="number"))&&(t[n]=r):s===typeof t[n]&&(t[n]=n==="rotate"?r%4:r)}return t}const $i=/[\s,]+/;function er(i,e){e.split($i).forEach(t=>{switch(t.trim()){case"horizontal":i.hFlip=!0;break;case"vertical":i.vFlip=!0;break}})}function tr(i,e=0){const t=i.replace(/^-?[0-9.]*/,"");function n(r){for(;r<0;)r+=4;return r%4}if(t===""){const r=parseInt(i);return isNaN(r)?0:n(r)}else if(t!==i){let r=0;switch(t){case"%":r=25;break;case"deg":r=90}if(r){let s=parseFloat(i.slice(0,i.length-t.length));return isNaN(s)?0:(s=s/r,s%1===0?n(s):0)}}return e}function nr(i,e){let t=i.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)t+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+i+"</svg>"}function ir(i){return i.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function rr(i){return"data:image/svg+xml,"+ir(i)}function sr(i){return'url("'+rr(i)+'")'}const Lt={...on,inline:!1},ar={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},or={display:"inline-block"},Je={"background-color":"currentColor"},gn={"background-color":"transparent"},Ot={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Dt={"-webkit-mask":Je,mask:Je,background:gn};for(const i in Dt){const e=Dt[i];for(const t in Ot)e[i+"-"+t]=Ot[t]}function lr(i){return i+(i.match(/^[-0-9.]+$/)?"px":"")}function ur(i,e){const t=Yi(Lt,e),n=e.mode||"svg",r=n==="svg"?{...ar}:{};i.body.indexOf("xlink:")===-1&&delete r["xmlns:xlink"];let s=typeof e.style=="string"?e.style:"";for(let g in e){const h=e[g];if(h!==void 0)switch(g){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":t[g]=h===!0||h==="true"||h===1;break;case"flip":typeof h=="string"&&er(t,h);break;case"color":s=s+(s.length>0&&s.trim().slice(-1)!==";"?";":"")+"color: "+h+"; ";break;case"rotate":typeof h=="string"?t[g]=tr(h):typeof h=="number"&&(t[g]=h);break;case"ariaHidden":case"aria-hidden":h!==!0&&h!=="true"&&delete r["aria-hidden"];break;default:if(g.slice(0,3)==="on:")break;Lt[g]===void 0&&(r[g]=h)}}const a=Ti(i,t),o=a.attributes;if(t.inline&&(s="vertical-align: -0.125em; "+s),n==="svg"){Object.assign(r,o),s!==""&&(r.style=s);let g=0,h=e.id;return typeof h=="string"&&(h=h.replace(/-/g,"_")),{svg:!0,attributes:r,body:Ei(a.body,h?()=>h+"ID"+g++:"iconifySvelte")}}const{body:l,width:u,height:c}=i,d=n==="mask"||(n==="bg"?!1:l.indexOf("currentColor")!==-1),m=nr(l,{...o,width:u+"",height:c+""}),y={"--svg":sr(m)},I=g=>{const h=o[g];h&&(y[g]=lr(h))};I("width"),I("height"),Object.assign(y,or,d?Je:gn);let v="";for(const g in y)v+=g+": "+y[g]+";";return r.style=v+s,{svg:!1,attributes:r}}sn(!0);xi("",Di);if(typeof document<"u"&&typeof window<"u"){mn();const i=window;if(i.IconifyPreload!==void 0){const e=i.IconifyPreload,t="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!yi(n))&&console.error(t)}catch{console.error(t)}})}if(i.IconifyProviders!==void 0){const e=i.IconifyProviders;if(typeof e=="object"&&e!==null)for(let t in e){const n="IconifyProviders["+t+"] is invalid.";try{const r=e[t];if(typeof r!="object"||!r||r.resources===void 0)continue;Ai(t,r)||console.error(n)}catch{console.error(n)}}}}function cr(i,e,t,n,r){function s(){e.loading&&(e.loading.abort(),e.loading=null)}if(typeof i=="object"&&i!==null&&typeof i.body=="string")return e.name="",s(),{data:{...Oe,...i}};let a;if(typeof i!="string"||(a=Le(i,!1,!0))===null)return s(),null;const o=gi(a);if(!o)return t&&(!e.loading||e.loading.name!==i)&&(s(),e.name="",e.loading={name:i,abort:Qi([a],n)}),null;s(),e.name!==i&&(e.name=i,r&&!e.destroyed&&r(i));const l=["iconify"];return a.prefix!==""&&l.push("iconify--"+a.prefix),a.provider!==""&&l.push("iconify--"+a.provider),{data:o,classes:l}}function fr(i,e){return i?ur({...Oe,...i},e):null}function Ft(i){let e;function t(s,a){return s[0].svg?hr:dr}let n=t(i),r=n(i);return{c(){r.c(),e=G()},l(s){r.l(s),e=G()},m(s,a){r.m(s,a),S(s,e,a)},p(s,a){n===(n=t(s))&&r?r.p(s,a):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&b(e)}}}function dr(i){let e,t=[i[0].attributes],n={};for(let r=0;r<t.length;r+=1)n=ee(n,t[r]);return{c(){e=P("span"),this.h()},l(r){e=N(r,"SPAN",{}),O(e).forEach(b),this.h()},h(){Ce(e,n)},m(r,s){S(r,e,s)},p(r,s){Ce(e,n=Ze(t,[s&1&&r[0].attributes]))},d(r){r&&b(e)}}}function hr(i){let e,t=i[0].body+"",n=[i[0].attributes],r={};for(let s=0;s<n.length;s+=1)r=ee(r,n[s]);return{c(){e=En("svg"),this.h()},l(s){e=xn(s,"svg",{});var a=O(e);a.forEach(b),this.h()},h(){ft(e,r)},m(s,a){S(s,e,a),e.innerHTML=t},p(s,a){a&1&&t!==(t=s[0].body+"")&&(e.innerHTML=t),ft(e,r=Ze(n,[a&1&&s[0].attributes]))},d(s){s&&b(e)}}}function pr(i){let e,t=i[0]&&Ft(i);return{c(){t&&t.c(),e=G()},l(n){t&&t.l(n),e=G()},m(n,r){t&&t.m(n,r),S(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=Ft(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:be,o:be,d(n){t&&t.d(n),n&&b(e)}}}function mr(i,e,t){const n={name:"",loading:null,destroyed:!1};let r=!1,s=0,a;const o=u=>{typeof e.onLoad=="function"&&e.onLoad(u),An()("load",{icon:u})};function l(){t(3,s++,s)}return Ye(()=>{t(2,r=!0)}),In(()=>{t(1,n.destroyed=!0,n),n.loading&&(n.loading.abort(),t(1,n.loading=null,n))}),i.$$set=u=>{t(6,e=ee(ee({},e),Pe(u)))},i.$$.update=()=>{{const u=cr(e.icon,n,r,l,o);t(0,a=u?fr(u.data,e):null),a&&u.classes&&t(0,a.attributes.class=(typeof e.class=="string"?e.class+" ":"")+u.classes.join(" "),a)}},e=Pe(e),[a,n,r,s]}class Ht extends re{constructor(e){super(),se(this,e,mr,pr,ae,{})}}function Ie(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ie=function(e){return typeof e}:Ie=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(i)}function at(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function ot(i,e,t){return e&&Bt(i.prototype,e),t&&Bt(i,t),i}var V={VERSION:"2.0.16",NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},gr=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],jt=0,br=function(e){gr.forEach(function(t){t.forEach(function(n){return V.NOTES[jt]=n+e}),jt++})};for(var Re=-1;Re<=9;Re++)br(Re);var L=function(){function i(){at(this,i)}return ot(i,null,[{key:"byteToHex",value:function(t){return("0"+t.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(t){var n=[];return t.forEach(function(r){return n.push(i.byteToHex(r))}),n.join("")}},{key:"hexToNumber",value:function(t){return parseInt(t,16)}},{key:"bytesToNumber",value:function(t){return i.hexToNumber(i.bytesToHex(t))}},{key:"bytesToLetters",value:function(t){var n=[];return t.forEach(function(r){return n.push(String.fromCharCode(r))}),n.join("")}},{key:"decToBinary",value:function(t){return(t>>>0).toString(2)}},{key:"getVarIntLength",value:function(t){for(var n=t[0],r=1;n>=128;)n=t[r],r++;return r}},{key:"readVarInt",value:function(t){var n=0;return t.forEach(function(r){var s=r;s&128?(n+=s&127,n<<=7):n+=s}),n}},{key:"atob",value:function(e){function t(n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return typeof atob=="function"?atob(e):Buffer.from(e,"base64").toString("binary")})}]),i}(),yr=function(){function i(e,t){at(this,i),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=e,this.data=t,this.delta=0,this.runningDelta=0,this.events=[];var n=this.data.subarray(this.data.length-3,this.data.length);if(!(n[0]===255&&n[1]===47&&n[2]===0))throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return ot(i,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(t){t=t||0;for(var n in this.events)if(this.events[n].tick>=t)return this.eventIndex=n,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return L.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return L.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(t,n){if(n=n||!1,n){var r=t-this.lastTick,s=this.getDelta(),a=r>=s;if(this.pointer<this.data.length&&(n||a)){var o=this.parseEvent();if(this.enabled)return o}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=t&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(t){var n=L.getVarIntLength(this.data.subarray(t+2)),r=L.readVarInt(this.data.subarray(t+2,t+2+n)),s=L.bytesToLetters(this.data.subarray(t+2+n,t+2+n+r));return s}},{key:"parseEvent",value:function(){var t=this.pointer+this.getDeltaByteCount(),n={},r=this.getDeltaByteCount();if(n.track=this.index+1,n.delta=this.getDelta(),this.lastTick=this.lastTick+n.delta,this.runningDelta+=n.delta,n.tick=this.runningDelta,n.byteIndex=this.pointer,this.data[t]==255){switch(this.data[t+1]){case 0:n.name="Sequence Number";break;case 1:n.name="Text Event",n.string=this.getStringData(t);break;case 2:n.name="Copyright Notice";break;case 3:n.name="Sequence/Track Name",n.string=this.getStringData(t);break;case 4:n.name="Instrument Name",n.string=this.getStringData(t);break;case 5:n.name="Lyric",n.string=this.getStringData(t);break;case 6:n.name="Marker";break;case 7:n.name="Cue Point",n.string=this.getStringData(t);break;case 9:n.name="Device Name",n.string=this.getStringData(t);break;case 32:n.name="MIDI Channel Prefix";break;case 33:n.name="MIDI Port",n.data=L.bytesToNumber([this.data[t+3]]);break;case 47:n.name="End of Track";break;case 81:n.name="Set Tempo",n.data=Math.round(6e7/L.bytesToNumber(this.data.subarray(t+3,t+6))),this.tempo=n.data;break;case 84:n.name="SMTPE Offset";break;case 88:n.name="Time Signature",n.data=this.data.subarray(t+3,t+7),n.timeSignature=""+n.data[0]+"/"+Math.pow(2,n.data[1]);break;case 89:n.name="Key Signature",n.data=this.data.subarray(t+3,t+5),n.data[0]>=0?n.keySignature=V.CIRCLE_OF_FIFTHS[n.data[0]]:n.data[0]<0&&(n.keySignature=V.CIRCLE_OF_FOURTHS[Math.abs(n.data[0])]),n.data[1]==0?n.keySignature+=" Major":n.data[1]==1&&(n.keySignature+=" Minor");break;case 127:n.name="Sequencer-Specific Meta-event";break;default:n.name="Unknown: "+this.data[t+1].toString(16);break}var s=L.getVarIntLength(this.data.subarray(t+2)),a=L.readVarInt(this.data.subarray(t+2,t+2+s));this.pointer+=r+3+a}else if(this.data[t]===240){n.name="Sysex";var o=L.getVarIntLength(this.data.subarray(t+1)),l=L.readVarInt(this.data.subarray(t+1,t+1+o));n.data=this.data.subarray(t+1+o,t+1+o+l),this.pointer+=r+1+o+l}else if(this.data[t]===247){n.name="Sysex (escape)";var u=L.getVarIntLength(this.data.subarray(t+1)),c=L.readVarInt(this.data.subarray(t+1,t+1+u));n.data=this.data.subarray(t+1+u,t+1+u+c),this.pointer+=r+1+u+c}else if(this.data[t]<128)if(n.running=!0,n.noteNumber=this.data[t],n.noteName=V.NOTES[this.data[t]],n.velocity=this.data[t+1],this.lastStatus<=143)n.name="Note off",n.channel=this.lastStatus-128+1,this.pointer+=r+2;else if(this.lastStatus<=159)n.name="Note on",n.channel=this.lastStatus-144+1,this.pointer+=r+2;else if(this.lastStatus<=175)n.name="Polyphonic Key Pressure",n.channel=this.lastStatus-160+1,n.note=V.NOTES[this.data[t+1]],n.pressure=event[1],this.pointer+=r+2;else if(this.lastStatus<=191)n.name="Controller Change",n.channel=this.lastStatus-176+1,n.number=this.data[t+1],n.value=this.data[t+2],this.pointer+=r+2;else if(this.lastStatus<=207)n.name="Program Change",n.channel=this.lastStatus-192+1,n.value=this.data[t+1],this.pointer+=r+1;else if(this.lastStatus<=223)n.name="Channel Key Pressure",n.channel=this.lastStatus-208+1,this.pointer+=r+1;else if(this.lastStatus<=239)n.name="Pitch Bend",n.channel=this.lastStatus-224+1,n.value=this.data[t+2],this.pointer+=r+2;else throw"Unknown event (running): ".concat(this.lastStatus);else if(this.lastStatus=this.data[t],this.data[t]<=143)n.name="Note off",n.channel=this.lastStatus-128+1,n.noteNumber=this.data[t+1],n.noteName=V.NOTES[this.data[t+1]],n.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=r+3;else if(this.data[t]<=159)n.name="Note on",n.channel=this.lastStatus-144+1,n.noteNumber=this.data[t+1],n.noteName=V.NOTES[this.data[t+1]],n.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=r+3;else if(this.data[t]<=175)n.name="Polyphonic Key Pressure",n.channel=this.lastStatus-160+1,n.note=V.NOTES[this.data[t+1]],n.pressure=event[2],this.pointer+=r+3;else if(this.data[t]<=191)n.name="Controller Change",n.channel=this.lastStatus-176+1,n.number=this.data[t+1],n.value=this.data[t+2],this.pointer+=r+3;else if(this.data[t]<=207)n.name="Program Change",n.channel=this.lastStatus-192+1,n.value=this.data[t+1],this.pointer+=r+2;else if(this.data[t]<=223)n.name="Channel Key Pressure",n.channel=this.lastStatus-208+1,this.pointer+=r+2;else if(this.data[t]<=239)n.name="Pitch Bend",n.channel=this.lastStatus-224+1,this.pointer+=r+3;else throw"Unknown event: ".concat(this.data[t]);return this.delta+=n.delta,this.events.push(n),n}},{key:"endOfTrack",value:function(){return this.data[this.pointer+1]==255&&this.data[this.pointer+2]==47&&this.data[this.pointer+3]==0}}]),i}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var vr=function(){function i(e,t){at(this,i),this.sampleRate=5,this.startTime=0,this.buffer=t||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},typeof e=="function"&&this.on("midiEvent",e)}return ot(i,[{key:"loadFile",value:function(t){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(t){return this.buffer=new Uint8Array(t),this.fileLoaded()}},{key:"loadDataUri",value:function(t){for(var n=L.atob(t.split(",")[1]),r=new Uint8Array(n.length),s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return this.buffer=r,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return L.bytesToLetters(this.buffer.subarray(0,4))==="MThd"}},{key:"getFormat",value:function(){return this.format=L.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var t=0;t<this.buffer.length;){if(L.bytesToLetters(this.buffer.subarray(t,t+4))=="MTrk"){var n=L.bytesToNumber(this.buffer.subarray(t+4,t+8));this.tracks.push(new yr(this.tracks.length,this.buffer.subarray(t+8,t+8+n)))}t+=L.bytesToNumber(this.buffer.subarray(t+4,t+8))+8}var r=0;return this.tracks.forEach(function(s){r+=8+s.data.length}),this.midiChunksByteLength=V.HEADER_CHUNK_LENGTH+r,this}},{key:"enableTrack",value:function(t){return this.tracks[t-1].enable(),this}},{key:"disableTrack",value:function(t){return this.tracks[t-1].disable(),this}},{key:"getDivision",value:function(){return this.division=L.bytesToNumber(this.buffer.subarray(12,V.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(t){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(n,r){if(!t&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var s=n.handleEvent(this.tick,t);t&&s?(s.hasOwnProperty("name")&&s.name==="Set Tempo"&&(this.defaultTempo=s.data,this.setTempo(s.data)),s.hasOwnProperty("name")&&s.name==="Program Change"&&(this.instruments.includes(s.value)||this.instruments.push(s.value))):s&&(s.hasOwnProperty("name")&&s.name==="Set Tempo"&&(this.setTempo(s.data),this.isPlaying()&&this.pause().play()),this.emitEvent(s))}},this),t||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(t){return this.tempo=t,this}},{key:"setStartTime",value:function(t){return this.startTime=t,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=new Date().getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout(function(){this.playLoop(),this.loop()}.bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(t){return this.stop(),this.startTick=t,this.tracks.forEach(function(n){n.setEventIndexByTick(t)}),this}},{key:"skipToPercent",value:function(t){if(t<0||t>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(t/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(t){var n=this.getSongTime();if(t<0||t>n)throw t+" seconds not within song time of "+n;return this.skipToPercent(t/n*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||Ie(this.setIntervalId)==="object"}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(t){return t.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(t){return t.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(t){return t.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(t,n){return{events:{length:t.events.length+n.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return V.HEADER_CHUNK_LENGTH+this.tracks.length*8+this.tracks.reduce(function(t,n){return{pointer:t.pointer+n.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(t,n){return{eventIndex:t.eventIndex+n.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round((new Date().getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(t){return this.triggerPlayerEvent("midiEvent",t),this}},{key:"on",value:function(t,n){return this.eventListeners.hasOwnProperty(t)||(this.eventListeners[t]=[]),this.eventListeners[t].push(n),this}},{key:"triggerPlayerEvent",value:function(t,n){return this.eventListeners.hasOwnProperty(t)&&this.eventListeners[t].forEach(function(r){return r(n||{})}),this}}]),i}(),kr={Player:vr,Utils:L,Constants:V},_r=Object.defineProperty,Rt=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,wr=Object.prototype.propertyIsEnumerable,Ut=(i,e,t)=>e in i?_r(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Sr=(i,e)=>{for(var t in e||(e={}))Tr.call(e,t)&&Ut(i,t,e[t]);if(Rt)for(var t of Rt(e))wr.call(e,t)&&Ut(i,t,e[t]);return i},bn=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)},x=(i,e,t)=>(bn(i,e,"read from private field"),t?t.call(i):e.get(i)),z=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},U=(i,e,t,n)=>(bn(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),ce=(i,e,t)=>new Promise((n,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(i,e)).next())});function Ir(i,e,t){return ce(this,null,function*(){e=e.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const n=yield t.fetch(e);if(n.status!==200){console.warn("Error loading buffer. Invalid status: ",n.status,e);return}try{const r=yield n.arrayBuffer();return yield i.decodeAudioData(r)}catch(r){console.warn("Error loading buffer",r,e)}})}function Er(i){if(typeof document>"u")return null;const e=document.createElement("audio");for(let t=0;t<i.length;t++){const n=i[t],r=e.canPlayType(`audio/${n}`);if(r==="probably"||r==="maybe")return n;if(n==="m4a"){const s=e.canPlayType("audio/aac");if(s==="probably"||s==="maybe")return n}}return null}var xr={fetch};function Ee(i){const e=i.filter(t=>!!t);return e.reduce((t,n)=>{const r="output"in t?t.output:t,s="input"in n?n.input:n;return r.connect(s),n}),()=>{e.reduce((t,n)=>{const r="output"in t?t.output:t,s="input"in n?n.input:n;return r.disconnect(s),n})}}function Ar(i){const t=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(i);if(!t)return;const n=t[1].toUpperCase();if(!n)return;const r=t[2],s=r[0]==="b"?-r.length:r.length,a=t[3]?+t[3]:4,o=(n.charCodeAt(0)+3)%7;return[0,2,4,5,7,9,11][o]+s+12*(a+1)}function yn(i){return i===void 0?void 0:typeof i=="number"?i:Ar(i)}function Xe(i){return i*i/16129}function Cr(i,e){let t=0;for(;e[i+t]===void 0&&t<128;)t>0?t=-t:t=-t+1;return t===127?[i,0]:[i+t,-t*100]}function Pr(i){let e=i;const t=new Set;function n(a){return t.add(a),a(e),()=>{t.delete(a)}}function r(a){e=a,t.forEach(o=>o(e))}function s(){return e}return{subscribe:n,set:r,get:s}}function Nr(){const i=new Set;function e(n){return i.add(n),()=>{i.delete(n)}}function t(n){i.forEach(r=>r(n))}return{subscribe:e,trigger:t}}function Mr(i){let e=!1;return()=>{e||(e=!0,i.forEach(t=>t==null?void 0:t()))}}var Y,Q,oe,le,xe,de,Lr=class{constructor(i,e){this.context=i,z(this,Y,void 0),z(this,Q,void 0),z(this,oe,void 0),z(this,le,void 0),z(this,xe,void 0),z(this,de,void 0);var t,n;U(this,de,Object.freeze(Sr({destination:i.destination,volume:100,volumeToGain:Xe},e))),this.input=new GainNode(this.context),U(this,Y,new GainNode(this.context)),U(this,le,Ee([this.input,x(this,Y),x(this,de).destination]));const r=Pr((t=e.volume)!=null?t:100);this.setVolume=r.set;const s=(n=e.volumeToGain)!=null?n:Xe;U(this,xe,r.subscribe(a=>{x(this,Y).gain.value=s(a)}))}addInsert(i){var e;(e=x(this,oe))!=null||U(this,oe,[]),x(this,oe).push(i),x(this,le).call(this),U(this,le,Ee([this.input,...x(this,oe),x(this,Y),x(this,de).destination]))}addEffect(i,e,t){var n;const r=new GainNode(this.context);r.gain.value=t;const s="input"in e?e.input:e,a=Ee([x(this,Y),r,s]);(n=x(this,Q))!=null||U(this,Q,[]),x(this,Q).push({name:i,mix:r,disconnect:a})}sendEffect(i,e){var t;const n=(t=x(this,Q))==null?void 0:t.find(r=>r.name===i);n?n.mix.gain.value=e:console.warn("Send bus not found: "+i)}disconnect(){var i;x(this,le).call(this),x(this,xe).call(this),(i=x(this,Q))==null||i.forEach(e=>e.disconnect()),U(this,Q,void 0)}};Y=new WeakMap;Q=new WeakMap;oe=new WeakMap;le=new WeakMap;xe=new WeakMap;de=new WeakMap;function Or(i){var e,t,n;const r=i.destination.context,s=r.createBufferSource();s.buffer=i.buffer,s.detune.value=(e=i==null?void 0:i.detune)!=null?e:0;const a=i.lpfCutoffHz?new BiquadFilterNode(r,{type:"lowpass",frequency:i.lpfCutoffHz}):void 0,o=r.createGain();o.gain.value=(t=i==null?void 0:i.gain)!=null?t:1;const[l,u]=Dr(r,i.decayTime),c=Mr([Ee([s,a,o,l,i.destination]),(n=i.stop)==null?void 0:n.call(i,p=>{(p===void 0||p.stopId===void 0||p.stopId===i.stopId)&&m(p==null?void 0:p.time)})]);s.onended=()=>{var p;c(),(p=i.onEnded)==null||p.call(i)};const d=i.time||r.currentTime;s.start(d);function m(p){if(p??(p=r.currentTime),p<=d)s.stop(p);else{const y=u(p);s.stop(y)}}return i.duration!==void 0&&m(d+i.duration),m}function Dr(i,e=.2){let t=0;const n=new GainNode(i,{gain:1});function r(s){if(t)return t;n.gain.cancelScheduledValues(s);const a=s||i.currentTime;return t=a+e,n.gain.setValueAtTime(1,a),n.gain.linearRampToValueAtTime(0,t),t}return[n,r]}var R,he,Ae,pe,Fr=class{constructor(i,e={}){this.context=i,z(this,R,void 0),z(this,he,void 0),z(this,Ae,void 0),z(this,pe,void 0);var t,n,r,s,a,o,l;U(this,R,{destination:(t=e.destination)!=null?t:i.destination,detune:0,volume:(n=e.volume)!=null?n:100,velocity:(r=e.velocity)!=null?r:100,buffers:(s=e.buffers)!=null?s:{},volumeToGain:(a=e.volumeToGain)!=null?a:Xe,noteToSample:(o=e.noteToSample)!=null?o:d=>[d.note.toString(),0]}),this.buffers={},U(this,he,Nr());const u=(l=e.storage)!=null?l:xr,c=typeof x(this,R).buffers=="function"?x(this,R).buffers:Hr(x(this,R).buffers,u);U(this,Ae,c(i,this.buffers)),U(this,pe,new Lr(i,x(this,R))),this.output=x(this,pe)}loaded(){return ce(this,null,function*(){return yield x(this,Ae),this})}start(i){var e,t,n;const r=typeof i=="object"?i:{note:i},[s,a]=x(this,R).noteToSample(r,this.buffers,x(this,R)),o=this.buffers[s];if(!o)return console.warn(`Sample not found: '${s}'`),()=>{};const l=r.onEnded;return Or({buffer:o,destination:x(this,pe).input,time:r.time,duration:r.duration,decayTime:r.decayTime,lpfCutoffHz:r.lpfCutoffHz,detune:a+((e=r.detune)!=null?e:x(this,R).detune),gain:x(this,R).volumeToGain((t=r.velocity)!=null?t:x(this,R).velocity),stop:x(this,he).subscribe,stopId:(n=r.stopId)!=null?n:r.note,onEnded:l?()=>l(i):void 0})}stop(i){const e=typeof i=="object"?i:{stopId:i};x(this,he).trigger(e)}};R=new WeakMap;he=new WeakMap;Ae=new WeakMap;pe=new WeakMap;function Hr(i,e){return(t,n)=>ce(this,null,function*(){yield Promise.all([Object.keys(i).map(r=>ce(this,null,function*(){const s=i[r];if(s instanceof AudioBuffer)n[r]=s;else if(typeof s=="string"){const a=yield Ir(t,s,e);a&&(n[r]=a)}}))])})}var Br=class extends Fr{constructor(i,e){var t,n,r;const s=e.instrument.startsWith("http")?e.instrument:Gr(e.instrument,(t=e.kit)!=null?t:"MusyngKite");super(i,{destination:e.destination,detune:e.detune,volume:e.volume,velocity:e.velocity,decayTime:(n=e.decayTime)!=null?n:.5,lpfCutoffHz:e.lpfCutoffHz,buffers:jr(s),noteToSample:(l,u,c)=>{let d=yn(l.note);return d===void 0?["",0]:Cr(d,u)}});const a=(r=e.extraGain)!=null?r:5,o=new GainNode(i,{gain:a});this.output.addInsert(o)}};function jr(i){return(e,t)=>ce(this,null,function*(){const n=yield(yield fetch(i)).text(),r=Rr(n),s=Object.keys(r);yield Promise.all(s.map(a=>ce(this,null,function*(){const o=yn(a);if(!o)return;const l=Vr(Ur(r[a])),u=yield e.decodeAudioData(l);t[o]=u})))})}function Rr(i){const e=i.indexOf("MIDI.Soundfont.");if(e<0)throw Error("Invalid MIDI.js Soundfont format");const t=i.indexOf("=",e)+2,n=i.lastIndexOf(",");return JSON.parse(i.slice(t,n)+"}")}function Ur(i){return i.slice(i.indexOf(",")+1)}function Vr(i){const e=window.atob(i),t=e.length,n=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);return n.buffer}function Gr(i,e){var t;const n=(t=Er(["ogg","mp3"]))!=null?t:"mp3";return`https://gleitz.github.io/midi-js-soundfonts/${e}/${i}-${n}.js`}function zr(i){let e,t,n,r,s,a,o,l=Te(i[1])+"",u,c,d,m,p,y,I=Te(i[0])+"",v,g,h,f;t=new Ht({props:{icon:"material-symbols:play-pause"}}),s=new Ht({props:{icon:"material-symbols:stop"}});function w(_){i[6](_)}function D(_){i[7](_)}let k={step:.2};return i[1]!==void 0&&(k.value=i[1]),i[0]!==void 0&&(k.max=i[0]),d=new Un({props:k}),dt.push(()=>ht(d,"value",w)),dt.push(()=>ht(d,"max",D)),d.$on("click",function(){Cn(i[4](i[1]))&&i[4](i[1]).apply(this,arguments)}),{c(){e=P("button"),q(t.$$.fragment),n=H(),r=P("button"),q(s.$$.fragment),a=H(),o=P("span"),u=X(l),c=H(),q(d.$$.fragment),y=H(),v=X(I),this.h()},l(_){e=N(_,"BUTTON",{id:!0});var M=O(e);K(t.$$.fragment,M),M.forEach(b),n=B(_),r=N(_,"BUTTON",{id:!0});var j=O(r);K(s.$$.fragment,j),j.forEach(b),a=B(_),o=N(_,"SPAN",{});var T=O(o);u=Z(T,l),c=B(T),K(d.$$.fragment,T),y=B(T),v=Z(T,I),T.forEach(b),this.h()},h(){A(e,"id","playMIDI"),A(r,"id","stopMIDI")},m(_,M){S(_,e,M),W(t,e,null),S(_,n,M),S(_,r,M),W(s,r,null),S(_,a,M),S(_,o,M),F(o,u),F(o,c),W(d,o,null),F(o,y),F(o,v),g=!0,h||(f=[$(e,"click",i[2]),$(r,"click",i[3])],h=!0)},p(_,[M]){i=_,(!g||M&2)&&l!==(l=Te(i[1])+"")&&ge(u,l);const j={};!m&&M&2&&(m=!0,j.value=i[1],pt(()=>m=!1)),!p&&M&1&&(p=!0,j.max=i[0],pt(()=>p=!1)),d.$set(j),(!g||M&1)&&I!==(I=Te(i[0])+"")&&ge(v,I)},i(_){g||(E(t.$$.fragment,_),E(s.$$.fragment,_),E(d.$$.fragment,_),g=!0)},o(_){C(t.$$.fragment,_),C(s.$$.fragment,_),C(d.$$.fragment,_),g=!1},d(_){_&&b(e),J(t),_&&b(n),_&&b(r),J(s),_&&b(a),_&&b(o),J(d),h=!1,Jt(f)}}}function Te(i){let e=Math.floor(i/60),t=Math.floor(i-e*60);return e=e.toString().padStart(2,"0"),t=t.toString().padStart(2,"0"),`${e}:${t}`}function qr(i,e,t){let{midiFile:n=void 0}=e,r,s,a=[],o=0,l=0;const u=function(){r.isPlaying()?(r.pause(),d()):r.play()},c=function(){d(),s.suspend(),r.stop()},d=function(){for(let v=0;v<a.length;v++)a[v].stop()},m=function(v){s.resume(),v.name=="Note on"&&v.velocity>0?a[v.track-2].start({note:v.noteName,velocity:v.velocity}):v.name=="Note on"&&v.velocity==0&&a[v.track-2].stop()},p=async function(){r.isPlaying()?(await r.stop(),await r.skipToSeconds(l),u()):await r.skipToSeconds(l)};Ye(async()=>{r=new kr.Player(g=>m(g)),r.loadDataUri(n),t(0,o=r.getSongTime()),s=new AudioContext;let v=r.tracks.length-1;for(let g=0;g<v;g++){let h=await new Br(s,{instrument:"church_organ"}).loaded();a.push(h)}setInterval(function(){t(1,l=o-r.getSongTimeRemaining())},200)});function y(v){l=v,t(1,l)}function I(v){o=v,t(0,o)}return i.$$set=v=>{"midiFile"in v&&t(5,n=v.midiFile)},[o,l,u,c,p,n,y,I]}class Kr extends re{constructor(e){super(),se(this,e,qr,zr,ae,{midiFile:5})}}function Vt(i,e,t){const n=i.slice();return n[2]=e[t],n}function Gt(i){let e,t=i[2]+"",n;return{c(){e=new Pn(!1),n=G(),this.h()},l(r){e=Nn(r,!1),n=G(),this.h()},h(){e.a=n},m(r,s){e.m(t,r,s),S(r,n,s)},p(r,s){s&1&&t!==(t=r[2]+"")&&e.p(t)},d(r){r&&b(n),r&&e.d()}}}function Wr(i){let e,t,n,r;e=new Kr({props:{midiFile:i[1]}});let s=i[0],a=[];for(let o=0;o<s.length;o+=1)a[o]=Gt(Vt(i,s,o));return{c(){q(e.$$.fragment),t=H(),n=P("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){K(e.$$.fragment,o),t=B(o),n=N(o,"DIV",{id:!0});var l=O(n);for(let u=0;u<a.length;u+=1)a[u].l(l);l.forEach(b),this.h()},h(){A(n,"id","MEI-container")},m(o,l){W(e,o,l),S(o,t,l),S(o,n,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(n,null);r=!0},p(o,[l]){const u={};if(l&2&&(u.midiFile=o[1]),e.$set(u),l&1){s=o[0];let c;for(c=0;c<s.length;c+=1){const d=Vt(o,s,c);a[c]?a[c].p(d,l):(a[c]=Gt(d),a[c].c(),a[c].m(n,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}},i(o){r||(E(e.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),r=!1},d(o){J(e,o),o&&b(t),o&&b(n),Qe(a,o)}}}function Jr(i,e,t){let{meiSvg:n=void 0}=e,{meiMidi:r=void 0}=e;return i.$$set=s=>{"meiSvg"in s&&t(0,n=s.meiSvg),"meiMidi"in s&&t(1,r=s.meiMidi)},[n,r]}class Xr extends re{constructor(e){super(),se(this,e,Jr,Wr,ae,{meiSvg:0,meiMidi:1})}}function zt(i,e,t){const n=i.slice();return n[1]=e[t][0],n[2]=e[t][1],n}function qt(i){let e,t=i[1]+"",n,r,s,a;return s=new Ln({props:{content:i[2].content}}),{c(){e=P("h2"),n=X(t),r=H(),q(s.$$.fragment)},l(o){e=N(o,"H2",{});var l=O(e);n=Z(l,t),l.forEach(b),r=B(o),K(s.$$.fragment,o)},m(o,l){S(o,e,l),F(e,n),S(o,r,l),W(s,o,l),a=!0},p(o,l){(!a||l&1)&&t!==(t=o[1]+"")&&ge(n,t);const u={};l&1&&(u.content=o[2].content),s.$set(u)},i(o){a||(E(s.$$.fragment,o),a=!0)},o(o){C(s.$$.fragment,o),a=!1},d(o){o&&b(e),o&&b(r),J(s,o)}}}function Kt(i){let e,t,n=i[2].type==="md"&&qt(i);return{c(){n&&n.c(),e=G()},l(r){n&&n.l(r),e=G()},m(r,s){n&&n.m(r,s),S(r,e,s),t=!0},p(r,s){r[2].type==="md"?n?(n.p(r,s),s&1&&E(n,1)):(n=qt(r),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(te(),C(n,1,1,()=>{n=null}),ne())},i(r){t||(E(n),t=!0)},o(r){C(n),t=!1},d(r){n&&n.d(r),r&&b(e)}}}function Zr(i){let e,t,n,r,s,a,o,l,u,c;r=new ui({props:{audioPath:$e+"/content/music/media/virtualbarbershop.mp3"}});let d="mei"in i[0].view&&Wt(i);return{c(){e=P("h3"),t=X("Binaural recording test"),n=H(),q(r.$$.fragment),s=H(),a=P("h3"),o=X("MEI engraving and playback test"),l=H(),d&&d.c(),u=G()},l(m){e=N(m,"H3",{});var p=O(e);t=Z(p,"Binaural recording test"),p.forEach(b),n=B(m),K(r.$$.fragment,m),s=B(m),a=N(m,"H3",{});var y=O(a);o=Z(y,"MEI engraving and playback test"),y.forEach(b),l=B(m),d&&d.l(m),u=G()},m(m,p){S(m,e,p),F(e,t),S(m,n,p),W(r,m,p),S(m,s,p),S(m,a,p),F(a,o),S(m,l,p),d&&d.m(m,p),S(m,u,p),c=!0},p(m,p){"mei"in m[0].view?d?(d.p(m,p),p&1&&E(d,1)):(d=Wt(m),d.c(),E(d,1),d.m(u.parentNode,u)):d&&(te(),C(d,1,1,()=>{d=null}),ne())},i(m){c||(E(r.$$.fragment,m),E(d),c=!0)},o(m){C(r.$$.fragment,m),C(d),c=!1},d(m){m&&b(e),m&&b(n),J(r,m),m&&b(s),m&&b(a),m&&b(l),d&&d.d(m),m&&b(u)}}}function Qr(i){let e,t,n,r,s;return r=new ai({props:{path:$e+"/content/literature/data/Coopers_hill_1655.xml"}}),{c(){e=P("h3"),t=X("Test"),n=H(),q(r.$$.fragment)},l(a){e=N(a,"H3",{});var o=O(e);t=Z(o,"Test"),o.forEach(b),n=B(a),K(r.$$.fragment,a)},m(a,o){S(a,e,o),F(e,t),S(a,n,o),W(r,a,o),s=!0},p:be,i(a){s||(E(r.$$.fragment,a),s=!0)},o(a){C(r.$$.fragment,a),s=!1},d(a){a&&b(e),a&&b(n),J(r,a)}}}function Wt(i){let e,t;return e=new Xr({props:{meiSvg:i[0].view.mei.svg,meiMidi:i[0].view.mei.midi}}),{c(){q(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.meiSvg=n[0].view.mei.svg),r&1&&(s.meiMidi=n[0].view.mei.midi),e.$set(s)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Yr(i){let e,t,n,r,s=i[0].view.title+"",a,o,l,u,c,d,m,p=Object.entries(i[0].view.sections),y=[];for(let f=0;f<p.length;f+=1)y[f]=Kt(zt(i,p,f));const I=f=>C(y[f],1,1,()=>{y[f]=null}),v=[Qr,Zr],g=[];function h(f,w){return f[0].view.slug==="literature"?0:f[0].view.slug==="music"?1:-1}return~(u=h(i))&&(c=g[u]=v[u](i)),{c(){e=P("h1"),t=X("View page"),n=H(),r=P("h1"),a=X(s),o=H();for(let f=0;f<y.length;f+=1)y[f].c();l=H(),c&&c.c(),d=G()},l(f){e=N(f,"H1",{});var w=O(e);t=Z(w,"View page"),w.forEach(b),n=B(f),r=N(f,"H1",{});var D=O(r);a=Z(D,s),D.forEach(b),o=B(f);for(let k=0;k<y.length;k+=1)y[k].l(f);l=B(f),c&&c.l(f),d=G()},m(f,w){S(f,e,w),F(e,t),S(f,n,w),S(f,r,w),F(r,a),S(f,o,w);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(f,w);S(f,l,w),~u&&g[u].m(f,w),S(f,d,w),m=!0},p(f,[w]){if((!m||w&1)&&s!==(s=f[0].view.title+"")&&ge(a,s),w&1){p=Object.entries(f[0].view.sections);let k;for(k=0;k<p.length;k+=1){const _=zt(f,p,k);y[k]?(y[k].p(_,w),E(y[k],1)):(y[k]=Kt(_),y[k].c(),E(y[k],1),y[k].m(l.parentNode,l))}for(te(),k=p.length;k<y.length;k+=1)I(k);ne()}let D=u;u=h(f),u===D?~u&&g[u].p(f,w):(c&&(te(),C(g[D],1,1,()=>{g[D]=null}),ne()),~u?(c=g[u],c?c.p(f,w):(c=g[u]=v[u](f),c.c()),E(c,1),c.m(d.parentNode,d)):c=null)},i(f){if(!m){for(let w=0;w<p.length;w+=1)E(y[w]);E(c),m=!0}},o(f){y=y.filter(Boolean);for(let w=0;w<y.length;w+=1)C(y[w]);C(c),m=!1},d(f){f&&b(e),f&&b(n),f&&b(r),f&&b(o),Qe(y,f),f&&b(l),~u&&g[u].d(f),f&&b(d)}}}function $r(i,e,t){let{data:n}=e;return i.$$set=r=>{"data"in r&&t(0,n=r.data)},[n]}class rs extends re{constructor(e){super(),se(this,e,$r,Yr,ae,{data:0})}}export{rs as component};
